function s$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function En(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sw={exports:{}},Np={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function l$(){if(Y4)return Np;Y4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Np.Fragment=e,Np.jsx=n,Np.jsxs=n,Np}var K4;function c$(){return K4||(K4=1,Sw.exports=l$()),Sw.exports}var b=c$(),Tw={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4;function u$(){if(X4)return $t;X4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function I(ue){return ue===null||typeof ue!="object"?null:(ue=_&&ue[_]||ue["@@iterator"],typeof ue=="function"?ue:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function j(ue,pe,Te){this.props=ue,this.context=pe,this.refs=R,this.updater=Te||D}j.prototype.isReactComponent={},j.prototype.setState=function(ue,pe){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,pe,"setState")},j.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function B(){}B.prototype=j.prototype;function U(ue,pe,Te){this.props=ue,this.context=pe,this.refs=R,this.updater=Te||D}var $=U.prototype=new B;$.constructor=U,M($,j.prototype),$.isPureReactComponent=!0;var H=Array.isArray;function G(){}var L={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function F(ue,pe,Te){var Me=Te.ref;return{$$typeof:t,type:ue,key:pe,ref:Me!==void 0?Me:null,props:Te}}function ee(ue,pe){return F(ue.type,pe,ue.props)}function K(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function Q(ue){var pe={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(Te){return pe[Te]})}var X=/\/+/g;function ge(ue,pe){return typeof ue=="object"&&ue!==null&&ue.key!=null?Q(""+ue.key):pe.toString(36)}function oe(ue){switch(ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(G,G):(ue.status="pending",ue.then(function(pe){ue.status==="pending"&&(ue.status="fulfilled",ue.value=pe)},function(pe){ue.status==="pending"&&(ue.status="rejected",ue.reason=pe)})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}}throw ue}function ie(ue,pe,Te,Me,Ze){var Be=typeof ue;(Be==="undefined"||Be==="boolean")&&(ue=null);var Rt=!1;if(ue===null)Rt=!0;else switch(Be){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(ue.$$typeof){case t:case e:Rt=!0;break;case m:return Rt=ue._init,ie(Rt(ue._payload),pe,Te,Me,Ze)}}if(Rt)return Ze=Ze(ue),Rt=Me===""?"."+ge(ue,0):Me,H(Ze)?(Te="",Rt!=null&&(Te=Rt.replace(X,"$&/")+"/"),ie(Ze,pe,Te,"",function(mt){return mt})):Ze!=null&&(K(Ze)&&(Ze=ee(Ze,Te+(Ze.key==null||ue&&ue.key===Ze.key?"":(""+Ze.key).replace(X,"$&/")+"/")+Rt)),pe.push(Ze)),1;Rt=0;var vt=Me===""?".":Me+":";if(H(ue))for(var He=0;He<ue.length;He++)Me=ue[He],Be=vt+ge(Me,He),Rt+=ie(Me,pe,Te,Be,Ze);else if(He=I(ue),typeof He=="function")for(ue=He.call(ue),He=0;!(Me=ue.next()).done;)Me=Me.value,Be=vt+ge(Me,He++),Rt+=ie(Me,pe,Te,Be,Ze);else if(Be==="object"){if(typeof ue.then=="function")return ie(oe(ue),pe,Te,Me,Ze);throw pe=String(ue),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function fe(ue,pe,Te){if(ue==null)return ue;var Me=[],Ze=0;return ie(ue,Me,"","",function(Be){return pe.call(Te,Be,Ze++)}),Me}function Ae(ue){if(ue._status===-1){var pe=ue._result;pe=pe(),pe.then(function(Te){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=Te)},function(Te){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=Te)}),ue._status===-1&&(ue._status=0,ue._result=pe)}if(ue._status===1)return ue._result.default;throw ue._result}var Oe=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)},qe={map:fe,forEach:function(ue,pe,Te){fe(ue,function(){pe.apply(this,arguments)},Te)},count:function(ue){var pe=0;return fe(ue,function(){pe++}),pe},toArray:function(ue){return fe(ue,function(pe){return pe})||[]},only:function(ue){if(!K(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}};return $t.Activity=y,$t.Children=qe,$t.Component=j,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=U,$t.StrictMode=r,$t.Suspense=d,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,$t.__COMPILER_RUNTIME={__proto__:null,c:function(ue){return L.H.useMemoCache(ue)}},$t.cache=function(ue){return function(){return ue.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(ue,pe,Te){if(ue==null)throw Error("The argument must be a React element, but you passed "+ue+".");var Me=M({},ue.props),Ze=ue.key;if(pe!=null)for(Be in pe.key!==void 0&&(Ze=""+pe.key),pe)!V.call(pe,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&pe.ref===void 0||(Me[Be]=pe[Be]);var Be=arguments.length-2;if(Be===1)Me.children=Te;else if(1<Be){for(var Rt=Array(Be),vt=0;vt<Be;vt++)Rt[vt]=arguments[vt+2];Me.children=Rt}return F(ue.type,Ze,Me)},$t.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null},ue.Provider=ue,ue.Consumer={$$typeof:a,_context:ue},ue},$t.createElement=function(ue,pe,Te){var Me,Ze={},Be=null;if(pe!=null)for(Me in pe.key!==void 0&&(Be=""+pe.key),pe)V.call(pe,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(Ze[Me]=pe[Me]);var Rt=arguments.length-2;if(Rt===1)Ze.children=Te;else if(1<Rt){for(var vt=Array(Rt),He=0;He<Rt;He++)vt[He]=arguments[He+2];Ze.children=vt}if(ue&&ue.defaultProps)for(Me in Rt=ue.defaultProps,Rt)Ze[Me]===void 0&&(Ze[Me]=Rt[Me]);return F(ue,Be,Ze)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(ue){return{$$typeof:c,render:ue}},$t.isValidElement=K,$t.lazy=function(ue){return{$$typeof:m,_payload:{_status:-1,_result:ue},_init:Ae}},$t.memo=function(ue,pe){return{$$typeof:u,type:ue,compare:pe===void 0?null:pe}},$t.startTransition=function(ue){var pe=L.T,Te={};L.T=Te;try{var Me=ue(),Ze=L.S;Ze!==null&&Ze(Te,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(G,Oe)}catch(Be){Oe(Be)}finally{pe!==null&&Te.types!==null&&(pe.types=Te.types),L.T=pe}},$t.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},$t.use=function(ue){return L.H.use(ue)},$t.useActionState=function(ue,pe,Te){return L.H.useActionState(ue,pe,Te)},$t.useCallback=function(ue,pe){return L.H.useCallback(ue,pe)},$t.useContext=function(ue){return L.H.useContext(ue)},$t.useDebugValue=function(){},$t.useDeferredValue=function(ue,pe){return L.H.useDeferredValue(ue,pe)},$t.useEffect=function(ue,pe){return L.H.useEffect(ue,pe)},$t.useEffectEvent=function(ue){return L.H.useEffectEvent(ue)},$t.useId=function(){return L.H.useId()},$t.useImperativeHandle=function(ue,pe,Te){return L.H.useImperativeHandle(ue,pe,Te)},$t.useInsertionEffect=function(ue,pe){return L.H.useInsertionEffect(ue,pe)},$t.useLayoutEffect=function(ue,pe){return L.H.useLayoutEffect(ue,pe)},$t.useMemo=function(ue,pe){return L.H.useMemo(ue,pe)},$t.useOptimistic=function(ue,pe){return L.H.useOptimistic(ue,pe)},$t.useReducer=function(ue,pe,Te){return L.H.useReducer(ue,pe,Te)},$t.useRef=function(ue){return L.H.useRef(ue)},$t.useState=function(ue){return L.H.useState(ue)},$t.useSyncExternalStore=function(ue,pe,Te){return L.H.useSyncExternalStore(ue,pe,Te)},$t.useTransition=function(){return L.H.useTransition()},$t.version="19.2.3",$t}var Q4;function g0(){return Q4||(Q4=1,Tw.exports=u$()),Tw.exports}var ne=g0();const le=En(ne);var Cw={exports:{}},Rp={},Iw={exports:{}},Nw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J4;function f$(){return J4||(J4=1,(function(t){function e(ie,fe){var Ae=ie.length;ie.push(fe);e:for(;0<Ae;){var Oe=Ae-1>>>1,qe=ie[Oe];if(0<i(qe,fe))ie[Oe]=fe,ie[Ae]=qe,Ae=Oe;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],Ae=ie.pop();if(Ae!==fe){ie[0]=Ae;e:for(var Oe=0,qe=ie.length,ue=qe>>>1;Oe<ue;){var pe=2*(Oe+1)-1,Te=ie[pe],Me=pe+1,Ze=ie[Me];if(0>i(Te,Ae))Me<qe&&0>i(Ze,Te)?(ie[Oe]=Ze,ie[Me]=Ae,Oe=Me):(ie[Oe]=Te,ie[pe]=Ae,Oe=pe);else if(Me<qe&&0>i(Ze,Ae))ie[Oe]=Ze,ie[Me]=Ae,Oe=Me;else break e}}return fe}function i(ie,fe){var Ae=ie.sortIndex-fe.sortIndex;return Ae!==0?Ae:ie.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],u=[],m=1,y=null,_=3,I=!1,D=!1,M=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(ie){for(var fe=n(u);fe!==null;){if(fe.callback===null)r(u);else if(fe.startTime<=ie)r(u),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(u)}}function H(ie){if(M=!1,$(ie),!D)if(n(d)!==null)D=!0,G||(G=!0,Q());else{var fe=n(u);fe!==null&&oe(H,fe.startTime-ie)}}var G=!1,L=-1,V=5,F=-1;function ee(){return R?!0:!(t.unstable_now()-F<V)}function K(){if(R=!1,G){var ie=t.unstable_now();F=ie;var fe=!0;try{e:{D=!1,M&&(M=!1,B(L),L=-1),I=!0;var Ae=_;try{t:{for($(ie),y=n(d);y!==null&&!(y.expirationTime>ie&&ee());){var Oe=y.callback;if(typeof Oe=="function"){y.callback=null,_=y.priorityLevel;var qe=Oe(y.expirationTime<=ie);if(ie=t.unstable_now(),typeof qe=="function"){y.callback=qe,$(ie),fe=!0;break t}y===n(d)&&r(d),$(ie)}else r(d);y=n(d)}if(y!==null)fe=!0;else{var ue=n(u);ue!==null&&oe(H,ue.startTime-ie),fe=!1}}break e}finally{y=null,_=Ae,I=!1}fe=void 0}}finally{fe?Q():G=!1}}}var Q;if(typeof U=="function")Q=function(){U(K)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ge=X.port2;X.port1.onmessage=K,Q=function(){ge.postMessage(null)}}else Q=function(){j(K,0)};function oe(ie,fe){L=j(function(){ie(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var Ae=_;_=fe;try{return ie()}finally{_=Ae}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ae=_;_=ie;try{return fe()}finally{_=Ae}},t.unstable_scheduleCallback=function(ie,fe,Ae){var Oe=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Oe+Ae:Oe):Ae=Oe,ie){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=Ae+qe,ie={id:m++,callback:fe,priorityLevel:ie,startTime:Ae,expirationTime:qe,sortIndex:-1},Ae>Oe?(ie.sortIndex=Ae,e(u,ie),n(d)===null&&ie===n(u)&&(M?(B(L),L=-1):M=!0,oe(H,Ae-Oe))):(ie.sortIndex=qe,e(d,ie),D||I||(D=!0,G||(G=!0,Q()))),ie},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(ie){var fe=_;return function(){var Ae=_;_=fe;try{return ie.apply(this,arguments)}finally{_=Ae}}}})(Nw)),Nw}var Z4;function d$(){return Z4||(Z4=1,Iw.exports=f$()),Iw.exports}var Rw={exports:{}},Vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO;function h$(){if(eO)return Vi;eO=1;var t=g0();function e(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,u,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:u,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vi.createPortal=function(d,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(d,u,null,m)},Vi.flushSync=function(d){var u=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=u,r.p=m,r.d.f()}},Vi.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},Vi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Vi.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var m=u.as,y=c(m,u.crossOrigin),_=typeof u.integrity=="string"?u.integrity:void 0,I=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;m==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:I}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:I,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Vi.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var m=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},Vi.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var m=u.as,y=c(m,u.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Vi.preloadModule=function(d,u){if(typeof d=="string")if(u){var m=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},Vi.requestFormReset=function(d){r.d.r(d)},Vi.unstable_batchedUpdates=function(d,u){return d(u)},Vi.useFormState=function(d,u,m){return o.H.useFormState(d,u,m)},Vi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Vi.version="19.2.3",Vi}var tO;function p$(){if(tO)return Rw.exports;tO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rw.exports=h$(),Rw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO;function m$(){if(nO)return Rp;nO=1;var t=d$(),e=g0(),n=p$();function r(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var f=s,g=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(g=f.return),s=f.return;while(s)}return f.tag===3?g:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function c(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function u(s){var f=s.alternate;if(!f){if(f=a(s),f===null)throw Error(r(188));return f!==s?null:s}for(var g=s,w=f;;){var N=g.return;if(N===null)break;var P=N.alternate;if(P===null){if(w=N.return,w!==null){g=w;continue}break}if(N.child===P.child){for(P=N.child;P;){if(P===g)return d(N),s;if(P===w)return d(N),f;P=P.sibling}throw Error(r(188))}if(g.return!==w.return)g=N,w=P;else{for(var W=!1,re=N.child;re;){if(re===g){W=!0,g=N,w=P;break}if(re===w){W=!0,w=N,g=P;break}re=re.sibling}if(!W){for(re=P.child;re;){if(re===g){W=!0,g=P,w=N;break}if(re===w){W=!0,w=P,g=N;break}re=re.sibling}if(!W)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?s:f}function m(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=m(s),f!==null)return f;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case j:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case U:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case $:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return f=s.displayName||null,f!==null?f:ge(s.type)||"Memo";case V:f=s._payload,s=s._init;try{return ge(s(f))}catch{}}return null}var oe=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Oe=[],qe=-1;function ue(s){return{current:s}}function pe(s){0>qe||(s.current=Oe[qe],Oe[qe]=null,qe--)}function Te(s,f){qe++,Oe[qe]=s.current,s.current=f}var Me=ue(null),Ze=ue(null),Be=ue(null),Rt=ue(null);function vt(s,f){switch(Te(Be,f),Te(Ze,s),Te(Me,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?y4(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=y4(f),s=v4(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pe(Me),Te(Me,s)}function He(){pe(Me),pe(Ze),pe(Be)}function mt(s){s.memoizedState!==null&&Te(Rt,s);var f=Me.current,g=v4(f,s.type);f!==g&&(Te(Ze,s),Te(Me,g))}function lt(s){Ze.current===s&&(pe(Me),pe(Ze)),Rt.current===s&&(pe(Rt),Sp._currentValue=Ae)}var Ue,ct;function bt(s){if(Ue===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Ue=f&&f[1]||"",ct=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+s+ct}var dt=!1;function rt(s,f){if(!s||dt)return"";dt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Re){var Se=Re}Reflect.construct(s,[],je)}else{try{je.call()}catch(Re){Se=Re}s.call(je.prototype)}}else{try{throw Error()}catch(Re){Se=Re}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Re){if(Re&&Se&&typeof Re.stack=="string")return[Re.stack,Se.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=w.DetermineComponentFrameRoot(),W=P[0],re=P[1];if(W&&re){var de=W.split(`
`),Ee=re.split(`
`);for(N=w=0;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;for(;N<Ee.length&&!Ee[N].includes("DetermineComponentFrameRoot");)N++;if(w===de.length||N===Ee.length)for(w=de.length-1,N=Ee.length-1;1<=w&&0<=N&&de[w]!==Ee[N];)N--;for(;1<=w&&0<=N;w--,N--)if(de[w]!==Ee[N]){if(w!==1||N!==1)do if(w--,N--,0>N||de[w]!==Ee[N]){var Pe=`
`+de[w].replace(" at new "," at ");return s.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",s.displayName)),Pe}while(1<=w&&0<=N);break}}}finally{dt=!1,Error.prepareStackTrace=g}return(g=s?s.displayName||s.name:"")?bt(g):""}function gt(s,f){switch(s.tag){case 26:case 27:case 5:return bt(s.type);case 16:return bt("Lazy");case 13:return s.child!==f&&f!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return rt(s.type,!1);case 11:return rt(s.type.render,!1);case 1:return rt(s.type,!0);case 31:return bt("Activity");default:return""}}function wt(s){try{var f="",g=null;do f+=gt(s,g),g=s,s=s.return;while(s);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var et=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,or=t.unstable_shouldYield,nr=t.unstable_requestPaint,cn=t.unstable_now,Hn=t.unstable_getCurrentPriorityLevel,hr=t.unstable_ImmediatePriority,Da=t.unstable_UserBlockingPriority,zr=t.unstable_NormalPriority,Ir=t.unstable_LowPriority,hs=t.unstable_IdlePriority,ht=t.log,en=t.unstable_setDisableYieldValue,Wt=null,Ge=null;function It(s){if(typeof ht=="function"&&en(s),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Wt,s)}catch{}}var xt=Math.clz32?Math.clz32:lo,un=Math.log,ei=Math.LN2;function lo(s){return s>>>=0,s===0?32:31-(un(s)/ei|0)|0}var Qi=256,Zt=262144,qn=4194304;function ka(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function La(s,f,g){var w=s.pendingLanes;if(w===0)return 0;var N=0,P=s.suspendedLanes,W=s.pingedLanes;s=s.warmLanes;var re=w&134217727;return re!==0?(w=re&~P,w!==0?N=ka(w):(W&=re,W!==0?N=ka(W):g||(g=re&~s,g!==0&&(N=ka(g))))):(re=w&~P,re!==0?N=ka(re):W!==0?N=ka(W):g||(g=w&~s,g!==0&&(N=ka(g)))),N===0?0:f!==0&&f!==N&&(f&P)===0&&(P=N&-N,g=f&-f,P>=g||P===32&&(g&4194048)!==0)?f:N}function Ar(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function _u(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var s=qn;return qn<<=1,(qn&62914560)===0&&(qn=4194304),s}function vi(s){for(var f=[],g=0;31>g;g++)f.push(s);return f}function co(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ga(s,f,g,w,N,P){var W=s.pendingLanes;s.pendingLanes=g,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=g,s.entangledLanes&=g,s.errorRecoveryDisabledLanes&=g,s.shellSuspendCounter=0;var re=s.entanglements,de=s.expirationTimes,Ee=s.hiddenUpdates;for(g=W&~g;0<g;){var Pe=31-xt(g),je=1<<Pe;re[Pe]=0,de[Pe]=-1;var Se=Ee[Pe];if(Se!==null)for(Ee[Pe]=null,Pe=0;Pe<Se.length;Pe++){var Re=Se[Pe];Re!==null&&(Re.lane&=-536870913)}g&=~je}w!==0&&Gs(s,w,0),P!==0&&N===0&&s.tag!==0&&(s.suspendedLanes|=P&~(W&~f))}function Gs(s,f,g){s.pendingLanes|=f,s.suspendedLanes&=~f;var w=31-xt(f);s.entangledLanes|=f,s.entanglements[w]=s.entanglements[w]|1073741824|g&261930}function ja(s,f){var g=s.entangledLanes|=f;for(s=s.entanglements;g;){var w=31-xt(g),N=1<<w;N&f|s[w]&f&&(s[w]|=f),g&=~N}}function $s(s,f){var g=f&-f;return g=(g&42)!==0?1:Nr(g),(g&(s.suspendedLanes|f))!==0?0:g}function Nr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bi(){var s=fe.p;return s!==0?s:(s=window.event,s===void 0?32:V4(s.type))}function Je(s,f){var g=fe.p;try{return fe.p=s,f()}finally{fe.p=g}}var ci=Math.random().toString(36).slice(2),pr="__reactFiber$"+ci,_n="__reactProps$"+ci,wi="__reactContainer$"+ci,zo="__reactEvents$"+ci,ic="__reactListeners$"+ci,Ji="__reactHandles$"+ci,Pf="__reactResources$"+ci,uo="__reactMarker$"+ci;function _i(s){delete s[pr],delete s[_n],delete s[zo],delete s[ic],delete s[Ji]}function rr(s){var f=s[pr];if(f)return f;for(var g=s.parentNode;g;){if(f=g[wi]||g[pr]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(s=S4(s);s!==null;){if(g=s[pr])return g;s=S4(s)}return f}s=g,g=s.parentNode}return null}function rn(s){if(s=s[pr]||s[wi]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function ki(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(r(33))}function ti(s){var f=s[Pf];return f||(f=s[Pf]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function mr(s){s[uo]=!0}var Fe=new Set,Au={};function An(s,f){Ai(s,f),Ai(s+"Capture",f)}function Ai(s,f){for(Au[s]=f,s=0;s<f.length;s++)Fe.add(f[s])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fn={},an={};function Qt(s){return et.call(an,s)?!0:et.call(fn,s)?!1:Eu.test(s)?an[s]=!0:(fn[s]=!0,!1)}function ps(s,f,g){if(Qt(f))if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+g)}}function Ei(s,f,g){if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+g)}}function gr(s,f,g,w){if(w===null)s.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(g);return}s.setAttributeNS(f,g,""+w)}}function tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Si(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Su(s,f,g){var w=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var N=w.get,P=w.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return N.call(this)},set:function(W){g=""+W,P.call(this,W)}}),Object.defineProperty(s,f,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(W){g=""+W},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function Ot(s){if(!s._valueTracker){var f=Si(s)?"checked":"value";s._valueTracker=Su(s,f,""+s[f])}}function Li(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return s&&(w=Si(s)?s.checked?"true":"false":s.value),s=w,s!==g?(f.setValue(s),!0):!1}function fo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ya=/[\n"\\]/g;function Kt(s){return s.replace(ya,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Er(s,f,g,w,N,P,W,re){s.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.type=W:s.removeAttribute("type"),f!=null?W==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+tn(f)):s.value!==""+tn(f)&&(s.value=""+tn(f)):W!=="submit"&&W!=="reset"||s.removeAttribute("value"),f!=null?se(s,W,tn(f)):g!=null?se(s,W,tn(g)):w!=null&&s.removeAttribute("value"),N==null&&P!=null&&(s.defaultChecked=!!P),N!=null&&(s.checked=N&&typeof N!="function"&&typeof N!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?s.name=""+tn(re):s.removeAttribute("name")}function we(s,f,g,w,N,P,W,re){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.type=P),f!=null||g!=null){if(!(P!=="submit"&&P!=="reset"||f!=null)){Ot(s);return}g=g!=null?""+tn(g):"",f=f!=null?""+tn(f):g,re||f===s.value||(s.value=f),s.defaultValue=f}w=w??N,w=typeof w!="function"&&typeof w!="symbol"&&!!w,s.checked=re?s.checked:!!w,s.defaultChecked=!!w,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(s.name=W),Ot(s)}function se(s,f,g){f==="number"&&fo(s.ownerDocument)===s||s.defaultValue===""+g||(s.defaultValue=""+g)}function ut(s,f,g,w){if(s=s.options,f){f={};for(var N=0;N<g.length;N++)f["$"+g[N]]=!0;for(g=0;g<s.length;g++)N=f.hasOwnProperty("$"+s[g].value),s[g].selected!==N&&(s[g].selected=N),N&&w&&(s[g].defaultSelected=!0)}else{for(g=""+tn(g),f=null,N=0;N<s.length;N++){if(s[N].value===g){s[N].selected=!0,w&&(s[N].defaultSelected=!0);return}f!==null||s[N].disabled||(f=s[N])}f!==null&&(f.selected=!0)}}function Sr(s,f,g){if(f!=null&&(f=""+tn(f),f!==s.value&&(s.value=f),g==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=g!=null?""+tn(g):""}function jr(s,f,g,w){if(f==null){if(w!=null){if(g!=null)throw Error(r(92));if(oe(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),f=g}g=tn(f),s.defaultValue=g,w=s.textContent,w===g&&w!==""&&w!==null&&(s.value=w),Ot(s)}function ji(s,f){if(f){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=f;return}}s.textContent=f}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ui(s,f,g){var w=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":w?s.setProperty(f,g):typeof g!="number"||g===0||ac.has(f)?f==="float"?s.cssFloat=g:s[f]=(""+g).trim():s[f]=g+"px"}function yt(s,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(s=s.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?s.setProperty(w,""):w==="float"?s.cssFloat="":s[w]="");for(var N in f)w=f[N],f.hasOwnProperty(N)&&g[N]!==w&&ui(s,N,w)}else for(var P in f)f.hasOwnProperty(P)&&ui(s,P,f[P])}function kn(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(s){return ms.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Bi(){}var Ws=null;function va(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Kn=null,Ui=null;function Fi(s){var f=rn(s);if(f&&(s=f.stateNode)){var g=s[_n]||null;e:switch(s=f.stateNode,f.type){case"input":if(Er(s,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Kt(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==s&&w.form===s.form){var N=w[_n]||null;if(!N)throw Error(r(90));Er(w,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(f=0;f<g.length;f++)w=g[f],w.form===s.form&&Li(w)}break e;case"textarea":Sr(s,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ut(s,!!g.multiple,f,!1)}}}var _t=!1;function ys(s,f,g){if(_t)return s(f,g);_t=!0;try{var w=s(f);return w}finally{if(_t=!1,(Kn!==null||Ui!==null)&&(Sg(),Kn&&(f=Kn,s=Ui,Ui=Kn=null,Fi(f),s)))for(f=0;f<s.length;f++)Fi(s[f])}}function Nt(s,f){var g=s.stateNode;if(g===null)return null;var w=g[_n]||null;if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Ln)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Ys=!1}var Ba=null,Ua=null,Ks=null;function Ho(){if(Ks)return Ks;var s,f=Ua,g=f.length,w,N="value"in Ba?Ba.value:Ba.textContent,P=N.length;for(s=0;s<g&&f[s]===N[s];s++);var W=g-s;for(w=1;w<=W&&f[g-w]===N[P-w];w++);return Ks=N.slice(s,1<w?1-w:void 0)}function Fa(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function xa(){return!1}function Tr(s){function f(g,w,N,P,W){this._reactName=g,this._targetInst=N,this.type=w,this.nativeEvent=P,this.target=W,this.currentTarget=null;for(var re in s)s.hasOwnProperty(re)&&(g=s[re],this[re]=g?g(P):P[re]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Zi:xa,this.isPropagationStopped=xa,this}return y(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),f}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=Tr(ea),qo=y({},ea,{view:0,detail:0}),oc=Tr(qo),Go,sc,ho,lc=y({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ho&&(ho&&s.type==="mousemove"?(Go=s.screenX-ho.screenX,sc=s.screenY-ho.screenY):sc=Go=0,ho=s),Go)},movementY:function(s){return"movementY"in s?s.movementY:sc}}),bn=Tr(lc),vs=y({},lc,{dataTransfer:0}),Xs=Tr(vs),Va=y({},qo,{relatedTarget:0}),Qs=Tr(Va),Ce=y({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Gt=Tr(Ce),yr=y({},ea,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Js=Tr(yr),Cu=y({},ea,{data:0}),po=Tr(Cu),Df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vr(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=cc[s])?!!f[s]:!1}function mo(){return vr}var nn=y({},qo,{key:function(s){if(s.key){var f=Df[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=Fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(s){return s.type==="keypress"?Fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zs=Tr(nn),go=y({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),on=Tr(go),S=y({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),z=Tr(S),Y=y({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=Tr(Y),xe=y({},lc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Tr(xe),Ke=y({},ea,{newState:0,oldState:0}),Bt=Tr(Ke),xr=[9,13,27,32],vn=Ln&&"CompositionEvent"in window,Xn=null;Ln&&"documentMode"in document&&(Xn=document.documentMode);var ta=Ln&&"TextEvent"in window&&!Xn,yo=Ln&&(!vn||Xn&&8<Xn&&11>=Xn),fi=" ",na=!1;function el(s,f){switch(s){case"keyup":return xr.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var uc=!1;function xs(s,f){switch(s){case"compositionend":return vo(f);case"keypress":return f.which!==32?null:(na=!0,fi);case"textInput":return s=f.data,s===fi&&na?null:s;default:return null}}function Lf(s,f){if(uc)return s==="compositionend"||!vn&&el(s,f)?(s=Ho(),Ks=Ua=Ba=null,uc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return yo&&f.locale!=="ko"?null:f.data;default:return null}}var ba={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!ba[s.type]:f==="textarea"}function za(s,f,g,w){Kn?Ui?Ui.push(w):Ui=[w]:Kn=w,f=Mg(f,"onChange"),0<f.length&&(g=new sr("onChange","change",null,g,w),s.push({event:g,listeners:f}))}var Iu=null,tl=null;function Bx(s){f4(s,0)}function Nu(s){var f=ki(s);if(Li(f))return s}function Ha(s,f){if(s==="change")return f}var H0=!1;if(Ln){var Ru;if(Ln){var nl="oninput"in document;if(!nl){var dn=document.createElement("div");dn.setAttribute("oninput","return;"),nl=typeof dn.oninput=="function"}Ru=nl}else Ru=!1;H0=Ru&&(!document.documentMode||9<document.documentMode)}function Ou(){Iu&&(Iu.detachEvent("onpropertychange",J),tl=Iu=null)}function J(s){if(s.propertyName==="value"&&Nu(tl)){var f=[];za(f,tl,s,va(s)),ys(Bx,f)}}function l(s,f,g){s==="focusin"?(Ou(),Iu=f,tl=g,Iu.attachEvent("onpropertychange",J)):s==="focusout"&&Ou()}function h(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nu(tl)}function p(s,f){if(s==="click")return Nu(f)}function v(s,f){if(s==="input"||s==="change")return Nu(f)}function x(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var A=typeof Object.is=="function"?Object.is:x;function T(s,f){if(A(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var g=Object.keys(s),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var N=g[w];if(!et.call(f,N)||!A(s[N],f[N]))return!1}return!0}function O(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function k(s,f){var g=O(s);s=0;for(var w;g;){if(g.nodeType===3){if(w=s+g.textContent.length,s<=f&&w>=f)return{node:g,offset:f-s};s=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=O(g)}}function q(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?q(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function Z(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=fo(s.document);f instanceof s.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)s=f.contentWindow;else break;f=fo(s.document)}return f}function te(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var ce=Ln&&"documentMode"in document&&11>=document.documentMode,he=null,me=null,be=null,Ie=!1;function Ye(s,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ie||he==null||he!==fo(w)||(w=he,"selectionStart"in w&&te(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),be&&T(be,w)||(be=w,w=Mg(me,"onSelect"),0<w.length&&(f=new sr("onSelect","select",null,f,g),s.push({event:f,listeners:w}),f.target=he)))}function We(s,f){var g={};return g[s.toLowerCase()]=f.toLowerCase(),g["Webkit"+s]="webkit"+f,g["Moz"+s]="moz"+f,g}var ze={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionrun:We("Transition","TransitionRun"),transitionstart:We("Transition","TransitionStart"),transitioncancel:We("Transition","TransitionCancel"),transitionend:We("Transition","TransitionEnd")},Jt={},Ft={};Ln&&(Ft=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function Rr(s){if(Jt[s])return Jt[s];if(!ze[s])return s;var f=ze[s],g;for(g in f)if(f.hasOwnProperty(g)&&g in Ft)return Jt[s]=f[g];return s}var wa=Rr("animationend"),Ti=Rr("animationiteration"),jn=Rr("animationstart"),ni=Rr("transitionrun"),ra=Rr("transitionstart"),fc=Rr("transitioncancel"),rl=Rr("transitionend"),q0=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function $o(s,f){q0.set(s,f),An(f,[s])}var G0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},xo=[],jf=0,Ux=0;function $0(){for(var s=jf,f=Ux=jf=0;f<s;){var g=xo[f];xo[f++]=null;var w=xo[f];xo[f++]=null;var N=xo[f];xo[f++]=null;var P=xo[f];if(xo[f++]=null,w!==null&&N!==null){var W=w.pending;W===null?N.next=N:(N.next=W.next,W.next=N),w.pending=N}P!==0&&$N(g,N,P)}}function W0(s,f,g,w){xo[jf++]=s,xo[jf++]=f,xo[jf++]=g,xo[jf++]=w,Ux|=w,s.lanes|=w,s=s.alternate,s!==null&&(s.lanes|=w)}function Fx(s,f,g,w){return W0(s,f,g,w),Y0(s)}function Mu(s,f){return W0(s,null,null,f),Y0(s)}function $N(s,f,g){s.lanes|=g;var w=s.alternate;w!==null&&(w.lanes|=g);for(var N=!1,P=s.return;P!==null;)P.childLanes|=g,w=P.alternate,w!==null&&(w.childLanes|=g),P.tag===22&&(s=P.stateNode,s===null||s._visibility&1||(N=!0)),s=P,P=P.return;return s.tag===3?(P=s.stateNode,N&&f!==null&&(N=31-xt(g),s=P.hiddenUpdates,w=s[N],w===null?s[N]=[f]:w.push(f),f.lane=g|536870912),P):null}function Y0(s){if(50<vp)throw vp=0,Kb=null,Error(r(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var Bf={};function qq(s,f,g,w){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(s,f,g,w){return new qq(s,f,g,w)}function Vx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function il(s,f){var g=s.alternate;return g===null?(g=qa(s.tag,f,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=f,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&65011712,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,f=s.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.refCleanup=s.refCleanup,g}function WN(s,f){s.flags&=65011714;var g=s.alternate;return g===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type,f=g.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function K0(s,f,g,w,N,P){var W=0;if(w=s,typeof s=="function")Vx(s)&&(W=1);else if(typeof s=="string")W=KG(s,g,Me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=qa(31,g,f,N),s.elementType=F,s.lanes=P,s;case M:return Pu(g.children,N,P,f);case R:W=8,N|=24;break;case j:return s=qa(12,g,f,N|2),s.elementType=j,s.lanes=P,s;case H:return s=qa(13,g,f,N),s.elementType=H,s.lanes=P,s;case G:return s=qa(19,g,f,N),s.elementType=G,s.lanes=P,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:W=10;break e;case B:W=9;break e;case $:W=11;break e;case L:W=14;break e;case V:W=16,w=null;break e}W=29,g=Error(r(130,s===null?"null":typeof s,"")),w=null}return f=qa(W,g,f,N),f.elementType=s,f.type=w,f.lanes=P,f}function Pu(s,f,g,w){return s=qa(7,s,w,f),s.lanes=g,s}function zx(s,f,g){return s=qa(6,s,null,f),s.lanes=g,s}function YN(s){var f=qa(18,null,null,0);return f.stateNode=s,f}function Hx(s,f,g){return f=qa(4,s.children!==null?s.children:[],s.key,f),f.lanes=g,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var KN=new WeakMap;function bo(s,f){if(typeof s=="object"&&s!==null){var g=KN.get(s);return g!==void 0?g:(f={value:s,source:f,stack:wt(f)},KN.set(s,f),f)}return{value:s,source:f,stack:wt(f)}}var Uf=[],Ff=0,X0=null,Qh=0,wo=[],_o=0,dc=null,bs=1,ws="";function al(s,f){Uf[Ff++]=Qh,Uf[Ff++]=X0,X0=s,Qh=f}function XN(s,f,g){wo[_o++]=bs,wo[_o++]=ws,wo[_o++]=dc,dc=s;var w=bs;s=ws;var N=32-xt(w)-1;w&=~(1<<N),g+=1;var P=32-xt(f)+N;if(30<P){var W=N-N%5;P=(w&(1<<W)-1).toString(32),w>>=W,N-=W,bs=1<<32-xt(f)+N|g<<N|w,ws=P+s}else bs=1<<P|g<<N|w,ws=s}function qx(s){s.return!==null&&(al(s,1),XN(s,1,0))}function Gx(s){for(;s===X0;)X0=Uf[--Ff],Uf[Ff]=null,Qh=Uf[--Ff],Uf[Ff]=null;for(;s===dc;)dc=wo[--_o],wo[_o]=null,ws=wo[--_o],wo[_o]=null,bs=wo[--_o],wo[_o]=null}function QN(s,f){wo[_o++]=bs,wo[_o++]=ws,wo[_o++]=dc,bs=f.id,ws=f.overflow,dc=s}var Ci=null,lr=null,xn=!1,hc=null,Ao=!1,$x=Error(r(519));function pc(s){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jh(bo(f,s)),$x}function JN(s){var f=s.stateNode,g=s.type,w=s.memoizedProps;switch(f[pr]=s,f[_n]=w,g){case"dialog":ln("cancel",f),ln("close",f);break;case"iframe":case"object":case"embed":ln("load",f);break;case"video":case"audio":for(g=0;g<bp.length;g++)ln(bp[g],f);break;case"source":ln("error",f);break;case"img":case"image":case"link":ln("error",f),ln("load",f);break;case"details":ln("toggle",f);break;case"input":ln("invalid",f),we(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":ln("invalid",f);break;case"textarea":ln("invalid",f),jr(f,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||w.suppressHydrationWarning===!0||m4(f.textContent,g)?(w.popover!=null&&(ln("beforetoggle",f),ln("toggle",f)),w.onScroll!=null&&ln("scroll",f),w.onScrollEnd!=null&&ln("scrollend",f),w.onClick!=null&&(f.onclick=Bi),f=!0):f=!1,f||pc(s,!0)}function ZN(s){for(Ci=s.return;Ci;)switch(Ci.tag){case 5:case 31:case 13:Ao=!1;return;case 27:case 3:Ao=!0;return;default:Ci=Ci.return}}function Vf(s){if(s!==Ci)return!1;if(!xn)return ZN(s),xn=!0,!1;var f=s.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=s.type,g=!(g!=="form"&&g!=="button")||uw(s.type,s.memoizedProps)),g=!g),g&&lr&&pc(s),ZN(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));lr=E4(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));lr=E4(s)}else f===27?(f=lr,Ic(s.type)?(s=mw,mw=null,lr=s):lr=f):lr=Ci?So(s.stateNode.nextSibling):null;return!0}function Du(){lr=Ci=null,xn=!1}function Wx(){var s=hc;return s!==null&&(Sa===null?Sa=s:Sa.push.apply(Sa,s),hc=null),s}function Jh(s){hc===null?hc=[s]:hc.push(s)}var Yx=ue(null),ku=null,ol=null;function mc(s,f,g){Te(Yx,f._currentValue),f._currentValue=g}function sl(s){s._currentValue=Yx.current,pe(Yx)}function Kx(s,f,g){for(;s!==null;){var w=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),s===g)break;s=s.return}}function Xx(s,f,g,w){var N=s.child;for(N!==null&&(N.return=s);N!==null;){var P=N.dependencies;if(P!==null){var W=N.child;P=P.firstContext;e:for(;P!==null;){var re=P;P=N;for(var de=0;de<f.length;de++)if(re.context===f[de]){P.lanes|=g,re=P.alternate,re!==null&&(re.lanes|=g),Kx(P.return,g,s),w||(W=null);break e}P=re.next}}else if(N.tag===18){if(W=N.return,W===null)throw Error(r(341));W.lanes|=g,P=W.alternate,P!==null&&(P.lanes|=g),Kx(W,g,s),W=null}else W=N.child;if(W!==null)W.return=N;else for(W=N;W!==null;){if(W===s){W=null;break}if(N=W.sibling,N!==null){N.return=W.return,W=N;break}W=W.return}N=W}}function zf(s,f,g,w){s=null;for(var N=f,P=!1;N!==null;){if(!P){if((N.flags&524288)!==0)P=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var W=N.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var re=N.type;A(N.pendingProps.value,W.value)||(s!==null?s.push(re):s=[re])}}else if(N===Rt.current){if(W=N.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(s!==null?s.push(Sp):s=[Sp])}N=N.return}s!==null&&Xx(f,s,g,w),f.flags|=262144}function Q0(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lu(s){ku=s,ol=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ii(s){return eR(ku,s)}function J0(s,f){return ku===null&&Lu(s),eR(s,f)}function eR(s,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},ol===null){if(s===null)throw Error(r(308));ol=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else ol=ol.next=f;return g}var Gq=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(g,w){s.push(w)}};this.abort=function(){f.aborted=!0,s.forEach(function(g){return g()})}},$q=t.unstable_scheduleCallback,Wq=t.unstable_NormalPriority,Hr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qx(){return{controller:new Gq,data:new Map,refCount:0}}function Zh(s){s.refCount--,s.refCount===0&&$q(Wq,function(){s.controller.abort()})}var ep=null,Jx=0,Hf=0,qf=null;function Yq(s,f){if(ep===null){var g=ep=[];Jx=0,Hf=tw(),qf={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Jx++,f.then(tR,tR),f}function tR(){if(--Jx===0&&ep!==null){qf!==null&&(qf.status="fulfilled");var s=ep;ep=null,Hf=0,qf=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function Kq(s,f){var g=[],w={status:"pending",value:null,reason:null,then:function(N){g.push(N)}};return s.then(function(){w.status="fulfilled",w.value=f;for(var N=0;N<g.length;N++)(0,g[N])(f)},function(N){for(w.status="rejected",w.reason=N,N=0;N<g.length;N++)(0,g[N])(void 0)}),w}var nR=ie.S;ie.S=function(s,f){U3=cn(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Yq(s,f),nR!==null&&nR(s,f)};var ju=ue(null);function Zx(){var s=ju.current;return s!==null?s:Qn.pooledCache}function Z0(s,f){f===null?Te(ju,ju.current):Te(ju,f.pool)}function rR(){var s=Zx();return s===null?null:{parent:Hr._currentValue,pool:s}}var Gf=Error(r(460)),eb=Error(r(474)),eg=Error(r(542)),tg={then:function(){}};function iR(s){return s=s.status,s==="fulfilled"||s==="rejected"}function aR(s,f,g){switch(g=s[g],g===void 0?s.push(f):g!==f&&(f.then(Bi,Bi),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,sR(s),s;default:if(typeof f.status=="string")f.then(Bi,Bi);else{if(s=Qn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=f,s.status="pending",s.then(function(w){if(f.status==="pending"){var N=f;N.status="fulfilled",N.value=w}},function(w){if(f.status==="pending"){var N=f;N.status="rejected",N.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,sR(s),s}throw Uu=f,Gf}}function Bu(s){try{var f=s._init;return f(s._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Uu=g,Gf):g}}var Uu=null;function oR(){if(Uu===null)throw Error(r(459));var s=Uu;return Uu=null,s}function sR(s){if(s===Gf||s===eg)throw Error(r(483))}var $f=null,tp=0;function ng(s){var f=tp;return tp+=1,$f===null&&($f=[]),aR($f,s,f)}function np(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function rg(s,f){throw f.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(f),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function lR(s){function f(ve,ye){if(s){var _e=ve.deletions;_e===null?(ve.deletions=[ye],ve.flags|=16):_e.push(ye)}}function g(ve,ye){if(!s)return null;for(;ye!==null;)f(ve,ye),ye=ye.sibling;return null}function w(ve){for(var ye=new Map;ve!==null;)ve.key!==null?ye.set(ve.key,ve):ye.set(ve.index,ve),ve=ve.sibling;return ye}function N(ve,ye){return ve=il(ve,ye),ve.index=0,ve.sibling=null,ve}function P(ve,ye,_e){return ve.index=_e,s?(_e=ve.alternate,_e!==null?(_e=_e.index,_e<ye?(ve.flags|=67108866,ye):_e):(ve.flags|=67108866,ye)):(ve.flags|=1048576,ye)}function W(ve){return s&&ve.alternate===null&&(ve.flags|=67108866),ve}function re(ve,ye,_e,ke){return ye===null||ye.tag!==6?(ye=zx(_e,ve.mode,ke),ye.return=ve,ye):(ye=N(ye,_e),ye.return=ve,ye)}function de(ve,ye,_e,ke){var At=_e.type;return At===M?Pe(ve,ye,_e.props.children,ke,_e.key):ye!==null&&(ye.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===V&&Bu(At)===ye.type)?(ye=N(ye,_e.props),np(ye,_e),ye.return=ve,ye):(ye=K0(_e.type,_e.key,_e.props,null,ve.mode,ke),np(ye,_e),ye.return=ve,ye)}function Ee(ve,ye,_e,ke){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==_e.containerInfo||ye.stateNode.implementation!==_e.implementation?(ye=Hx(_e,ve.mode,ke),ye.return=ve,ye):(ye=N(ye,_e.children||[]),ye.return=ve,ye)}function Pe(ve,ye,_e,ke,At){return ye===null||ye.tag!==7?(ye=Pu(_e,ve.mode,ke,At),ye.return=ve,ye):(ye=N(ye,_e),ye.return=ve,ye)}function je(ve,ye,_e){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=zx(""+ye,ve.mode,_e),ye.return=ve,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return _e=K0(ye.type,ye.key,ye.props,null,ve.mode,_e),np(_e,ye),_e.return=ve,_e;case D:return ye=Hx(ye,ve.mode,_e),ye.return=ve,ye;case V:return ye=Bu(ye),je(ve,ye,_e)}if(oe(ye)||Q(ye))return ye=Pu(ye,ve.mode,_e,null),ye.return=ve,ye;if(typeof ye.then=="function")return je(ve,ng(ye),_e);if(ye.$$typeof===U)return je(ve,J0(ve,ye),_e);rg(ve,ye)}return null}function Se(ve,ye,_e,ke){var At=ye!==null?ye.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return At!==null?null:re(ve,ye,""+_e,ke);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case I:return _e.key===At?de(ve,ye,_e,ke):null;case D:return _e.key===At?Ee(ve,ye,_e,ke):null;case V:return _e=Bu(_e),Se(ve,ye,_e,ke)}if(oe(_e)||Q(_e))return At!==null?null:Pe(ve,ye,_e,ke,null);if(typeof _e.then=="function")return Se(ve,ye,ng(_e),ke);if(_e.$$typeof===U)return Se(ve,ye,J0(ve,_e),ke);rg(ve,_e)}return null}function Re(ve,ye,_e,ke,At){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ve=ve.get(_e)||null,re(ye,ve,""+ke,At);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case I:return ve=ve.get(ke.key===null?_e:ke.key)||null,de(ye,ve,ke,At);case D:return ve=ve.get(ke.key===null?_e:ke.key)||null,Ee(ye,ve,ke,At);case V:return ke=Bu(ke),Re(ve,ye,_e,ke,At)}if(oe(ke)||Q(ke))return ve=ve.get(_e)||null,Pe(ye,ve,ke,At,null);if(typeof ke.then=="function")return Re(ve,ye,_e,ng(ke),At);if(ke.$$typeof===U)return Re(ve,ye,_e,J0(ye,ke),At);rg(ye,ke)}return null}function ft(ve,ye,_e,ke){for(var At=null,Tn=null,pt=ye,Xt=ye=0,pn=null;pt!==null&&Xt<_e.length;Xt++){pt.index>Xt?(pn=pt,pt=null):pn=pt.sibling;var Cn=Se(ve,pt,_e[Xt],ke);if(Cn===null){pt===null&&(pt=pn);break}s&&pt&&Cn.alternate===null&&f(ve,pt),ye=P(Cn,ye,Xt),Tn===null?At=Cn:Tn.sibling=Cn,Tn=Cn,pt=pn}if(Xt===_e.length)return g(ve,pt),xn&&al(ve,Xt),At;if(pt===null){for(;Xt<_e.length;Xt++)pt=je(ve,_e[Xt],ke),pt!==null&&(ye=P(pt,ye,Xt),Tn===null?At=pt:Tn.sibling=pt,Tn=pt);return xn&&al(ve,Xt),At}for(pt=w(pt);Xt<_e.length;Xt++)pn=Re(pt,ve,Xt,_e[Xt],ke),pn!==null&&(s&&pn.alternate!==null&&pt.delete(pn.key===null?Xt:pn.key),ye=P(pn,ye,Xt),Tn===null?At=pn:Tn.sibling=pn,Tn=pn);return s&&pt.forEach(function(Pc){return f(ve,Pc)}),xn&&al(ve,Xt),At}function Mt(ve,ye,_e,ke){if(_e==null)throw Error(r(151));for(var At=null,Tn=null,pt=ye,Xt=ye=0,pn=null,Cn=_e.next();pt!==null&&!Cn.done;Xt++,Cn=_e.next()){pt.index>Xt?(pn=pt,pt=null):pn=pt.sibling;var Pc=Se(ve,pt,Cn.value,ke);if(Pc===null){pt===null&&(pt=pn);break}s&&pt&&Pc.alternate===null&&f(ve,pt),ye=P(Pc,ye,Xt),Tn===null?At=Pc:Tn.sibling=Pc,Tn=Pc,pt=pn}if(Cn.done)return g(ve,pt),xn&&al(ve,Xt),At;if(pt===null){for(;!Cn.done;Xt++,Cn=_e.next())Cn=je(ve,Cn.value,ke),Cn!==null&&(ye=P(Cn,ye,Xt),Tn===null?At=Cn:Tn.sibling=Cn,Tn=Cn);return xn&&al(ve,Xt),At}for(pt=w(pt);!Cn.done;Xt++,Cn=_e.next())Cn=Re(pt,ve,Xt,Cn.value,ke),Cn!==null&&(s&&Cn.alternate!==null&&pt.delete(Cn.key===null?Xt:Cn.key),ye=P(Cn,ye,Xt),Tn===null?At=Cn:Tn.sibling=Cn,Tn=Cn);return s&&pt.forEach(function(o$){return f(ve,o$)}),xn&&al(ve,Xt),At}function Wn(ve,ye,_e,ke){if(typeof _e=="object"&&_e!==null&&_e.type===M&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case I:e:{for(var At=_e.key;ye!==null;){if(ye.key===At){if(At=_e.type,At===M){if(ye.tag===7){g(ve,ye.sibling),ke=N(ye,_e.props.children),ke.return=ve,ve=ke;break e}}else if(ye.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===V&&Bu(At)===ye.type){g(ve,ye.sibling),ke=N(ye,_e.props),np(ke,_e),ke.return=ve,ve=ke;break e}g(ve,ye);break}else f(ve,ye);ye=ye.sibling}_e.type===M?(ke=Pu(_e.props.children,ve.mode,ke,_e.key),ke.return=ve,ve=ke):(ke=K0(_e.type,_e.key,_e.props,null,ve.mode,ke),np(ke,_e),ke.return=ve,ve=ke)}return W(ve);case D:e:{for(At=_e.key;ye!==null;){if(ye.key===At)if(ye.tag===4&&ye.stateNode.containerInfo===_e.containerInfo&&ye.stateNode.implementation===_e.implementation){g(ve,ye.sibling),ke=N(ye,_e.children||[]),ke.return=ve,ve=ke;break e}else{g(ve,ye);break}else f(ve,ye);ye=ye.sibling}ke=Hx(_e,ve.mode,ke),ke.return=ve,ve=ke}return W(ve);case V:return _e=Bu(_e),Wn(ve,ye,_e,ke)}if(oe(_e))return ft(ve,ye,_e,ke);if(Q(_e)){if(At=Q(_e),typeof At!="function")throw Error(r(150));return _e=At.call(_e),Mt(ve,ye,_e,ke)}if(typeof _e.then=="function")return Wn(ve,ye,ng(_e),ke);if(_e.$$typeof===U)return Wn(ve,ye,J0(ve,_e),ke);rg(ve,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ye!==null&&ye.tag===6?(g(ve,ye.sibling),ke=N(ye,_e),ke.return=ve,ve=ke):(g(ve,ye),ke=zx(_e,ve.mode,ke),ke.return=ve,ve=ke),W(ve)):g(ve,ye)}return function(ve,ye,_e,ke){try{tp=0;var At=Wn(ve,ye,_e,ke);return $f=null,At}catch(pt){if(pt===Gf||pt===eg)throw pt;var Tn=qa(29,pt,null,ve.mode);return Tn.lanes=ke,Tn.return=ve,Tn}finally{}}}var Fu=lR(!0),cR=lR(!1),gc=!1;function tb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nb(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yc(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vc(s,f,g){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,(On&2)!==0){var N=w.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),w.pending=f,f=Y0(s),$N(s,null,g),f}return W0(s,w,f,g),Y0(s)}function rp(s,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var w=f.lanes;w&=s.pendingLanes,g|=w,f.lanes=g,ja(s,g)}}function rb(s,f){var g=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var N=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};P===null?N=P=W:P=P.next=W,g=g.next}while(g!==null);P===null?N=P=f:P=P.next=f}else N=P=f;g={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:P,shared:w.shared,callbacks:w.callbacks},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=f:s.next=f,g.lastBaseUpdate=f}var ib=!1;function ip(){if(ib){var s=qf;if(s!==null)throw s}}function ap(s,f,g,w){ib=!1;var N=s.updateQueue;gc=!1;var P=N.firstBaseUpdate,W=N.lastBaseUpdate,re=N.shared.pending;if(re!==null){N.shared.pending=null;var de=re,Ee=de.next;de.next=null,W===null?P=Ee:W.next=Ee,W=de;var Pe=s.alternate;Pe!==null&&(Pe=Pe.updateQueue,re=Pe.lastBaseUpdate,re!==W&&(re===null?Pe.firstBaseUpdate=Ee:re.next=Ee,Pe.lastBaseUpdate=de))}if(P!==null){var je=N.baseState;W=0,Pe=Ee=de=null,re=P;do{var Se=re.lane&-536870913,Re=Se!==re.lane;if(Re?(hn&Se)===Se:(w&Se)===Se){Se!==0&&Se===Hf&&(ib=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var ft=s,Mt=re;Se=f;var Wn=g;switch(Mt.tag){case 1:if(ft=Mt.payload,typeof ft=="function"){je=ft.call(Wn,je,Se);break e}je=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Mt.payload,Se=typeof ft=="function"?ft.call(Wn,je,Se):ft,Se==null)break e;je=y({},je,Se);break e;case 2:gc=!0}}Se=re.callback,Se!==null&&(s.flags|=64,Re&&(s.flags|=8192),Re=N.callbacks,Re===null?N.callbacks=[Se]:Re.push(Se))}else Re={lane:Se,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Pe===null?(Ee=Pe=Re,de=je):Pe=Pe.next=Re,W|=Se;if(re=re.next,re===null){if(re=N.shared.pending,re===null)break;Re=re,re=Re.next,Re.next=null,N.lastBaseUpdate=Re,N.shared.pending=null}}while(!0);Pe===null&&(de=je),N.baseState=de,N.firstBaseUpdate=Ee,N.lastBaseUpdate=Pe,P===null&&(N.shared.lanes=0),Ac|=W,s.lanes=W,s.memoizedState=je}}function uR(s,f){if(typeof s!="function")throw Error(r(191,s));s.call(f)}function fR(s,f){var g=s.callbacks;if(g!==null)for(s.callbacks=null,s=0;s<g.length;s++)uR(g[s],f)}var Wf=ue(null),ig=ue(0);function dR(s,f){s=gl,Te(ig,s),Te(Wf,f),gl=s|f.baseLanes}function ab(){Te(ig,gl),Te(Wf,Wf.current)}function ob(){gl=ig.current,pe(Wf),pe(ig)}var Ga=ue(null),Eo=null;function xc(s){var f=s.alternate;Te(Br,Br.current&1),Te(Ga,s),Eo===null&&(f===null||Wf.current!==null||f.memoizedState!==null)&&(Eo=s)}function sb(s){Te(Br,Br.current),Te(Ga,s),Eo===null&&(Eo=s)}function hR(s){s.tag===22?(Te(Br,Br.current),Te(Ga,s),Eo===null&&(Eo=s)):bc()}function bc(){Te(Br,Br.current),Te(Ga,Ga.current)}function $a(s){pe(Ga),Eo===s&&(Eo=null),pe(Br)}var Br=ue(0);function ag(s){for(var f=s;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||hw(g)||pw(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ll=0,Yt=null,Gn=null,qr=null,og=!1,Yf=!1,Vu=!1,sg=0,op=0,Kf=null,Xq=0;function Or(){throw Error(r(321))}function lb(s,f){if(f===null)return!1;for(var g=0;g<f.length&&g<s.length;g++)if(!A(s[g],f[g]))return!1;return!0}function cb(s,f,g,w,N,P){return ll=P,Yt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ie.H=s===null||s.memoizedState===null?XR:Eb,Vu=!1,P=g(w,N),Vu=!1,Yf&&(P=mR(f,g,w,N)),pR(s),P}function pR(s){ie.H=cp;var f=Gn!==null&&Gn.next!==null;if(ll=0,qr=Gn=Yt=null,og=!1,op=0,Kf=null,f)throw Error(r(300));s===null||Gr||(s=s.dependencies,s!==null&&Q0(s)&&(Gr=!0))}function mR(s,f,g,w){Yt=s;var N=0;do{if(Yf&&(Kf=null),op=0,Yf=!1,25<=N)throw Error(r(301));if(N+=1,qr=Gn=null,s.updateQueue!=null){var P=s.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}ie.H=QR,P=f(g,w)}while(Yf);return P}function Qq(){var s=ie.H,f=s.useState()[0];return f=typeof f.then=="function"?sp(f):f,s=s.useState()[0],(Gn!==null?Gn.memoizedState:null)!==s&&(Yt.flags|=1024),f}function ub(){var s=sg!==0;return sg=0,s}function fb(s,f,g){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~g}function db(s){if(og){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}og=!1}ll=0,qr=Gn=Yt=null,Yf=!1,op=sg=0,Kf=null}function ia(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?Yt.memoizedState=qr=s:qr=qr.next=s,qr}function Ur(){if(Gn===null){var s=Yt.alternate;s=s!==null?s.memoizedState:null}else s=Gn.next;var f=qr===null?Yt.memoizedState:qr.next;if(f!==null)qr=f,Gn=s;else{if(s===null)throw Yt.alternate===null?Error(r(467)):Error(r(310));Gn=s,s={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},qr===null?Yt.memoizedState=qr=s:qr=qr.next=s}return qr}function lg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sp(s){var f=op;return op+=1,Kf===null&&(Kf=[]),s=aR(Kf,s,f),f=Yt,(qr===null?f.memoizedState:qr.next)===null&&(f=f.alternate,ie.H=f===null||f.memoizedState===null?XR:Eb),s}function cg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return sp(s);if(s.$$typeof===U)return Ii(s)}throw Error(r(438,String(s)))}function hb(s){var f=null,g=Yt.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var w=Yt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(N){return N.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=lg(),Yt.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(s),w=0;w<s;w++)g[w]=ee;return f.index++,g}function cl(s,f){return typeof f=="function"?f(s):f}function ug(s){var f=Ur();return pb(f,Gn,s)}function pb(s,f,g){var w=s.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var N=s.baseQueue,P=w.pending;if(P!==null){if(N!==null){var W=N.next;N.next=P.next,P.next=W}f.baseQueue=N=P,w.pending=null}if(P=s.baseState,N===null)s.memoizedState=P;else{f=N.next;var re=W=null,de=null,Ee=f,Pe=!1;do{var je=Ee.lane&-536870913;if(je!==Ee.lane?(hn&je)===je:(ll&je)===je){var Se=Ee.revertLane;if(Se===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),je===Hf&&(Pe=!0);else if((ll&Se)===Se){Ee=Ee.next,Se===Hf&&(Pe=!0);continue}else je={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},de===null?(re=de=je,W=P):de=de.next=je,Yt.lanes|=Se,Ac|=Se;je=Ee.action,Vu&&g(P,je),P=Ee.hasEagerState?Ee.eagerState:g(P,je)}else Se={lane:je,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},de===null?(re=de=Se,W=P):de=de.next=Se,Yt.lanes|=je,Ac|=je;Ee=Ee.next}while(Ee!==null&&Ee!==f);if(de===null?W=P:de.next=re,!A(P,s.memoizedState)&&(Gr=!0,Pe&&(g=qf,g!==null)))throw g;s.memoizedState=P,s.baseState=W,s.baseQueue=de,w.lastRenderedState=P}return N===null&&(w.lanes=0),[s.memoizedState,w.dispatch]}function mb(s){var f=Ur(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=s;var w=g.dispatch,N=g.pending,P=f.memoizedState;if(N!==null){g.pending=null;var W=N=N.next;do P=s(P,W.action),W=W.next;while(W!==N);A(P,f.memoizedState)||(Gr=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),g.lastRenderedState=P}return[P,w]}function gR(s,f,g){var w=Yt,N=Ur(),P=xn;if(P){if(g===void 0)throw Error(r(407));g=g()}else g=f();var W=!A((Gn||N).memoizedState,g);if(W&&(N.memoizedState=g,Gr=!0),N=N.queue,vb(xR.bind(null,w,N,s),[s]),N.getSnapshot!==f||W||qr!==null&&qr.memoizedState.tag&1){if(w.flags|=2048,Xf(9,{destroy:void 0},vR.bind(null,w,N,g,f),null),Qn===null)throw Error(r(349));P||(ll&127)!==0||yR(w,f,g)}return g}function yR(s,f,g){s.flags|=16384,s={getSnapshot:f,value:g},f=Yt.updateQueue,f===null?(f=lg(),Yt.updateQueue=f,f.stores=[s]):(g=f.stores,g===null?f.stores=[s]:g.push(s))}function vR(s,f,g,w){f.value=g,f.getSnapshot=w,bR(f)&&wR(s)}function xR(s,f,g){return g(function(){bR(f)&&wR(s)})}function bR(s){var f=s.getSnapshot;s=s.value;try{var g=f();return!A(s,g)}catch{return!0}}function wR(s){var f=Mu(s,2);f!==null&&Ta(f,s,2)}function gb(s){var f=ia();if(typeof s=="function"){var g=s;if(s=g(),Vu){It(!0);try{g()}finally{It(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:s},f}function _R(s,f,g,w){return s.baseState=g,pb(s,Gn,typeof w=="function"?w:cl)}function Jq(s,f,g,w,N){if(hg(s))throw Error(r(485));if(s=f.action,s!==null){var P={payload:N,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){P.listeners.push(W)}};ie.T!==null?g(!0):P.isTransition=!1,w(P),g=f.pending,g===null?(P.next=f.pending=P,AR(f,P)):(P.next=g.next,f.pending=g.next=P)}}function AR(s,f){var g=f.action,w=f.payload,N=s.state;if(f.isTransition){var P=ie.T,W={};ie.T=W;try{var re=g(N,w),de=ie.S;de!==null&&de(W,re),ER(s,f,re)}catch(Ee){yb(s,f,Ee)}finally{P!==null&&W.types!==null&&(P.types=W.types),ie.T=P}}else try{P=g(N,w),ER(s,f,P)}catch(Ee){yb(s,f,Ee)}}function ER(s,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){SR(s,f,w)},function(w){return yb(s,f,w)}):SR(s,f,g)}function SR(s,f,g){f.status="fulfilled",f.value=g,TR(f),s.state=g,f=s.pending,f!==null&&(g=f.next,g===f?s.pending=null:(g=g.next,f.next=g,AR(s,g)))}function yb(s,f,g){var w=s.pending;if(s.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=g,TR(f),f=f.next;while(f!==w)}s.action=null}function TR(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function CR(s,f){return f}function IR(s,f){if(xn){var g=Qn.formState;if(g!==null){e:{var w=Yt;if(xn){if(lr){t:{for(var N=lr,P=Ao;N.nodeType!==8;){if(!P){N=null;break t}if(N=So(N.nextSibling),N===null){N=null;break t}}P=N.data,N=P==="F!"||P==="F"?N:null}if(N){lr=So(N.nextSibling),w=N.data==="F!";break e}}pc(w)}w=!1}w&&(f=g[0])}}return g=ia(),g.memoizedState=g.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CR,lastRenderedState:f},g.queue=w,g=WR.bind(null,Yt,w),w.dispatch=g,w=gb(!1),P=Ab.bind(null,Yt,!1,w.queue),w=ia(),N={state:f,dispatch:null,action:s,pending:null},w.queue=N,g=Jq.bind(null,Yt,N,P,g),N.dispatch=g,w.memoizedState=s,[f,g,!1]}function NR(s){var f=Ur();return RR(f,Gn,s)}function RR(s,f,g){if(f=pb(s,f,CR)[0],s=ug(cl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var w=sp(f)}catch(W){throw W===Gf?eg:W}else w=f;f=Ur();var N=f.queue,P=N.dispatch;return g!==f.memoizedState&&(Yt.flags|=2048,Xf(9,{destroy:void 0},Zq.bind(null,N,g),null)),[w,P,s]}function Zq(s,f){s.action=f}function OR(s){var f=Ur(),g=Gn;if(g!==null)return RR(f,g,s);Ur(),f=f.memoizedState,g=Ur();var w=g.queue.dispatch;return g.memoizedState=s,[f,w,!1]}function Xf(s,f,g,w){return s={tag:s,create:g,deps:w,inst:f,next:null},f=Yt.updateQueue,f===null&&(f=lg(),Yt.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=s.next=s:(w=g.next,g.next=s,s.next=w,f.lastEffect=s),s}function MR(){return Ur().memoizedState}function fg(s,f,g,w){var N=ia();Yt.flags|=s,N.memoizedState=Xf(1|f,{destroy:void 0},g,w===void 0?null:w)}function dg(s,f,g,w){var N=Ur();w=w===void 0?null:w;var P=N.memoizedState.inst;Gn!==null&&w!==null&&lb(w,Gn.memoizedState.deps)?N.memoizedState=Xf(f,P,g,w):(Yt.flags|=s,N.memoizedState=Xf(1|f,P,g,w))}function PR(s,f){fg(8390656,8,s,f)}function vb(s,f){dg(2048,8,s,f)}function eG(s){Yt.flags|=4;var f=Yt.updateQueue;if(f===null)f=lg(),Yt.updateQueue=f,f.events=[s];else{var g=f.events;g===null?f.events=[s]:g.push(s)}}function DR(s){var f=Ur().memoizedState;return eG({ref:f,nextImpl:s}),function(){if((On&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function kR(s,f){return dg(4,2,s,f)}function LR(s,f){return dg(4,4,s,f)}function jR(s,f){if(typeof f=="function"){s=s();var g=f(s);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function BR(s,f,g){g=g!=null?g.concat([s]):null,dg(4,4,jR.bind(null,f,s),g)}function xb(){}function UR(s,f){var g=Ur();f=f===void 0?null:f;var w=g.memoizedState;return f!==null&&lb(f,w[1])?w[0]:(g.memoizedState=[s,f],s)}function FR(s,f){var g=Ur();f=f===void 0?null:f;var w=g.memoizedState;if(f!==null&&lb(f,w[1]))return w[0];if(w=s(),Vu){It(!0);try{s()}finally{It(!1)}}return g.memoizedState=[w,f],w}function bb(s,f,g){return g===void 0||(ll&1073741824)!==0&&(hn&261930)===0?s.memoizedState=f:(s.memoizedState=g,s=V3(),Yt.lanes|=s,Ac|=s,g)}function VR(s,f,g,w){return A(g,f)?g:Wf.current!==null?(s=bb(s,g,w),A(s,f)||(Gr=!0),s):(ll&42)===0||(ll&1073741824)!==0&&(hn&261930)===0?(Gr=!0,s.memoizedState=g):(s=V3(),Yt.lanes|=s,Ac|=s,f)}function zR(s,f,g,w,N){var P=fe.p;fe.p=P!==0&&8>P?P:8;var W=ie.T,re={};ie.T=re,Ab(s,!1,f,g);try{var de=N(),Ee=ie.S;if(Ee!==null&&Ee(re,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Pe=Kq(de,w);lp(s,f,Pe,Ka(s))}else lp(s,f,w,Ka(s))}catch(je){lp(s,f,{then:function(){},status:"rejected",reason:je},Ka())}finally{fe.p=P,W!==null&&re.types!==null&&(W.types=re.types),ie.T=W}}function tG(){}function wb(s,f,g,w){if(s.tag!==5)throw Error(r(476));var N=HR(s).queue;zR(s,N,f,Ae,g===null?tG:function(){return qR(s),g(w)})}function HR(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:Ae},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:g},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function qR(s){var f=HR(s);f.next===null&&(f=s.alternate.memoizedState),lp(s,f.next.queue,{},Ka())}function _b(){return Ii(Sp)}function GR(){return Ur().memoizedState}function $R(){return Ur().memoizedState}function nG(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ka();s=yc(g);var w=vc(f,s,g);w!==null&&(Ta(w,f,g),rp(w,f,g)),f={cache:Qx()},s.payload=f;return}f=f.return}}function rG(s,f,g){var w=Ka();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},hg(s)?YR(f,g):(g=Fx(s,f,g,w),g!==null&&(Ta(g,s,w),KR(g,f,w)))}function WR(s,f,g){var w=Ka();lp(s,f,g,w)}function lp(s,f,g,w){var N={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(hg(s))YR(f,N);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var W=f.lastRenderedState,re=P(W,g);if(N.hasEagerState=!0,N.eagerState=re,A(re,W))return W0(s,f,N,0),Qn===null&&$0(),!1}catch{}finally{}if(g=Fx(s,f,N,w),g!==null)return Ta(g,s,w),KR(g,f,w),!0}return!1}function Ab(s,f,g,w){if(w={lane:2,revertLane:tw(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},hg(s)){if(f)throw Error(r(479))}else f=Fx(s,g,w,2),f!==null&&Ta(f,s,2)}function hg(s){var f=s.alternate;return s===Yt||f!==null&&f===Yt}function YR(s,f){Yf=og=!0;var g=s.pending;g===null?f.next=f:(f.next=g.next,g.next=f),s.pending=f}function KR(s,f,g){if((g&4194048)!==0){var w=f.lanes;w&=s.pendingLanes,g|=w,f.lanes=g,ja(s,g)}}var cp={readContext:Ii,use:cg,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or,useHostTransitionStatus:Or,useFormState:Or,useActionState:Or,useOptimistic:Or,useMemoCache:Or,useCacheRefresh:Or};cp.useEffectEvent=Or;var XR={readContext:Ii,use:cg,useCallback:function(s,f){return ia().memoizedState=[s,f===void 0?null:f],s},useContext:Ii,useEffect:PR,useImperativeHandle:function(s,f,g){g=g!=null?g.concat([s]):null,fg(4194308,4,jR.bind(null,f,s),g)},useLayoutEffect:function(s,f){return fg(4194308,4,s,f)},useInsertionEffect:function(s,f){fg(4,2,s,f)},useMemo:function(s,f){var g=ia();f=f===void 0?null:f;var w=s();if(Vu){It(!0);try{s()}finally{It(!1)}}return g.memoizedState=[w,f],w},useReducer:function(s,f,g){var w=ia();if(g!==void 0){var N=g(f);if(Vu){It(!0);try{g(f)}finally{It(!1)}}}else N=f;return w.memoizedState=w.baseState=N,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:N},w.queue=s,s=s.dispatch=rG.bind(null,Yt,s),[w.memoizedState,s]},useRef:function(s){var f=ia();return s={current:s},f.memoizedState=s},useState:function(s){s=gb(s);var f=s.queue,g=WR.bind(null,Yt,f);return f.dispatch=g,[s.memoizedState,g]},useDebugValue:xb,useDeferredValue:function(s,f){var g=ia();return bb(g,s,f)},useTransition:function(){var s=gb(!1);return s=zR.bind(null,Yt,s.queue,!0,!1),ia().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,g){var w=Yt,N=ia();if(xn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),Qn===null)throw Error(r(349));(hn&127)!==0||yR(w,f,g)}N.memoizedState=g;var P={value:g,getSnapshot:f};return N.queue=P,PR(xR.bind(null,w,P,s),[s]),w.flags|=2048,Xf(9,{destroy:void 0},vR.bind(null,w,P,g,f),null),g},useId:function(){var s=ia(),f=Qn.identifierPrefix;if(xn){var g=ws,w=bs;g=(w&~(1<<32-xt(w)-1)).toString(32)+g,f="_"+f+"R_"+g,g=sg++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Xq++,f="_"+f+"r_"+g.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:_b,useFormState:IR,useActionState:IR,useOptimistic:function(s){var f=ia();f.memoizedState=f.baseState=s;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Ab.bind(null,Yt,!0,g),g.dispatch=f,[s,f]},useMemoCache:hb,useCacheRefresh:function(){return ia().memoizedState=nG.bind(null,Yt)},useEffectEvent:function(s){var f=ia(),g={impl:s};return f.memoizedState=g,function(){if((On&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},Eb={readContext:Ii,use:cg,useCallback:UR,useContext:Ii,useEffect:vb,useImperativeHandle:BR,useInsertionEffect:kR,useLayoutEffect:LR,useMemo:FR,useReducer:ug,useRef:MR,useState:function(){return ug(cl)},useDebugValue:xb,useDeferredValue:function(s,f){var g=Ur();return VR(g,Gn.memoizedState,s,f)},useTransition:function(){var s=ug(cl)[0],f=Ur().memoizedState;return[typeof s=="boolean"?s:sp(s),f]},useSyncExternalStore:gR,useId:GR,useHostTransitionStatus:_b,useFormState:NR,useActionState:NR,useOptimistic:function(s,f){var g=Ur();return _R(g,Gn,s,f)},useMemoCache:hb,useCacheRefresh:$R};Eb.useEffectEvent=DR;var QR={readContext:Ii,use:cg,useCallback:UR,useContext:Ii,useEffect:vb,useImperativeHandle:BR,useInsertionEffect:kR,useLayoutEffect:LR,useMemo:FR,useReducer:mb,useRef:MR,useState:function(){return mb(cl)},useDebugValue:xb,useDeferredValue:function(s,f){var g=Ur();return Gn===null?bb(g,s,f):VR(g,Gn.memoizedState,s,f)},useTransition:function(){var s=mb(cl)[0],f=Ur().memoizedState;return[typeof s=="boolean"?s:sp(s),f]},useSyncExternalStore:gR,useId:GR,useHostTransitionStatus:_b,useFormState:OR,useActionState:OR,useOptimistic:function(s,f){var g=Ur();return Gn!==null?_R(g,Gn,s,f):(g.baseState=s,[s,g.queue.dispatch])},useMemoCache:hb,useCacheRefresh:$R};QR.useEffectEvent=DR;function Sb(s,f,g,w){f=s.memoizedState,g=g(w,f),g=g==null?f:y({},f,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Tb={enqueueSetState:function(s,f,g){s=s._reactInternals;var w=Ka(),N=yc(w);N.payload=f,g!=null&&(N.callback=g),f=vc(s,N,w),f!==null&&(Ta(f,s,w),rp(f,s,w))},enqueueReplaceState:function(s,f,g){s=s._reactInternals;var w=Ka(),N=yc(w);N.tag=1,N.payload=f,g!=null&&(N.callback=g),f=vc(s,N,w),f!==null&&(Ta(f,s,w),rp(f,s,w))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var g=Ka(),w=yc(g);w.tag=2,f!=null&&(w.callback=f),f=vc(s,w,g),f!==null&&(Ta(f,s,g),rp(f,s,g))}};function JR(s,f,g,w,N,P,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,P,W):f.prototype&&f.prototype.isPureReactComponent?!T(g,w)||!T(N,P):!0}function ZR(s,f,g,w){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==s&&Tb.enqueueReplaceState(f,f.state,null)}function zu(s,f){var g=f;if("ref"in f){g={};for(var w in f)w!=="ref"&&(g[w]=f[w])}if(s=s.defaultProps){g===f&&(g=y({},g));for(var N in s)g[N]===void 0&&(g[N]=s[N])}return g}function e3(s){G0(s)}function t3(s){console.error(s)}function n3(s){G0(s)}function pg(s,f){try{var g=s.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function r3(s,f,g){try{var w=s.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Cb(s,f,g){return g=yc(g),g.tag=3,g.payload={element:null},g.callback=function(){pg(s,f)},g}function i3(s){return s=yc(s),s.tag=3,s}function a3(s,f,g,w){var N=g.type.getDerivedStateFromError;if(typeof N=="function"){var P=w.value;s.payload=function(){return N(P)},s.callback=function(){r3(f,g,w)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(s.callback=function(){r3(f,g,w),typeof N!="function"&&(Ec===null?Ec=new Set([this]):Ec.add(this));var re=w.stack;this.componentDidCatch(w.value,{componentStack:re!==null?re:""})})}function iG(s,f,g,w,N){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=g.alternate,f!==null&&zf(f,g,N,!0),g=Ga.current,g!==null){switch(g.tag){case 31:case 13:return Eo===null?Tg():g.alternate===null&&Mr===0&&(Mr=3),g.flags&=-257,g.flags|=65536,g.lanes=N,w===tg?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([w]):f.add(w),Jb(s,w,N)),!1;case 22:return g.flags|=65536,w===tg?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([w]):g.add(w)),Jb(s,w,N)),!1}throw Error(r(435,g.tag))}return Jb(s,w,N),Tg(),!1}if(xn)return f=Ga.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=N,w!==$x&&(s=Error(r(422),{cause:w}),Jh(bo(s,g)))):(w!==$x&&(f=Error(r(423),{cause:w}),Jh(bo(f,g))),s=s.current.alternate,s.flags|=65536,N&=-N,s.lanes|=N,w=bo(w,g),N=Cb(s.stateNode,w,N),rb(s,N),Mr!==4&&(Mr=2)),!1;var P=Error(r(520),{cause:w});if(P=bo(P,g),yp===null?yp=[P]:yp.push(P),Mr!==4&&(Mr=2),f===null)return!0;w=bo(w,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,s=N&-N,g.lanes|=s,s=Cb(g.stateNode,w,s),rb(g,s),!1;case 1:if(f=g.type,P=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Ec===null||!Ec.has(P))))return g.flags|=65536,N&=-N,g.lanes|=N,N=i3(N),a3(N,s,g,w),rb(g,N),!1}g=g.return}while(g!==null);return!1}var Ib=Error(r(461)),Gr=!1;function Ni(s,f,g,w){f.child=s===null?cR(f,null,g,w):Fu(f,s.child,g,w)}function o3(s,f,g,w,N){g=g.render;var P=f.ref;if("ref"in w){var W={};for(var re in w)re!=="ref"&&(W[re]=w[re])}else W=w;return Lu(f),w=cb(s,f,g,W,P,N),re=ub(),s!==null&&!Gr?(fb(s,f,N),ul(s,f,N)):(xn&&re&&qx(f),f.flags|=1,Ni(s,f,w,N),f.child)}function s3(s,f,g,w,N){if(s===null){var P=g.type;return typeof P=="function"&&!Vx(P)&&P.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=P,l3(s,f,P,w,N)):(s=K0(g.type,null,w,f,f.mode,N),s.ref=f.ref,s.return=f,f.child=s)}if(P=s.child,!Lb(s,N)){var W=P.memoizedProps;if(g=g.compare,g=g!==null?g:T,g(W,w)&&s.ref===f.ref)return ul(s,f,N)}return f.flags|=1,s=il(P,w),s.ref=f.ref,s.return=f,f.child=s}function l3(s,f,g,w,N){if(s!==null){var P=s.memoizedProps;if(T(P,w)&&s.ref===f.ref)if(Gr=!1,f.pendingProps=w=P,Lb(s,N))(s.flags&131072)!==0&&(Gr=!0);else return f.lanes=s.lanes,ul(s,f,N)}return Nb(s,f,g,w,N)}function c3(s,f,g,w){var N=w.children,P=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|g:g,s!==null){for(w=f.child=s.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;w=N&~P}else w=0,f.child=null;return u3(s,f,P,g,w)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&Z0(f,P!==null?P.cachePool:null),P!==null?dR(f,P):ab(),hR(f);else return w=f.lanes=536870912,u3(s,f,P!==null?P.baseLanes|g:g,g,w)}else P!==null?(Z0(f,P.cachePool),dR(f,P),bc(),f.memoizedState=null):(s!==null&&Z0(f,null),ab(),bc());return Ni(s,f,N,g),f.child}function up(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function u3(s,f,g,w,N){var P=Zx();return P=P===null?null:{parent:Hr._currentValue,pool:P},f.memoizedState={baseLanes:g,cachePool:P},s!==null&&Z0(f,null),ab(),hR(f),s!==null&&zf(s,f,w,!0),f.childLanes=N,null}function mg(s,f){return f=yg({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function f3(s,f,g){return Fu(f,s.child,null,g),s=mg(f,f.pendingProps),s.flags|=2,$a(f),f.memoizedState=null,s}function aG(s,f,g){var w=f.pendingProps,N=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(xn){if(w.mode==="hidden")return s=mg(f,w),f.lanes=536870912,up(null,s);if(sb(f),(s=lr)?(s=A4(s,Ao),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:dc!==null?{id:bs,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},g=YN(s),g.return=f,f.child=g,Ci=f,lr=null)):s=null,s===null)throw pc(f);return f.lanes=536870912,null}return mg(f,w)}var P=s.memoizedState;if(P!==null){var W=P.dehydrated;if(sb(f),N)if(f.flags&256)f.flags&=-257,f=f3(s,f,g);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(r(558));else if(Gr||zf(s,f,g,!1),N=(g&s.childLanes)!==0,Gr||N){if(w=Qn,w!==null&&(W=$s(w,g),W!==0&&W!==P.retryLane))throw P.retryLane=W,Mu(s,W),Ta(w,s,W),Ib;Tg(),f=f3(s,f,g)}else s=P.treeContext,lr=So(W.nextSibling),Ci=f,xn=!0,hc=null,Ao=!1,s!==null&&QN(f,s),f=mg(f,w),f.flags|=4096;return f}return s=il(s.child,{mode:w.mode,children:w.children}),s.ref=f.ref,f.child=s,s.return=f,s}function gg(s,f){var g=f.ref;if(g===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(s===null||s.ref!==g)&&(f.flags|=4194816)}}function Nb(s,f,g,w,N){return Lu(f),g=cb(s,f,g,w,void 0,N),w=ub(),s!==null&&!Gr?(fb(s,f,N),ul(s,f,N)):(xn&&w&&qx(f),f.flags|=1,Ni(s,f,g,N),f.child)}function d3(s,f,g,w,N,P){return Lu(f),f.updateQueue=null,g=mR(f,w,g,N),pR(s),w=ub(),s!==null&&!Gr?(fb(s,f,P),ul(s,f,P)):(xn&&w&&qx(f),f.flags|=1,Ni(s,f,g,P),f.child)}function h3(s,f,g,w,N){if(Lu(f),f.stateNode===null){var P=Bf,W=g.contextType;typeof W=="object"&&W!==null&&(P=Ii(W)),P=new g(w,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Tb,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=w,P.state=f.memoizedState,P.refs={},tb(f),W=g.contextType,P.context=typeof W=="object"&&W!==null?Ii(W):Bf,P.state=f.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(Sb(f,g,W,w),P.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(W=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),W!==P.state&&Tb.enqueueReplaceState(P,P.state,null),ap(f,w,P,N),ip(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(s===null){P=f.stateNode;var re=f.memoizedProps,de=zu(g,re);P.props=de;var Ee=P.context,Pe=g.contextType;W=Bf,typeof Pe=="object"&&Pe!==null&&(W=Ii(Pe));var je=g.getDerivedStateFromProps;Pe=typeof je=="function"||typeof P.getSnapshotBeforeUpdate=="function",re=f.pendingProps!==re,Pe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(re||Ee!==W)&&ZR(f,P,w,W),gc=!1;var Se=f.memoizedState;P.state=Se,ap(f,w,P,N),ip(),Ee=f.memoizedState,re||Se!==Ee||gc?(typeof je=="function"&&(Sb(f,g,je,w),Ee=f.memoizedState),(de=gc||JR(f,g,de,w,Se,Ee,W))?(Pe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Ee),P.props=w,P.state=Ee,P.context=W,w=de):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{P=f.stateNode,nb(s,f),W=f.memoizedProps,Pe=zu(g,W),P.props=Pe,je=f.pendingProps,Se=P.context,Ee=g.contextType,de=Bf,typeof Ee=="object"&&Ee!==null&&(de=Ii(Ee)),re=g.getDerivedStateFromProps,(Ee=typeof re=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==je||Se!==de)&&ZR(f,P,w,de),gc=!1,Se=f.memoizedState,P.state=Se,ap(f,w,P,N),ip();var Re=f.memoizedState;W!==je||Se!==Re||gc||s!==null&&s.dependencies!==null&&Q0(s.dependencies)?(typeof re=="function"&&(Sb(f,g,re,w),Re=f.memoizedState),(Pe=gc||JR(f,g,Pe,w,Se,Re,de)||s!==null&&s.dependencies!==null&&Q0(s.dependencies))?(Ee||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(w,Re,de),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(w,Re,de)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||W===s.memoizedProps&&Se===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Se===s.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Re),P.props=w,P.state=Re,P.context=de,w=Pe):(typeof P.componentDidUpdate!="function"||W===s.memoizedProps&&Se===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Se===s.memoizedState||(f.flags|=1024),w=!1)}return P=w,gg(s,f),w=(f.flags&128)!==0,P||w?(P=f.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,s!==null&&w?(f.child=Fu(f,s.child,null,N),f.child=Fu(f,null,g,N)):Ni(s,f,g,N),f.memoizedState=P.state,s=f.child):s=ul(s,f,N),s}function p3(s,f,g,w){return Du(),f.flags|=256,Ni(s,f,g,w),f.child}var Rb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ob(s){return{baseLanes:s,cachePool:rR()}}function Mb(s,f,g){return s=s!==null?s.childLanes&~g:0,f&&(s|=Ya),s}function m3(s,f,g){var w=f.pendingProps,N=!1,P=(f.flags&128)!==0,W;if((W=P)||(W=s!==null&&s.memoizedState===null?!1:(Br.current&2)!==0),W&&(N=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,s===null){if(xn){if(N?xc(f):bc(),(s=lr)?(s=A4(s,Ao),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:dc!==null?{id:bs,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},g=YN(s),g.return=f,f.child=g,Ci=f,lr=null)):s=null,s===null)throw pc(f);return pw(s)?f.lanes=32:f.lanes=536870912,null}var re=w.children;return w=w.fallback,N?(bc(),N=f.mode,re=yg({mode:"hidden",children:re},N),w=Pu(w,N,g,null),re.return=f,w.return=f,re.sibling=w,f.child=re,w=f.child,w.memoizedState=Ob(g),w.childLanes=Mb(s,W,g),f.memoizedState=Rb,up(null,w)):(xc(f),Pb(f,re))}var de=s.memoizedState;if(de!==null&&(re=de.dehydrated,re!==null)){if(P)f.flags&256?(xc(f),f.flags&=-257,f=Db(s,f,g)):f.memoizedState!==null?(bc(),f.child=s.child,f.flags|=128,f=null):(bc(),re=w.fallback,N=f.mode,w=yg({mode:"visible",children:w.children},N),re=Pu(re,N,g,null),re.flags|=2,w.return=f,re.return=f,w.sibling=re,f.child=w,Fu(f,s.child,null,g),w=f.child,w.memoizedState=Ob(g),w.childLanes=Mb(s,W,g),f.memoizedState=Rb,f=up(null,w));else if(xc(f),pw(re)){if(W=re.nextSibling&&re.nextSibling.dataset,W)var Ee=W.dgst;W=Ee,w=Error(r(419)),w.stack="",w.digest=W,Jh({value:w,source:null,stack:null}),f=Db(s,f,g)}else if(Gr||zf(s,f,g,!1),W=(g&s.childLanes)!==0,Gr||W){if(W=Qn,W!==null&&(w=$s(W,g),w!==0&&w!==de.retryLane))throw de.retryLane=w,Mu(s,w),Ta(W,s,w),Ib;hw(re)||Tg(),f=Db(s,f,g)}else hw(re)?(f.flags|=192,f.child=s.child,f=null):(s=de.treeContext,lr=So(re.nextSibling),Ci=f,xn=!0,hc=null,Ao=!1,s!==null&&QN(f,s),f=Pb(f,w.children),f.flags|=4096);return f}return N?(bc(),re=w.fallback,N=f.mode,de=s.child,Ee=de.sibling,w=il(de,{mode:"hidden",children:w.children}),w.subtreeFlags=de.subtreeFlags&65011712,Ee!==null?re=il(Ee,re):(re=Pu(re,N,g,null),re.flags|=2),re.return=f,w.return=f,w.sibling=re,f.child=w,up(null,w),w=f.child,re=s.child.memoizedState,re===null?re=Ob(g):(N=re.cachePool,N!==null?(de=Hr._currentValue,N=N.parent!==de?{parent:de,pool:de}:N):N=rR(),re={baseLanes:re.baseLanes|g,cachePool:N}),w.memoizedState=re,w.childLanes=Mb(s,W,g),f.memoizedState=Rb,up(s.child,w)):(xc(f),g=s.child,s=g.sibling,g=il(g,{mode:"visible",children:w.children}),g.return=f,g.sibling=null,s!==null&&(W=f.deletions,W===null?(f.deletions=[s],f.flags|=16):W.push(s)),f.child=g,f.memoizedState=null,g)}function Pb(s,f){return f=yg({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function yg(s,f){return s=qa(22,s,null,f),s.lanes=0,s}function Db(s,f,g){return Fu(f,s.child,null,g),s=Pb(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function g3(s,f,g){s.lanes|=f;var w=s.alternate;w!==null&&(w.lanes|=f),Kx(s.return,f,g)}function kb(s,f,g,w,N,P){var W=s.memoizedState;W===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:N,treeForkCount:P}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=w,W.tail=g,W.tailMode=N,W.treeForkCount=P)}function y3(s,f,g){var w=f.pendingProps,N=w.revealOrder,P=w.tail;w=w.children;var W=Br.current,re=(W&2)!==0;if(re?(W=W&1|2,f.flags|=128):W&=1,Te(Br,W),Ni(s,f,w,g),w=xn?Qh:0,!re&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&g3(s,g,f);else if(s.tag===19)g3(s,g,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(N){case"forwards":for(g=f.child,N=null;g!==null;)s=g.alternate,s!==null&&ag(s)===null&&(N=g),g=g.sibling;g=N,g===null?(N=f.child,f.child=null):(N=g.sibling,g.sibling=null),kb(f,!1,N,g,P,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,N=f.child,f.child=null;N!==null;){if(s=N.alternate,s!==null&&ag(s)===null){f.child=N;break}s=N.sibling,N.sibling=g,g=N,N=s}kb(f,!0,g,null,P,w);break;case"together":kb(f,!1,null,null,void 0,w);break;default:f.memoizedState=null}return f.child}function ul(s,f,g){if(s!==null&&(f.dependencies=s.dependencies),Ac|=f.lanes,(g&f.childLanes)===0)if(s!==null){if(zf(s,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(r(153));if(f.child!==null){for(s=f.child,g=il(s,s.pendingProps),f.child=g,g.return=f;s.sibling!==null;)s=s.sibling,g=g.sibling=il(s,s.pendingProps),g.return=f;g.sibling=null}return f.child}function Lb(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&Q0(s)))}function oG(s,f,g){switch(f.tag){case 3:vt(f,f.stateNode.containerInfo),mc(f,Hr,s.memoizedState.cache),Du();break;case 27:case 5:mt(f);break;case 4:vt(f,f.stateNode.containerInfo);break;case 10:mc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,sb(f),null;break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(xc(f),f.flags|=128,null):(g&f.child.childLanes)!==0?m3(s,f,g):(xc(f),s=ul(s,f,g),s!==null?s.sibling:null);xc(f);break;case 19:var N=(s.flags&128)!==0;if(w=(g&f.childLanes)!==0,w||(zf(s,f,g,!1),w=(g&f.childLanes)!==0),N){if(w)return y3(s,f,g);f.flags|=128}if(N=f.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Te(Br,Br.current),w)break;return null;case 22:return f.lanes=0,c3(s,f,g,f.pendingProps);case 24:mc(f,Hr,s.memoizedState.cache)}return ul(s,f,g)}function v3(s,f,g){if(s!==null)if(s.memoizedProps!==f.pendingProps)Gr=!0;else{if(!Lb(s,g)&&(f.flags&128)===0)return Gr=!1,oG(s,f,g);Gr=(s.flags&131072)!==0}else Gr=!1,xn&&(f.flags&1048576)!==0&&XN(f,Qh,f.index);switch(f.lanes=0,f.tag){case 16:e:{var w=f.pendingProps;if(s=Bu(f.elementType),f.type=s,typeof s=="function")Vx(s)?(w=zu(s,w),f.tag=1,f=h3(null,f,s,w,g)):(f.tag=0,f=Nb(null,f,s,w,g));else{if(s!=null){var N=s.$$typeof;if(N===$){f.tag=11,f=o3(null,f,s,w,g);break e}else if(N===L){f.tag=14,f=s3(null,f,s,w,g);break e}}throw f=ge(s)||s,Error(r(306,f,""))}}return f;case 0:return Nb(s,f,f.type,f.pendingProps,g);case 1:return w=f.type,N=zu(w,f.pendingProps),h3(s,f,w,N,g);case 3:e:{if(vt(f,f.stateNode.containerInfo),s===null)throw Error(r(387));w=f.pendingProps;var P=f.memoizedState;N=P.element,nb(s,f),ap(f,w,null,g);var W=f.memoizedState;if(w=W.cache,mc(f,Hr,w),w!==P.cache&&Xx(f,[Hr],g,!0),ip(),w=W.element,P.isDehydrated)if(P={element:w,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=p3(s,f,w,g);break e}else if(w!==N){N=bo(Error(r(424)),f),Jh(N),f=p3(s,f,w,g);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(lr=So(s.firstChild),Ci=f,xn=!0,hc=null,Ao=!0,g=cR(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Du(),w===N){f=ul(s,f,g);break e}Ni(s,f,w,g)}f=f.child}return f;case 26:return gg(s,f),s===null?(g=N4(f.type,null,f.pendingProps,null))?f.memoizedState=g:xn||(g=f.type,s=f.pendingProps,w=Pg(Be.current).createElement(g),w[pr]=f,w[_n]=s,Ri(w,g,s),mr(w),f.stateNode=w):f.memoizedState=N4(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return mt(f),s===null&&xn&&(w=f.stateNode=T4(f.type,f.pendingProps,Be.current),Ci=f,Ao=!0,N=lr,Ic(f.type)?(mw=N,lr=So(w.firstChild)):lr=N),Ni(s,f,f.pendingProps.children,g),gg(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&xn&&((N=w=lr)&&(w=LG(w,f.type,f.pendingProps,Ao),w!==null?(f.stateNode=w,Ci=f,lr=So(w.firstChild),Ao=!1,N=!0):N=!1),N||pc(f)),mt(f),N=f.type,P=f.pendingProps,W=s!==null?s.memoizedProps:null,w=P.children,uw(N,P)?w=null:W!==null&&uw(N,W)&&(f.flags|=32),f.memoizedState!==null&&(N=cb(s,f,Qq,null,null,g),Sp._currentValue=N),gg(s,f),Ni(s,f,w,g),f.child;case 6:return s===null&&xn&&((s=g=lr)&&(g=jG(g,f.pendingProps,Ao),g!==null?(f.stateNode=g,Ci=f,lr=null,s=!0):s=!1),s||pc(f)),null;case 13:return m3(s,f,g);case 4:return vt(f,f.stateNode.containerInfo),w=f.pendingProps,s===null?f.child=Fu(f,null,w,g):Ni(s,f,w,g),f.child;case 11:return o3(s,f,f.type,f.pendingProps,g);case 7:return Ni(s,f,f.pendingProps,g),f.child;case 8:return Ni(s,f,f.pendingProps.children,g),f.child;case 12:return Ni(s,f,f.pendingProps.children,g),f.child;case 10:return w=f.pendingProps,mc(f,f.type,w.value),Ni(s,f,w.children,g),f.child;case 9:return N=f.type._context,w=f.pendingProps.children,Lu(f),N=Ii(N),w=w(N),f.flags|=1,Ni(s,f,w,g),f.child;case 14:return s3(s,f,f.type,f.pendingProps,g);case 15:return l3(s,f,f.type,f.pendingProps,g);case 19:return y3(s,f,g);case 31:return aG(s,f,g);case 22:return c3(s,f,g,f.pendingProps);case 24:return Lu(f),w=Ii(Hr),s===null?(N=Zx(),N===null&&(N=Qn,P=Qx(),N.pooledCache=P,P.refCount++,P!==null&&(N.pooledCacheLanes|=g),N=P),f.memoizedState={parent:w,cache:N},tb(f),mc(f,Hr,N)):((s.lanes&g)!==0&&(nb(s,f),ap(f,null,null,g),ip()),N=s.memoizedState,P=f.memoizedState,N.parent!==w?(N={parent:w,cache:w},f.memoizedState=N,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=N),mc(f,Hr,w)):(w=P.cache,mc(f,Hr,w),w!==N.cache&&Xx(f,[Hr],g,!0))),Ni(s,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function fl(s){s.flags|=4}function jb(s,f,g,w,N){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(N&335544128)===N)if(s.stateNode.complete)s.flags|=8192;else if(G3())s.flags|=8192;else throw Uu=tg,eb}else s.flags&=-16777217}function x3(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!D4(f))if(G3())s.flags|=8192;else throw Uu=tg,eb}function vg(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?Lr():536870912,s.lanes|=f,ed|=f)}function fp(s,f){if(!xn)switch(s.tailMode){case"hidden":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function cr(s){var f=s.alternate!==null&&s.alternate.child===s.child,g=0,w=0;if(f)for(var N=s.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags&65011712,w|=N.flags&65011712,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=w,s.childLanes=g,f}function sG(s,f,g){var w=f.pendingProps;switch(Gx(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(f),null;case 1:return cr(f),null;case 3:return g=f.stateNode,w=null,s!==null&&(w=s.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),sl(Hr),He(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Vf(f)?fl(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Wx())),cr(f),null;case 26:var N=f.type,P=f.memoizedState;return s===null?(fl(f),P!==null?(cr(f),x3(f,P)):(cr(f),jb(f,N,null,w,g))):P?P!==s.memoizedState?(fl(f),cr(f),x3(f,P)):(cr(f),f.flags&=-16777217):(s=s.memoizedProps,s!==w&&fl(f),cr(f),jb(f,N,s,w,g)),null;case 27:if(lt(f),g=Be.current,N=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==w&&fl(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return cr(f),null}s=Me.current,Vf(f)?JN(f):(s=T4(N,w,g),f.stateNode=s,fl(f))}return cr(f),null;case 5:if(lt(f),N=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==w&&fl(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return cr(f),null}if(P=Me.current,Vf(f))JN(f);else{var W=Pg(Be.current);switch(P){case 1:P=W.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:P=W.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":P=W.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":P=W.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":P=W.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof w.is=="string"?W.createElement("select",{is:w.is}):W.createElement("select"),w.multiple?P.multiple=!0:w.size&&(P.size=w.size);break;default:P=typeof w.is=="string"?W.createElement(N,{is:w.is}):W.createElement(N)}}P[pr]=f,P[_n]=w;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)P.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=P;e:switch(Ri(P,N,w),N){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&fl(f)}}return cr(f),jb(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,g),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==w&&fl(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(r(166));if(s=Be.current,Vf(f)){if(s=f.stateNode,g=f.memoizedProps,w=null,N=Ci,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}s[pr]=f,s=!!(s.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||m4(s.nodeValue,g)),s||pc(f,!0)}else s=Pg(s).createTextNode(w),s[pr]=f,f.stateNode=s}return cr(f),null;case 31:if(g=f.memoizedState,s===null||s.memoizedState!==null){if(w=Vf(f),g!==null){if(s===null){if(!w)throw Error(r(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[pr]=f}else Du(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;cr(f),s=!1}else g=Wx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),s=!0;if(!s)return f.flags&256?($a(f),f):($a(f),null);if((f.flags&128)!==0)throw Error(r(558))}return cr(f),null;case 13:if(w=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(N=Vf(f),w!==null&&w.dehydrated!==null){if(s===null){if(!N)throw Error(r(318));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[pr]=f}else Du(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;cr(f),N=!1}else N=Wx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=N),N=!0;if(!N)return f.flags&256?($a(f),f):($a(f),null)}return $a(f),(f.flags&128)!==0?(f.lanes=g,f):(g=w!==null,s=s!==null&&s.memoizedState!==null,g&&(w=f.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool),P=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(P=w.memoizedState.cachePool.pool),P!==N&&(w.flags|=2048)),g!==s&&g&&(f.child.flags|=8192),vg(f,f.updateQueue),cr(f),null);case 4:return He(),s===null&&aw(f.stateNode.containerInfo),cr(f),null;case 10:return sl(f.type),cr(f),null;case 19:if(pe(Br),w=f.memoizedState,w===null)return cr(f),null;if(N=(f.flags&128)!==0,P=w.rendering,P===null)if(N)fp(w,!1);else{if(Mr!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(P=ag(s),P!==null){for(f.flags|=128,fp(w,!1),s=P.updateQueue,f.updateQueue=s,vg(f,s),f.subtreeFlags=0,s=g,g=f.child;g!==null;)WN(g,s),g=g.sibling;return Te(Br,Br.current&1|2),xn&&al(f,w.treeForkCount),f.child}s=s.sibling}w.tail!==null&&cn()>Ag&&(f.flags|=128,N=!0,fp(w,!1),f.lanes=4194304)}else{if(!N)if(s=ag(P),s!==null){if(f.flags|=128,N=!0,s=s.updateQueue,f.updateQueue=s,vg(f,s),fp(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!xn)return cr(f),null}else 2*cn()-w.renderingStartTime>Ag&&g!==536870912&&(f.flags|=128,N=!0,fp(w,!1),f.lanes=4194304);w.isBackwards?(P.sibling=f.child,f.child=P):(s=w.last,s!==null?s.sibling=P:f.child=P,w.last=P)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=cn(),s.sibling=null,g=Br.current,Te(Br,N?g&1|2:g&1),xn&&al(f,w.treeForkCount),s):(cr(f),null);case 22:case 23:return $a(f),ob(),w=f.memoizedState!==null,s!==null?s.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(g&536870912)!==0&&(f.flags&128)===0&&(cr(f),f.subtreeFlags&6&&(f.flags|=8192)):cr(f),g=f.updateQueue,g!==null&&vg(f,g.retryQueue),g=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048),s!==null&&pe(ju),null;case 24:return g=null,s!==null&&(g=s.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),sl(Hr),cr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function lG(s,f){switch(Gx(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return sl(Hr),He(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return lt(f),null;case 31:if(f.memoizedState!==null){if($a(f),f.alternate===null)throw Error(r(340));Du()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if($a(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Du()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return pe(Br),null;case 4:return He(),null;case 10:return sl(f.type),null;case 22:case 23:return $a(f),ob(),s!==null&&pe(ju),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return sl(Hr),null;case 25:return null;default:return null}}function b3(s,f){switch(Gx(f),f.tag){case 3:sl(Hr),He();break;case 26:case 27:case 5:lt(f);break;case 4:He();break;case 31:f.memoizedState!==null&&$a(f);break;case 13:$a(f);break;case 19:pe(Br);break;case 10:sl(f.type);break;case 22:case 23:$a(f),ob(),s!==null&&pe(ju);break;case 24:sl(Hr)}}function dp(s,f){try{var g=f.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var N=w.next;g=N;do{if((g.tag&s)===s){w=void 0;var P=g.create,W=g.inst;w=P(),W.destroy=w}g=g.next}while(g!==N)}}catch(re){Vn(f,f.return,re)}}function wc(s,f,g){try{var w=f.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var P=N.next;w=P;do{if((w.tag&s)===s){var W=w.inst,re=W.destroy;if(re!==void 0){W.destroy=void 0,N=f;var de=g,Ee=re;try{Ee()}catch(Pe){Vn(N,de,Pe)}}}w=w.next}while(w!==P)}}catch(Pe){Vn(f,f.return,Pe)}}function w3(s){var f=s.updateQueue;if(f!==null){var g=s.stateNode;try{fR(f,g)}catch(w){Vn(s,s.return,w)}}}function _3(s,f,g){g.props=zu(s.type,s.memoizedProps),g.state=s.memoizedState;try{g.componentWillUnmount()}catch(w){Vn(s,f,w)}}function hp(s,f){try{var g=s.ref;if(g!==null){switch(s.tag){case 26:case 27:case 5:var w=s.stateNode;break;case 30:w=s.stateNode;break;default:w=s.stateNode}typeof g=="function"?s.refCleanup=g(w):g.current=w}}catch(N){Vn(s,f,N)}}function _s(s,f){var g=s.ref,w=s.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(N){Vn(s,f,N)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(N){Vn(s,f,N)}else g.current=null}function A3(s){var f=s.type,g=s.memoizedProps,w=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(N){Vn(s,s.return,N)}}function Bb(s,f,g){try{var w=s.stateNode;RG(w,s.type,g,f),w[_n]=f}catch(N){Vn(s,s.return,N)}}function E3(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ic(s.type)||s.tag===4}function Ub(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||E3(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ic(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fb(s,f,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(s,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(s),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Bi));else if(w!==4&&(w===27&&Ic(s.type)&&(g=s.stateNode,f=null),s=s.child,s!==null))for(Fb(s,f,g),s=s.sibling;s!==null;)Fb(s,f,g),s=s.sibling}function xg(s,f,g){var w=s.tag;if(w===5||w===6)s=s.stateNode,f?g.insertBefore(s,f):g.appendChild(s);else if(w!==4&&(w===27&&Ic(s.type)&&(g=s.stateNode),s=s.child,s!==null))for(xg(s,f,g),s=s.sibling;s!==null;)xg(s,f,g),s=s.sibling}function S3(s){var f=s.stateNode,g=s.memoizedProps;try{for(var w=s.type,N=f.attributes;N.length;)f.removeAttributeNode(N[0]);Ri(f,w,g),f[pr]=s,f[_n]=g}catch(P){Vn(s,s.return,P)}}var dl=!1,$r=!1,Vb=!1,T3=typeof WeakSet=="function"?WeakSet:Set,di=null;function cG(s,f){if(s=s.containerInfo,lw=Fg,s=Z(s),te(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var N=w.anchorOffset,P=w.focusNode;w=w.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var W=0,re=-1,de=-1,Ee=0,Pe=0,je=s,Se=null;t:for(;;){for(var Re;je!==g||N!==0&&je.nodeType!==3||(re=W+N),je!==P||w!==0&&je.nodeType!==3||(de=W+w),je.nodeType===3&&(W+=je.nodeValue.length),(Re=je.firstChild)!==null;)Se=je,je=Re;for(;;){if(je===s)break t;if(Se===g&&++Ee===N&&(re=W),Se===P&&++Pe===w&&(de=W),(Re=je.nextSibling)!==null)break;je=Se,Se=je.parentNode}je=Re}g=re===-1||de===-1?null:{start:re,end:de}}else g=null}g=g||{start:0,end:0}}else g=null;for(cw={focusedElem:s,selectionRange:g},Fg=!1,di=f;di!==null;)if(f=di,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,di=s;else for(;di!==null;){switch(f=di,P=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(g=0;g<s.length;g++)N=s[g],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&P!==null){s=void 0,g=f,N=P.memoizedProps,P=P.memoizedState,w=g.stateNode;try{var ft=zu(g.type,N);s=w.getSnapshotBeforeUpdate(ft,P),w.__reactInternalSnapshotBeforeUpdate=s}catch(Mt){Vn(g,g.return,Mt)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,g=s.nodeType,g===9)dw(s);else if(g===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":dw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=f.sibling,s!==null){s.return=f.return,di=s;break}di=f.return}}function C3(s,f,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:pl(s,g),w&4&&dp(5,g);break;case 1:if(pl(s,g),w&4)if(s=g.stateNode,f===null)try{s.componentDidMount()}catch(W){Vn(g,g.return,W)}else{var N=zu(g.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(N,f,s.__reactInternalSnapshotBeforeUpdate)}catch(W){Vn(g,g.return,W)}}w&64&&w3(g),w&512&&hp(g,g.return);break;case 3:if(pl(s,g),w&64&&(s=g.updateQueue,s!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{fR(s,f)}catch(W){Vn(g,g.return,W)}}break;case 27:f===null&&w&4&&S3(g);case 26:case 5:pl(s,g),f===null&&w&4&&A3(g),w&512&&hp(g,g.return);break;case 12:pl(s,g);break;case 31:pl(s,g),w&4&&R3(s,g);break;case 13:pl(s,g),w&4&&O3(s,g),w&64&&(s=g.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(g=vG.bind(null,g),BG(s,g))));break;case 22:if(w=g.memoizedState!==null||dl,!w){f=f!==null&&f.memoizedState!==null||$r,N=dl;var P=$r;dl=w,($r=f)&&!P?ml(s,g,(g.subtreeFlags&8772)!==0):pl(s,g),dl=N,$r=P}break;case 30:break;default:pl(s,g)}}function I3(s){var f=s.alternate;f!==null&&(s.alternate=null,I3(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&_i(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var br=null,_a=!1;function hl(s,f,g){for(g=g.child;g!==null;)N3(s,f,g),g=g.sibling}function N3(s,f,g){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Wt,g)}catch{}switch(g.tag){case 26:$r||_s(g,f),hl(s,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:$r||_s(g,f);var w=br,N=_a;Ic(g.type)&&(br=g.stateNode,_a=!1),hl(s,f,g),_p(g.stateNode),br=w,_a=N;break;case 5:$r||_s(g,f);case 6:if(w=br,N=_a,br=null,hl(s,f,g),br=w,_a=N,br!==null)if(_a)try{(br.nodeType===9?br.body:br.nodeName==="HTML"?br.ownerDocument.body:br).removeChild(g.stateNode)}catch(P){Vn(g,f,P)}else try{br.removeChild(g.stateNode)}catch(P){Vn(g,f,P)}break;case 18:br!==null&&(_a?(s=br,w4(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,g.stateNode),ld(s)):w4(br,g.stateNode));break;case 4:w=br,N=_a,br=g.stateNode.containerInfo,_a=!0,hl(s,f,g),br=w,_a=N;break;case 0:case 11:case 14:case 15:wc(2,g,f),$r||wc(4,g,f),hl(s,f,g);break;case 1:$r||(_s(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"&&_3(g,f,w)),hl(s,f,g);break;case 21:hl(s,f,g);break;case 22:$r=(w=$r)||g.memoizedState!==null,hl(s,f,g),$r=w;break;default:hl(s,f,g)}}function R3(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ld(s)}catch(g){Vn(f,f.return,g)}}}function O3(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ld(s)}catch(g){Vn(f,f.return,g)}}function uG(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new T3),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new T3),f;default:throw Error(r(435,s.tag))}}function bg(s,f){var g=uG(s);f.forEach(function(w){if(!g.has(w)){g.add(w);var N=xG.bind(null,s,w);w.then(N,N)}})}function Aa(s,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var N=g[w],P=s,W=f,re=W;e:for(;re!==null;){switch(re.tag){case 27:if(Ic(re.type)){br=re.stateNode,_a=!1;break e}break;case 5:br=re.stateNode,_a=!1;break e;case 3:case 4:br=re.stateNode.containerInfo,_a=!0;break e}re=re.return}if(br===null)throw Error(r(160));N3(P,W,N),br=null,_a=!1,P=N.alternate,P!==null&&(P.return=null),N.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)M3(f,s),f=f.sibling}var Wo=null;function M3(s,f){var g=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Aa(f,s),Ea(s),w&4&&(wc(3,s,s.return),dp(3,s),wc(5,s,s.return));break;case 1:Aa(f,s),Ea(s),w&512&&($r||g===null||_s(g,g.return)),w&64&&dl&&(s=s.updateQueue,s!==null&&(w=s.callbacks,w!==null&&(g=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var N=Wo;if(Aa(f,s),Ea(s),w&512&&($r||g===null||_s(g,g.return)),w&4){var P=g!==null?g.memoizedState:null;if(w=s.memoizedState,g===null)if(w===null)if(s.stateNode===null){e:{w=s.type,g=s.memoizedProps,N=N.ownerDocument||N;t:switch(w){case"title":P=N.getElementsByTagName("title")[0],(!P||P[uo]||P[pr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=N.createElement(w),N.head.insertBefore(P,N.querySelector("head > title"))),Ri(P,w,g),P[pr]=s,mr(P),w=P;break e;case"link":var W=M4("link","href",N).get(w+(g.href||""));if(W){for(var re=0;re<W.length;re++)if(P=W[re],P.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&P.getAttribute("rel")===(g.rel==null?null:g.rel)&&P.getAttribute("title")===(g.title==null?null:g.title)&&P.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(re,1);break t}}P=N.createElement(w),Ri(P,w,g),N.head.appendChild(P);break;case"meta":if(W=M4("meta","content",N).get(w+(g.content||""))){for(re=0;re<W.length;re++)if(P=W[re],P.getAttribute("content")===(g.content==null?null:""+g.content)&&P.getAttribute("name")===(g.name==null?null:g.name)&&P.getAttribute("property")===(g.property==null?null:g.property)&&P.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&P.getAttribute("charset")===(g.charSet==null?null:g.charSet)){W.splice(re,1);break t}}P=N.createElement(w),Ri(P,w,g),N.head.appendChild(P);break;default:throw Error(r(468,w))}P[pr]=s,mr(P),w=P}s.stateNode=w}else P4(N,s.type,s.stateNode);else s.stateNode=O4(N,w,s.memoizedProps);else P!==w?(P===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):P.count--,w===null?P4(N,s.type,s.stateNode):O4(N,w,s.memoizedProps)):w===null&&s.stateNode!==null&&Bb(s,s.memoizedProps,g.memoizedProps)}break;case 27:Aa(f,s),Ea(s),w&512&&($r||g===null||_s(g,g.return)),g!==null&&w&4&&Bb(s,s.memoizedProps,g.memoizedProps);break;case 5:if(Aa(f,s),Ea(s),w&512&&($r||g===null||_s(g,g.return)),s.flags&32){N=s.stateNode;try{ji(N,"")}catch(ft){Vn(s,s.return,ft)}}w&4&&s.stateNode!=null&&(N=s.memoizedProps,Bb(s,N,g!==null?g.memoizedProps:N)),w&1024&&(Vb=!0);break;case 6:if(Aa(f,s),Ea(s),w&4){if(s.stateNode===null)throw Error(r(162));w=s.memoizedProps,g=s.stateNode;try{g.nodeValue=w}catch(ft){Vn(s,s.return,ft)}}break;case 3:if(Lg=null,N=Wo,Wo=Dg(f.containerInfo),Aa(f,s),Wo=N,Ea(s),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ld(f.containerInfo)}catch(ft){Vn(s,s.return,ft)}Vb&&(Vb=!1,P3(s));break;case 4:w=Wo,Wo=Dg(s.stateNode.containerInfo),Aa(f,s),Ea(s),Wo=w;break;case 12:Aa(f,s),Ea(s);break;case 31:Aa(f,s),Ea(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,bg(s,w)));break;case 13:Aa(f,s),Ea(s),s.child.flags&8192&&s.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(_g=cn()),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,bg(s,w)));break;case 22:N=s.memoizedState!==null;var de=g!==null&&g.memoizedState!==null,Ee=dl,Pe=$r;if(dl=Ee||N,$r=Pe||de,Aa(f,s),$r=Pe,dl=Ee,Ea(s),w&8192)e:for(f=s.stateNode,f._visibility=N?f._visibility&-2:f._visibility|1,N&&(g===null||de||dl||$r||Hu(s)),g=null,f=s;;){if(f.tag===5||f.tag===26){if(g===null){de=g=f;try{if(P=de.stateNode,N)W=P.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{re=de.stateNode;var je=de.memoizedProps.style,Se=je!=null&&je.hasOwnProperty("display")?je.display:null;re.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(ft){Vn(de,de.return,ft)}}}else if(f.tag===6){if(g===null){de=f;try{de.stateNode.nodeValue=N?"":de.memoizedProps}catch(ft){Vn(de,de.return,ft)}}}else if(f.tag===18){if(g===null){de=f;try{var Re=de.stateNode;N?_4(Re,!0):_4(de.stateNode,!1)}catch(ft){Vn(de,de.return,ft)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=s.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,bg(s,g))));break;case 19:Aa(f,s),Ea(s),w&4&&(w=s.updateQueue,w!==null&&(s.updateQueue=null,bg(s,w)));break;case 30:break;case 21:break;default:Aa(f,s),Ea(s)}}function Ea(s){var f=s.flags;if(f&2){try{for(var g,w=s.return;w!==null;){if(E3(w)){g=w;break}w=w.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var N=g.stateNode,P=Ub(s);xg(s,P,N);break;case 5:var W=g.stateNode;g.flags&32&&(ji(W,""),g.flags&=-33);var re=Ub(s);xg(s,re,W);break;case 3:case 4:var de=g.stateNode.containerInfo,Ee=Ub(s);Fb(s,Ee,de);break;default:throw Error(r(161))}}catch(Pe){Vn(s,s.return,Pe)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function P3(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;P3(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function pl(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)C3(s,f.alternate,f),f=f.sibling}function Hu(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:wc(4,f,f.return),Hu(f);break;case 1:_s(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&_3(f,f.return,g),Hu(f);break;case 27:_p(f.stateNode);case 26:case 5:_s(f,f.return),Hu(f);break;case 22:f.memoizedState===null&&Hu(f);break;case 30:Hu(f);break;default:Hu(f)}s=s.sibling}}function ml(s,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,N=s,P=f,W=P.flags;switch(P.tag){case 0:case 11:case 15:ml(N,P,g),dp(4,P);break;case 1:if(ml(N,P,g),w=P,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Ee){Vn(w,w.return,Ee)}if(w=P,N=w.updateQueue,N!==null){var re=w.stateNode;try{var de=N.shared.hiddenCallbacks;if(de!==null)for(N.shared.hiddenCallbacks=null,N=0;N<de.length;N++)uR(de[N],re)}catch(Ee){Vn(w,w.return,Ee)}}g&&W&64&&w3(P),hp(P,P.return);break;case 27:S3(P);case 26:case 5:ml(N,P,g),g&&w===null&&W&4&&A3(P),hp(P,P.return);break;case 12:ml(N,P,g);break;case 31:ml(N,P,g),g&&W&4&&R3(N,P);break;case 13:ml(N,P,g),g&&W&4&&O3(N,P);break;case 22:P.memoizedState===null&&ml(N,P,g),hp(P,P.return);break;case 30:break;default:ml(N,P,g)}f=f.sibling}}function zb(s,f){var g=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==g&&(s!=null&&s.refCount++,g!=null&&Zh(g))}function Hb(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Zh(s))}function Yo(s,f,g,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)D3(s,f,g,w),f=f.sibling}function D3(s,f,g,w){var N=f.flags;switch(f.tag){case 0:case 11:case 15:Yo(s,f,g,w),N&2048&&dp(9,f);break;case 1:Yo(s,f,g,w);break;case 3:Yo(s,f,g,w),N&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Zh(s)));break;case 12:if(N&2048){Yo(s,f,g,w),s=f.stateNode;try{var P=f.memoizedProps,W=P.id,re=P.onPostCommit;typeof re=="function"&&re(W,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(de){Vn(f,f.return,de)}}else Yo(s,f,g,w);break;case 31:Yo(s,f,g,w);break;case 13:Yo(s,f,g,w);break;case 23:break;case 22:P=f.stateNode,W=f.alternate,f.memoizedState!==null?P._visibility&2?Yo(s,f,g,w):pp(s,f):P._visibility&2?Yo(s,f,g,w):(P._visibility|=2,Qf(s,f,g,w,(f.subtreeFlags&10256)!==0||!1)),N&2048&&zb(W,f);break;case 24:Yo(s,f,g,w),N&2048&&Hb(f.alternate,f);break;default:Yo(s,f,g,w)}}function Qf(s,f,g,w,N){for(N=N&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=s,W=f,re=g,de=w,Ee=W.flags;switch(W.tag){case 0:case 11:case 15:Qf(P,W,re,de,N),dp(8,W);break;case 23:break;case 22:var Pe=W.stateNode;W.memoizedState!==null?Pe._visibility&2?Qf(P,W,re,de,N):pp(P,W):(Pe._visibility|=2,Qf(P,W,re,de,N)),N&&Ee&2048&&zb(W.alternate,W);break;case 24:Qf(P,W,re,de,N),N&&Ee&2048&&Hb(W.alternate,W);break;default:Qf(P,W,re,de,N)}f=f.sibling}}function pp(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=s,w=f,N=w.flags;switch(w.tag){case 22:pp(g,w),N&2048&&zb(w.alternate,w);break;case 24:pp(g,w),N&2048&&Hb(w.alternate,w);break;default:pp(g,w)}f=f.sibling}}var mp=8192;function Jf(s,f,g){if(s.subtreeFlags&mp)for(s=s.child;s!==null;)k3(s,f,g),s=s.sibling}function k3(s,f,g){switch(s.tag){case 26:Jf(s,f,g),s.flags&mp&&s.memoizedState!==null&&XG(g,Wo,s.memoizedState,s.memoizedProps);break;case 5:Jf(s,f,g);break;case 3:case 4:var w=Wo;Wo=Dg(s.stateNode.containerInfo),Jf(s,f,g),Wo=w;break;case 22:s.memoizedState===null&&(w=s.alternate,w!==null&&w.memoizedState!==null?(w=mp,mp=16777216,Jf(s,f,g),mp=w):Jf(s,f,g));break;default:Jf(s,f,g)}}function L3(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function gp(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];di=w,B3(w,s)}L3(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j3(s),s=s.sibling}function j3(s){switch(s.tag){case 0:case 11:case 15:gp(s),s.flags&2048&&wc(9,s,s.return);break;case 3:gp(s);break;case 12:gp(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,wg(s)):gp(s);break;default:gp(s)}}function wg(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];di=w,B3(w,s)}L3(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:wc(8,f,f.return),wg(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,wg(f));break;default:wg(f)}s=s.sibling}}function B3(s,f){for(;di!==null;){var g=di;switch(g.tag){case 0:case 11:case 15:wc(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Zh(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,di=w;else e:for(g=s;di!==null;){w=di;var N=w.sibling,P=w.return;if(I3(w),w===g){di=null;break e}if(N!==null){N.return=P,di=N;break e}di=P}}}var fG={getCacheForType:function(s){var f=Ii(Hr),g=f.data.get(s);return g===void 0&&(g=s(),f.data.set(s,g)),g},cacheSignal:function(){return Ii(Hr).controller.signal}},dG=typeof WeakMap=="function"?WeakMap:Map,On=0,Qn=null,sn=null,hn=0,Fn=0,Wa=null,_c=!1,Zf=!1,qb=!1,gl=0,Mr=0,Ac=0,qu=0,Gb=0,Ya=0,ed=0,yp=null,Sa=null,$b=!1,_g=0,U3=0,Ag=1/0,Eg=null,Ec=null,ri=0,Sc=null,td=null,yl=0,Wb=0,Yb=null,F3=null,vp=0,Kb=null;function Ka(){return(On&2)!==0&&hn!==0?hn&-hn:ie.T!==null?tw():bi()}function V3(){if(Ya===0)if((hn&536870912)===0||xn){var s=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),Ya=s}else Ya=536870912;return s=Ga.current,s!==null&&(s.flags|=32),Ya}function Ta(s,f,g){(s===Qn&&(Fn===2||Fn===9)||s.cancelPendingCommit!==null)&&(nd(s,0),Tc(s,hn,Ya,!1)),co(s,g),((On&2)===0||s!==Qn)&&(s===Qn&&((On&2)===0&&(qu|=g),Mr===4&&Tc(s,hn,Ya,!1)),As(s))}function z3(s,f,g){if((On&6)!==0)throw Error(r(327));var w=!g&&(f&127)===0&&(f&s.expiredLanes)===0||Ar(s,f),N=w?mG(s,f):Qb(s,f,!0),P=w;do{if(N===0){Zf&&!w&&Tc(s,f,0,!1);break}else{if(g=s.current.alternate,P&&!hG(g)){N=Qb(s,f,!1),P=!1;continue}if(N===2){if(P=f,s.errorRecoveryDisabledLanes&P)var W=0;else W=s.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var re=s;N=yp;var de=re.current.memoizedState.isDehydrated;if(de&&(nd(re,W).flags|=256),W=Qb(re,W,!1),W!==2){if(qb&&!de){re.errorRecoveryDisabledLanes|=P,qu|=P,N=4;break e}P=Sa,Sa=N,P!==null&&(Sa===null?Sa=P:Sa.push.apply(Sa,P))}N=W}if(P=!1,N!==2)continue}}if(N===1){nd(s,0),Tc(s,f,0,!0);break}e:{switch(w=s,P=N,P){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Tc(w,f,Ya,!_c);break e;case 2:Sa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(N=_g+300-cn(),10<N)){if(Tc(w,f,Ya,!_c),La(w,0,!0)!==0)break e;yl=f,w.timeoutHandle=x4(H3.bind(null,w,g,Sa,Eg,$b,f,Ya,qu,ed,_c,P,"Throttled",-0,0),N);break e}H3(w,g,Sa,Eg,$b,f,Ya,qu,ed,_c,P,null,-0,0)}}break}while(!0);As(s)}function H3(s,f,g,w,N,P,W,re,de,Ee,Pe,je,Se,Re){if(s.timeoutHandle=-1,je=f.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},k3(f,P,je);var ft=(P&62914560)===P?_g-cn():(P&4194048)===P?U3-cn():0;if(ft=QG(je,ft),ft!==null){yl=P,s.cancelPendingCommit=ft(Q3.bind(null,s,f,P,g,w,N,W,re,de,Pe,je,null,Se,Re)),Tc(s,P,W,!Ee);return}}Q3(s,f,P,g,w,N,W,re,de)}function hG(s){for(var f=s;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var N=g[w],P=N.getSnapshot;N=N.value;try{if(!A(P(),N))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Tc(s,f,g,w){f&=~Gb,f&=~qu,s.suspendedLanes|=f,s.pingedLanes&=~f,w&&(s.warmLanes|=f),w=s.expirationTimes;for(var N=f;0<N;){var P=31-xt(N),W=1<<P;w[P]=-1,N&=~W}g!==0&&Gs(s,g,f)}function Sg(){return(On&6)===0?(xp(0),!1):!0}function Xb(){if(sn!==null){if(Fn===0)var s=sn.return;else s=sn,ol=ku=null,db(s),$f=null,tp=0,s=sn;for(;s!==null;)b3(s.alternate,s),s=s.return;sn=null}}function nd(s,f){var g=s.timeoutHandle;g!==-1&&(s.timeoutHandle=-1,PG(g)),g=s.cancelPendingCommit,g!==null&&(s.cancelPendingCommit=null,g()),yl=0,Xb(),Qn=s,sn=g=il(s.current,null),hn=f,Fn=0,Wa=null,_c=!1,Zf=Ar(s,f),qb=!1,ed=Ya=Gb=qu=Ac=Mr=0,Sa=yp=null,$b=!1,(f&8)!==0&&(f|=f&32);var w=s.entangledLanes;if(w!==0)for(s=s.entanglements,w&=f;0<w;){var N=31-xt(w),P=1<<N;f|=s[N],w&=~P}return gl=f,$0(),g}function q3(s,f){Yt=null,ie.H=cp,f===Gf||f===eg?(f=oR(),Fn=3):f===eb?(f=oR(),Fn=4):Fn=f===Ib?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Wa=f,sn===null&&(Mr=1,pg(s,bo(f,s.current)))}function G3(){var s=Ga.current;return s===null?!0:(hn&4194048)===hn?Eo===null:(hn&62914560)===hn||(hn&536870912)!==0?s===Eo:!1}function $3(){var s=ie.H;return ie.H=cp,s===null?cp:s}function W3(){var s=ie.A;return ie.A=fG,s}function Tg(){Mr=4,_c||(hn&4194048)!==hn&&Ga.current!==null||(Zf=!0),(Ac&134217727)===0&&(qu&134217727)===0||Qn===null||Tc(Qn,hn,Ya,!1)}function Qb(s,f,g){var w=On;On|=2;var N=$3(),P=W3();(Qn!==s||hn!==f)&&(Eg=null,nd(s,f)),f=!1;var W=Mr;e:do try{if(Fn!==0&&sn!==null){var re=sn,de=Wa;switch(Fn){case 8:Xb(),W=6;break e;case 3:case 2:case 9:case 6:Ga.current===null&&(f=!0);var Ee=Fn;if(Fn=0,Wa=null,rd(s,re,de,Ee),g&&Zf){W=0;break e}break;default:Ee=Fn,Fn=0,Wa=null,rd(s,re,de,Ee)}}pG(),W=Mr;break}catch(Pe){q3(s,Pe)}while(!0);return f&&s.shellSuspendCounter++,ol=ku=null,On=w,ie.H=N,ie.A=P,sn===null&&(Qn=null,hn=0,$0()),W}function pG(){for(;sn!==null;)Y3(sn)}function mG(s,f){var g=On;On|=2;var w=$3(),N=W3();Qn!==s||hn!==f?(Eg=null,Ag=cn()+500,nd(s,f)):Zf=Ar(s,f);e:do try{if(Fn!==0&&sn!==null){f=sn;var P=Wa;t:switch(Fn){case 1:Fn=0,Wa=null,rd(s,f,P,1);break;case 2:case 9:if(iR(P)){Fn=0,Wa=null,K3(f);break}f=function(){Fn!==2&&Fn!==9||Qn!==s||(Fn=7),As(s)},P.then(f,f);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:iR(P)?(Fn=0,Wa=null,K3(f)):(Fn=0,Wa=null,rd(s,f,P,7));break;case 5:var W=null;switch(sn.tag){case 26:W=sn.memoizedState;case 5:case 27:var re=sn;if(W?D4(W):re.stateNode.complete){Fn=0,Wa=null;var de=re.sibling;if(de!==null)sn=de;else{var Ee=re.return;Ee!==null?(sn=Ee,Cg(Ee)):sn=null}break t}}Fn=0,Wa=null,rd(s,f,P,5);break;case 6:Fn=0,Wa=null,rd(s,f,P,6);break;case 8:Xb(),Mr=6;break e;default:throw Error(r(462))}}gG();break}catch(Pe){q3(s,Pe)}while(!0);return ol=ku=null,ie.H=w,ie.A=N,On=g,sn!==null?0:(Qn=null,hn=0,$0(),Mr)}function gG(){for(;sn!==null&&!or();)Y3(sn)}function Y3(s){var f=v3(s.alternate,s,gl);s.memoizedProps=s.pendingProps,f===null?Cg(s):sn=f}function K3(s){var f=s,g=f.alternate;switch(f.tag){case 15:case 0:f=d3(g,f,f.pendingProps,f.type,void 0,hn);break;case 11:f=d3(g,f,f.pendingProps,f.type.render,f.ref,hn);break;case 5:db(f);default:b3(g,f),f=sn=WN(f,gl),f=v3(g,f,gl)}s.memoizedProps=s.pendingProps,f===null?Cg(s):sn=f}function rd(s,f,g,w){ol=ku=null,db(f),$f=null,tp=0;var N=f.return;try{if(iG(s,N,f,g,hn)){Mr=1,pg(s,bo(g,s.current)),sn=null;return}}catch(P){if(N!==null)throw sn=N,P;Mr=1,pg(s,bo(g,s.current)),sn=null;return}f.flags&32768?(xn||w===1?s=!0:Zf||(hn&536870912)!==0?s=!1:(_c=s=!0,(w===2||w===9||w===3||w===6)&&(w=Ga.current,w!==null&&w.tag===13&&(w.flags|=16384))),X3(f,s)):Cg(f)}function Cg(s){var f=s;do{if((f.flags&32768)!==0){X3(f,_c);return}s=f.return;var g=sG(f.alternate,f,gl);if(g!==null){sn=g;return}if(f=f.sibling,f!==null){sn=f;return}sn=f=s}while(f!==null);Mr===0&&(Mr=5)}function X3(s,f){do{var g=lG(s.alternate,s);if(g!==null){g.flags&=32767,sn=g;return}if(g=s.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(s=s.sibling,s!==null)){sn=s;return}sn=s=g}while(s!==null);Mr=6,sn=null}function Q3(s,f,g,w,N,P,W,re,de){s.cancelPendingCommit=null;do Ig();while(ri!==0);if((On&6)!==0)throw Error(r(327));if(f!==null){if(f===s.current)throw Error(r(177));if(P=f.lanes|f.childLanes,P|=Ux,ga(s,g,P,W,re,de),s===Qn&&(sn=Qn=null,hn=0),td=f,Sc=s,yl=g,Wb=P,Yb=N,F3=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bG(zr,function(){return n4(),null})):(s.callbackNode=null,s.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=ie.T,ie.T=null,N=fe.p,fe.p=2,W=On,On|=4;try{cG(s,f,g)}finally{On=W,fe.p=N,ie.T=w}}ri=1,J3(),Z3(),e4()}}function J3(){if(ri===1){ri=0;var s=Sc,f=td,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=ie.T,ie.T=null;var w=fe.p;fe.p=2;var N=On;On|=4;try{M3(f,s);var P=cw,W=Z(s.containerInfo),re=P.focusedElem,de=P.selectionRange;if(W!==re&&re&&re.ownerDocument&&q(re.ownerDocument.documentElement,re)){if(de!==null&&te(re)){var Ee=de.start,Pe=de.end;if(Pe===void 0&&(Pe=Ee),"selectionStart"in re)re.selectionStart=Ee,re.selectionEnd=Math.min(Pe,re.value.length);else{var je=re.ownerDocument||document,Se=je&&je.defaultView||window;if(Se.getSelection){var Re=Se.getSelection(),ft=re.textContent.length,Mt=Math.min(de.start,ft),Wn=de.end===void 0?Mt:Math.min(de.end,ft);!Re.extend&&Mt>Wn&&(W=Wn,Wn=Mt,Mt=W);var ve=k(re,Mt),ye=k(re,Wn);if(ve&&ye&&(Re.rangeCount!==1||Re.anchorNode!==ve.node||Re.anchorOffset!==ve.offset||Re.focusNode!==ye.node||Re.focusOffset!==ye.offset)){var _e=je.createRange();_e.setStart(ve.node,ve.offset),Re.removeAllRanges(),Mt>Wn?(Re.addRange(_e),Re.extend(ye.node,ye.offset)):(_e.setEnd(ye.node,ye.offset),Re.addRange(_e))}}}}for(je=[],Re=re;Re=Re.parentNode;)Re.nodeType===1&&je.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<je.length;re++){var ke=je[re];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Fg=!!lw,cw=lw=null}finally{On=N,fe.p=w,ie.T=g}}s.current=f,ri=2}}function Z3(){if(ri===2){ri=0;var s=Sc,f=td,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=ie.T,ie.T=null;var w=fe.p;fe.p=2;var N=On;On|=4;try{C3(s,f.alternate,f)}finally{On=N,fe.p=w,ie.T=g}}ri=3}}function e4(){if(ri===4||ri===3){ri=0,nr();var s=Sc,f=td,g=yl,w=F3;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ri=5:(ri=0,td=Sc=null,t4(s,s.pendingLanes));var N=s.pendingLanes;if(N===0&&(Ec=null),xi(g),f=f.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Wt,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=ie.T,N=fe.p,fe.p=2,ie.T=null;try{for(var P=s.onRecoverableError,W=0;W<w.length;W++){var re=w[W];P(re.value,{componentStack:re.stack})}}finally{ie.T=f,fe.p=N}}(yl&3)!==0&&Ig(),As(s),N=s.pendingLanes,(g&261930)!==0&&(N&42)!==0?s===Kb?vp++:(vp=0,Kb=s):vp=0,xp(0)}}function t4(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,Zh(f)))}function Ig(){return J3(),Z3(),e4(),n4()}function n4(){if(ri!==5)return!1;var s=Sc,f=Wb;Wb=0;var g=xi(yl),w=ie.T,N=fe.p;try{fe.p=32>g?32:g,ie.T=null,g=Yb,Yb=null;var P=Sc,W=yl;if(ri=0,td=Sc=null,yl=0,(On&6)!==0)throw Error(r(331));var re=On;if(On|=4,j3(P.current),D3(P,P.current,W,g),On=re,xp(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Wt,P)}catch{}return!0}finally{fe.p=N,ie.T=w,t4(s,f)}}function r4(s,f,g){f=bo(g,f),f=Cb(s.stateNode,f,2),s=vc(s,f,2),s!==null&&(co(s,2),As(s))}function Vn(s,f,g){if(s.tag===3)r4(s,s,g);else for(;f!==null;){if(f.tag===3){r4(f,s,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ec===null||!Ec.has(w))){s=bo(g,s),g=i3(2),w=vc(f,g,2),w!==null&&(a3(g,w,f,s),co(w,2),As(w));break}}f=f.return}}function Jb(s,f,g){var w=s.pingCache;if(w===null){w=s.pingCache=new dG;var N=new Set;w.set(f,N)}else N=w.get(f),N===void 0&&(N=new Set,w.set(f,N));N.has(g)||(qb=!0,N.add(g),s=yG.bind(null,s,f,g),f.then(s,s))}function yG(s,f,g){var w=s.pingCache;w!==null&&w.delete(f),s.pingedLanes|=s.suspendedLanes&g,s.warmLanes&=~g,Qn===s&&(hn&g)===g&&(Mr===4||Mr===3&&(hn&62914560)===hn&&300>cn()-_g?(On&2)===0&&nd(s,0):Gb|=g,ed===hn&&(ed=0)),As(s)}function i4(s,f){f===0&&(f=Lr()),s=Mu(s,f),s!==null&&(co(s,f),As(s))}function vG(s){var f=s.memoizedState,g=0;f!==null&&(g=f.retryLane),i4(s,g)}function xG(s,f){var g=0;switch(s.tag){case 31:case 13:var w=s.stateNode,N=s.memoizedState;N!==null&&(g=N.retryLane);break;case 19:w=s.stateNode;break;case 22:w=s.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(f),i4(s,g)}function bG(s,f){return qt(s,f)}var Ng=null,id=null,Zb=!1,Rg=!1,ew=!1,Cc=0;function As(s){s!==id&&s.next===null&&(id===null?Ng=id=s:id=id.next=s),Rg=!0,Zb||(Zb=!0,_G())}function xp(s,f){if(!ew&&Rg){ew=!0;do for(var g=!1,w=Ng;w!==null;){if(s!==0){var N=w.pendingLanes;if(N===0)var P=0;else{var W=w.suspendedLanes,re=w.pingedLanes;P=(1<<31-xt(42|s)+1)-1,P&=N&~(W&~re),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(g=!0,l4(w,P))}else P=hn,P=La(w,w===Qn?P:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(P&3)===0||Ar(w,P)||(g=!0,l4(w,P));w=w.next}while(g);ew=!1}}function wG(){a4()}function a4(){Rg=Zb=!1;var s=0;Cc!==0&&MG()&&(s=Cc);for(var f=cn(),g=null,w=Ng;w!==null;){var N=w.next,P=o4(w,f);P===0?(w.next=null,g===null?Ng=N:g.next=N,N===null&&(id=g)):(g=w,(s!==0||(P&3)!==0)&&(Rg=!0)),w=N}ri!==0&&ri!==5||xp(s),Cc!==0&&(Cc=0)}function o4(s,f){for(var g=s.suspendedLanes,w=s.pingedLanes,N=s.expirationTimes,P=s.pendingLanes&-62914561;0<P;){var W=31-xt(P),re=1<<W,de=N[W];de===-1?((re&g)===0||(re&w)!==0)&&(N[W]=_u(re,f)):de<=f&&(s.expiredLanes|=re),P&=~re}if(f=Qn,g=hn,g=La(s,s===f?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w=s.callbackNode,g===0||s===f&&(Fn===2||Fn===9)||s.cancelPendingCommit!==null)return w!==null&&w!==null&&$e(w),s.callbackNode=null,s.callbackPriority=0;if((g&3)===0||Ar(s,g)){if(f=g&-g,f===s.callbackPriority)return f;switch(w!==null&&$e(w),xi(g)){case 2:case 8:g=Da;break;case 32:g=zr;break;case 268435456:g=hs;break;default:g=zr}return w=s4.bind(null,s),g=qt(g,w),s.callbackPriority=f,s.callbackNode=g,f}return w!==null&&w!==null&&$e(w),s.callbackPriority=2,s.callbackNode=null,2}function s4(s,f){if(ri!==0&&ri!==5)return s.callbackNode=null,s.callbackPriority=0,null;var g=s.callbackNode;if(Ig()&&s.callbackNode!==g)return null;var w=hn;return w=La(s,s===Qn?w:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),w===0?null:(z3(s,w,f),o4(s,cn()),s.callbackNode!=null&&s.callbackNode===g?s4.bind(null,s):null)}function l4(s,f){if(Ig())return null;z3(s,f,!0)}function _G(){DG(function(){(On&6)!==0?qt(hr,wG):a4()})}function tw(){if(Cc===0){var s=Hf;s===0&&(s=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),Cc=s}return Cc}function c4(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:gs(""+s)}function u4(s,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,s.id&&g.setAttribute("form",s.id),f.parentNode.insertBefore(g,f),s=new FormData(s),g.parentNode.removeChild(g),s}function AG(s,f,g,w,N){if(f==="submit"&&g&&g.stateNode===N){var P=c4((N[_n]||null).action),W=w.submitter;W&&(f=(f=W[_n]||null)?c4(f.formAction):W.getAttribute("formAction"),f!==null&&(P=f,W=null));var re=new sr("action","action",null,w,N);s.push({event:re,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Cc!==0){var de=W?u4(N,W):new FormData(N);wb(g,{pending:!0,data:de,method:N.method,action:P},null,de)}}else typeof P=="function"&&(re.preventDefault(),de=W?u4(N,W):new FormData(N),wb(g,{pending:!0,data:de,method:N.method,action:P},P,de))},currentTarget:N}]})}}for(var nw=0;nw<Xh.length;nw++){var rw=Xh[nw],EG=rw.toLowerCase(),SG=rw[0].toUpperCase()+rw.slice(1);$o(EG,"on"+SG)}$o(wa,"onAnimationEnd"),$o(Ti,"onAnimationIteration"),$o(jn,"onAnimationStart"),$o("dblclick","onDoubleClick"),$o("focusin","onFocus"),$o("focusout","onBlur"),$o(ni,"onTransitionRun"),$o(ra,"onTransitionStart"),$o(fc,"onTransitionCancel"),$o(rl,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bp));function f4(s,f){f=(f&4)!==0;for(var g=0;g<s.length;g++){var w=s[g],N=w.event;w=w.listeners;e:{var P=void 0;if(f)for(var W=w.length-1;0<=W;W--){var re=w[W],de=re.instance,Ee=re.currentTarget;if(re=re.listener,de!==P&&N.isPropagationStopped())break e;P=re,N.currentTarget=Ee;try{P(N)}catch(Pe){G0(Pe)}N.currentTarget=null,P=de}else for(W=0;W<w.length;W++){if(re=w[W],de=re.instance,Ee=re.currentTarget,re=re.listener,de!==P&&N.isPropagationStopped())break e;P=re,N.currentTarget=Ee;try{P(N)}catch(Pe){G0(Pe)}N.currentTarget=null,P=de}}}}function ln(s,f){var g=f[zo];g===void 0&&(g=f[zo]=new Set);var w=s+"__bubble";g.has(w)||(d4(f,s,2,!1),g.add(w))}function iw(s,f,g){var w=0;f&&(w|=4),d4(g,s,w,f)}var Og="_reactListening"+Math.random().toString(36).slice(2);function aw(s){if(!s[Og]){s[Og]=!0,Fe.forEach(function(g){g!=="selectionchange"&&(TG.has(g)||iw(g,!1,s),iw(g,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Og]||(f[Og]=!0,iw("selectionchange",!1,f))}}function d4(s,f,g,w){switch(V4(f)){case 2:var N=e$;break;case 8:N=t$;break;default:N=bw}g=N.bind(null,f,g,s),N=void 0,!Ys||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(N=!0),w?N!==void 0?s.addEventListener(f,g,{capture:!0,passive:N}):s.addEventListener(f,g,!0):N!==void 0?s.addEventListener(f,g,{passive:N}):s.addEventListener(f,g,!1)}function ow(s,f,g,w,N){var P=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var re=w.stateNode.containerInfo;if(re===N)break;if(W===4)for(W=w.return;W!==null;){var de=W.tag;if((de===3||de===4)&&W.stateNode.containerInfo===N)return;W=W.return}for(;re!==null;){if(W=rr(re),W===null)return;if(de=W.tag,de===5||de===6||de===26||de===27){w=P=W;continue e}re=re.parentNode}}w=w.return}ys(function(){var Ee=P,Pe=va(g),je=[];e:{var Se=q0.get(s);if(Se!==void 0){var Re=sr,ft=s;switch(s){case"keypress":if(Fa(g)===0)break e;case"keydown":case"keyup":Re=Zs;break;case"focusin":ft="focus",Re=Qs;break;case"focusout":ft="blur",Re=Qs;break;case"beforeblur":case"afterblur":Re=Qs;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Xs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=z;break;case wa:case Ti:case jn:Re=Gt;break;case rl:Re=ae;break;case"scroll":case"scrollend":Re=oc;break;case"wheel":Re=Ne;break;case"copy":case"cut":case"paste":Re=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=on;break;case"toggle":case"beforetoggle":Re=Bt}var Mt=(f&4)!==0,Wn=!Mt&&(s==="scroll"||s==="scrollend"),ve=Mt?Se!==null?Se+"Capture":null:Se;Mt=[];for(var ye=Ee,_e;ye!==null;){var ke=ye;if(_e=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||_e===null||ve===null||(ke=Nt(ye,ve),ke!=null&&Mt.push(wp(ye,ke,_e))),Wn)break;ye=ye.return}0<Mt.length&&(Se=new Re(Se,ft,null,g,Pe),je.push({event:Se,listeners:Mt}))}}if((f&7)===0){e:{if(Se=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",Se&&g!==Ws&&(ft=g.relatedTarget||g.fromElement)&&(rr(ft)||ft[wi]))break e;if((Re||Se)&&(Se=Pe.window===Pe?Pe:(Se=Pe.ownerDocument)?Se.defaultView||Se.parentWindow:window,Re?(ft=g.relatedTarget||g.toElement,Re=Ee,ft=ft?rr(ft):null,ft!==null&&(Wn=a(ft),Mt=ft.tag,ft!==Wn||Mt!==5&&Mt!==27&&Mt!==6)&&(ft=null)):(Re=null,ft=Ee),Re!==ft)){if(Mt=bn,ke="onMouseLeave",ve="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&(Mt=on,ke="onPointerLeave",ve="onPointerEnter",ye="pointer"),Wn=Re==null?Se:ki(Re),_e=ft==null?Se:ki(ft),Se=new Mt(ke,ye+"leave",Re,g,Pe),Se.target=Wn,Se.relatedTarget=_e,ke=null,rr(Pe)===Ee&&(Mt=new Mt(ve,ye+"enter",ft,g,Pe),Mt.target=_e,Mt.relatedTarget=Wn,ke=Mt),Wn=ke,Re&&ft)t:{for(Mt=CG,ve=Re,ye=ft,_e=0,ke=ve;ke;ke=Mt(ke))_e++;ke=0;for(var At=ye;At;At=Mt(At))ke++;for(;0<_e-ke;)ve=Mt(ve),_e--;for(;0<ke-_e;)ye=Mt(ye),ke--;for(;_e--;){if(ve===ye||ye!==null&&ve===ye.alternate){Mt=ve;break t}ve=Mt(ve),ye=Mt(ye)}Mt=null}else Mt=null;Re!==null&&h4(je,Se,Re,Mt,!1),ft!==null&&Wn!==null&&h4(je,Wn,ft,Mt,!0)}}e:{if(Se=Ee?ki(Ee):window,Re=Se.nodeName&&Se.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Se.type==="file")var Tn=Ha;else if(Kh(Se))if(H0)Tn=v;else{Tn=h;var pt=l}else Re=Se.nodeName,!Re||Re.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ee&&kn(Ee.elementType)&&(Tn=Ha):Tn=p;if(Tn&&(Tn=Tn(s,Ee))){za(je,Tn,g,Pe);break e}pt&&pt(s,Se,Ee),s==="focusout"&&Ee&&Se.type==="number"&&Ee.memoizedProps.value!=null&&se(Se,"number",Se.value)}switch(pt=Ee?ki(Ee):window,s){case"focusin":(Kh(pt)||pt.contentEditable==="true")&&(he=pt,me=Ee,be=null);break;case"focusout":be=me=he=null;break;case"mousedown":Ie=!0;break;case"contextmenu":case"mouseup":case"dragend":Ie=!1,Ye(je,g,Pe);break;case"selectionchange":if(ce)break;case"keydown":case"keyup":Ye(je,g,Pe)}var Xt;if(vn)e:{switch(s){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else uc?el(s,g)&&(pn="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(pn="onCompositionStart");pn&&(yo&&g.locale!=="ko"&&(uc||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&uc&&(Xt=Ho()):(Ba=Pe,Ua="value"in Ba?Ba.value:Ba.textContent,uc=!0)),pt=Mg(Ee,pn),0<pt.length&&(pn=new po(pn,s,null,g,Pe),je.push({event:pn,listeners:pt}),Xt?pn.data=Xt:(Xt=vo(g),Xt!==null&&(pn.data=Xt)))),(Xt=ta?xs(s,g):Lf(s,g))&&(pn=Mg(Ee,"onBeforeInput"),0<pn.length&&(pt=new po("onBeforeInput","beforeinput",null,g,Pe),je.push({event:pt,listeners:pn}),pt.data=Xt)),AG(je,s,Ee,g,Pe)}f4(je,f)})}function wp(s,f,g){return{instance:s,listener:f,currentTarget:g}}function Mg(s,f){for(var g=f+"Capture",w=[];s!==null;){var N=s,P=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||P===null||(N=Nt(s,g),N!=null&&w.unshift(wp(s,N,P)),N=Nt(s,f),N!=null&&w.push(wp(s,N,P))),s.tag===3)return w;s=s.return}return[]}function CG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function h4(s,f,g,w,N){for(var P=f._reactName,W=[];g!==null&&g!==w;){var re=g,de=re.alternate,Ee=re.stateNode;if(re=re.tag,de!==null&&de===w)break;re!==5&&re!==26&&re!==27||Ee===null||(de=Ee,N?(Ee=Nt(g,P),Ee!=null&&W.unshift(wp(g,Ee,de))):N||(Ee=Nt(g,P),Ee!=null&&W.push(wp(g,Ee,de)))),g=g.return}W.length!==0&&s.push({event:f,listeners:W})}var IG=/\r\n?/g,NG=/\u0000|\uFFFD/g;function p4(s){return(typeof s=="string"?s:""+s).replace(IG,`
`).replace(NG,"")}function m4(s,f){return f=p4(f),p4(s)===f}function $n(s,f,g,w,N,P){switch(g){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||ji(s,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&ji(s,""+w);break;case"className":Ei(s,"class",w);break;case"tabIndex":Ei(s,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(s,g,w);break;case"style":yt(s,w,P);break;case"data":if(f!=="object"){Ei(s,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||g!=="href")){s.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=gs(""+w),s.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){s.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(g==="formAction"?(f!=="input"&&$n(s,f,"name",N.name,N,null),$n(s,f,"formEncType",N.formEncType,N,null),$n(s,f,"formMethod",N.formMethod,N,null),$n(s,f,"formTarget",N.formTarget,N,null)):($n(s,f,"encType",N.encType,N,null),$n(s,f,"method",N.method,N,null),$n(s,f,"target",N.target,N,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){s.removeAttribute(g);break}w=gs(""+w),s.setAttribute(g,w);break;case"onClick":w!=null&&(s.onclick=Bi);break;case"onScroll":w!=null&&ln("scroll",s);break;case"onScrollEnd":w!=null&&ln("scrollend",s);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(N.children!=null)throw Error(r(60));s.innerHTML=g}}break;case"multiple":s.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":s.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){s.removeAttribute("xlink:href");break}g=gs(""+w),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""+w):s.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,""):s.removeAttribute(g);break;case"capture":case"download":w===!0?s.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?s.setAttribute(g,w):s.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?s.setAttribute(g,w):s.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?s.removeAttribute(g):s.setAttribute(g,w);break;case"popover":ln("beforetoggle",s),ln("toggle",s),ps(s,"popover",w);break;case"xlinkActuate":gr(s,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":gr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":gr(s,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":gr(s,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":gr(s,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":gr(s,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":gr(s,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":gr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":gr(s,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":ps(s,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tu.get(g)||g,ps(s,g,w))}}function sw(s,f,g,w,N,P){switch(g){case"style":yt(s,w,P);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(N.children!=null)throw Error(r(60));s.innerHTML=g}}break;case"children":typeof w=="string"?ji(s,w):(typeof w=="number"||typeof w=="bigint")&&ji(s,""+w);break;case"onScroll":w!=null&&ln("scroll",s);break;case"onScrollEnd":w!=null&&ln("scrollend",s);break;case"onClick":w!=null&&(s.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Au.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(N=g.endsWith("Capture"),f=g.slice(2,N?g.length-7:void 0),P=s[_n]||null,P=P!=null?P[g]:null,typeof P=="function"&&s.removeEventListener(f,P,N),typeof w=="function")){typeof P!="function"&&P!==null&&(g in s?s[g]=null:s.hasAttribute(g)&&s.removeAttribute(g)),s.addEventListener(f,w,N);break e}g in s?s[g]=w:w===!0?s.setAttribute(g,""):ps(s,g,w)}}}function Ri(s,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ln("error",s),ln("load",s);var w=!1,N=!1,P;for(P in g)if(g.hasOwnProperty(P)){var W=g[P];if(W!=null)switch(P){case"src":w=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$n(s,f,P,W,g,null)}}N&&$n(s,f,"srcSet",g.srcSet,g,null),w&&$n(s,f,"src",g.src,g,null);return;case"input":ln("invalid",s);var re=P=W=N=null,de=null,Ee=null;for(w in g)if(g.hasOwnProperty(w)){var Pe=g[w];if(Pe!=null)switch(w){case"name":N=Pe;break;case"type":W=Pe;break;case"checked":de=Pe;break;case"defaultChecked":Ee=Pe;break;case"value":P=Pe;break;case"defaultValue":re=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,f));break;default:$n(s,f,w,Pe,g,null)}}we(s,P,re,de,Ee,W,N,!1);return;case"select":ln("invalid",s),w=W=P=null;for(N in g)if(g.hasOwnProperty(N)&&(re=g[N],re!=null))switch(N){case"value":P=re;break;case"defaultValue":W=re;break;case"multiple":w=re;default:$n(s,f,N,re,g,null)}f=P,g=W,s.multiple=!!w,f!=null?ut(s,!!w,f,!1):g!=null&&ut(s,!!w,g,!0);return;case"textarea":ln("invalid",s),P=N=w=null;for(W in g)if(g.hasOwnProperty(W)&&(re=g[W],re!=null))switch(W){case"value":w=re;break;case"defaultValue":N=re;break;case"children":P=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(91));break;default:$n(s,f,W,re,g,null)}jr(s,w,N,P);return;case"option":for(de in g)if(g.hasOwnProperty(de)&&(w=g[de],w!=null))switch(de){case"selected":s.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:$n(s,f,de,w,g,null)}return;case"dialog":ln("beforetoggle",s),ln("toggle",s),ln("cancel",s),ln("close",s);break;case"iframe":case"object":ln("load",s);break;case"video":case"audio":for(w=0;w<bp.length;w++)ln(bp[w],s);break;case"image":ln("error",s),ln("load",s);break;case"details":ln("toggle",s);break;case"embed":case"source":case"link":ln("error",s),ln("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in g)if(g.hasOwnProperty(Ee)&&(w=g[Ee],w!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$n(s,f,Ee,w,g,null)}return;default:if(kn(f)){for(Pe in g)g.hasOwnProperty(Pe)&&(w=g[Pe],w!==void 0&&sw(s,f,Pe,w,g,void 0));return}}for(re in g)g.hasOwnProperty(re)&&(w=g[re],w!=null&&$n(s,f,re,w,g,null))}function RG(s,f,g,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,P=null,W=null,re=null,de=null,Ee=null,Pe=null;for(Re in g){var je=g[Re];if(g.hasOwnProperty(Re)&&je!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":de=je;default:w.hasOwnProperty(Re)||$n(s,f,Re,null,w,je)}}for(var Se in w){var Re=w[Se];if(je=g[Se],w.hasOwnProperty(Se)&&(Re!=null||je!=null))switch(Se){case"type":P=Re;break;case"name":N=Re;break;case"checked":Ee=Re;break;case"defaultChecked":Pe=Re;break;case"value":W=Re;break;case"defaultValue":re=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,f));break;default:Re!==je&&$n(s,f,Se,Re,w,je)}}Er(s,W,re,de,Ee,Pe,P,N);return;case"select":Re=W=re=Se=null;for(P in g)if(de=g[P],g.hasOwnProperty(P)&&de!=null)switch(P){case"value":break;case"multiple":Re=de;default:w.hasOwnProperty(P)||$n(s,f,P,null,w,de)}for(N in w)if(P=w[N],de=g[N],w.hasOwnProperty(N)&&(P!=null||de!=null))switch(N){case"value":Se=P;break;case"defaultValue":re=P;break;case"multiple":W=P;default:P!==de&&$n(s,f,N,P,w,de)}f=re,g=W,w=Re,Se!=null?ut(s,!!g,Se,!1):!!w!=!!g&&(f!=null?ut(s,!!g,f,!0):ut(s,!!g,g?[]:"",!1));return;case"textarea":Re=Se=null;for(re in g)if(N=g[re],g.hasOwnProperty(re)&&N!=null&&!w.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:$n(s,f,re,null,w,N)}for(W in w)if(N=w[W],P=g[W],w.hasOwnProperty(W)&&(N!=null||P!=null))switch(W){case"value":Se=N;break;case"defaultValue":Re=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==P&&$n(s,f,W,N,w,P)}Sr(s,Se,Re);return;case"option":for(var ft in g)if(Se=g[ft],g.hasOwnProperty(ft)&&Se!=null&&!w.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:$n(s,f,ft,null,w,Se)}for(de in w)if(Se=w[de],Re=g[de],w.hasOwnProperty(de)&&Se!==Re&&(Se!=null||Re!=null))switch(de){case"selected":s.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:$n(s,f,de,Se,w,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in g)Se=g[Mt],g.hasOwnProperty(Mt)&&Se!=null&&!w.hasOwnProperty(Mt)&&$n(s,f,Mt,null,w,Se);for(Ee in w)if(Se=w[Ee],Re=g[Ee],w.hasOwnProperty(Ee)&&Se!==Re&&(Se!=null||Re!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,f));break;default:$n(s,f,Ee,Se,w,Re)}return;default:if(kn(f)){for(var Wn in g)Se=g[Wn],g.hasOwnProperty(Wn)&&Se!==void 0&&!w.hasOwnProperty(Wn)&&sw(s,f,Wn,void 0,w,Se);for(Pe in w)Se=w[Pe],Re=g[Pe],!w.hasOwnProperty(Pe)||Se===Re||Se===void 0&&Re===void 0||sw(s,f,Pe,Se,w,Re);return}}for(var ve in g)Se=g[ve],g.hasOwnProperty(ve)&&Se!=null&&!w.hasOwnProperty(ve)&&$n(s,f,ve,null,w,Se);for(je in w)Se=w[je],Re=g[je],!w.hasOwnProperty(je)||Se===Re||Se==null&&Re==null||$n(s,f,je,Se,w,Re)}function g4(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var N=g[w],P=N.transferSize,W=N.initiatorType,re=N.duration;if(P&&re&&g4(W)){for(W=0,re=N.responseEnd,w+=1;w<g.length;w++){var de=g[w],Ee=de.startTime;if(Ee>re)break;var Pe=de.transferSize,je=de.initiatorType;Pe&&g4(je)&&(de=de.responseEnd,W+=Pe*(de<re?1:(re-Ee)/(de-Ee)))}if(--w,f+=8*(P+W)/(N.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var lw=null,cw=null;function Pg(s){return s.nodeType===9?s:s.ownerDocument}function y4(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v4(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function uw(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var fw=null;function MG(){var s=window.event;return s&&s.type==="popstate"?s===fw?!1:(fw=s,!0):(fw=null,!1)}var x4=typeof setTimeout=="function"?setTimeout:void 0,PG=typeof clearTimeout=="function"?clearTimeout:void 0,b4=typeof Promise=="function"?Promise:void 0,DG=typeof queueMicrotask=="function"?queueMicrotask:typeof b4<"u"?function(s){return b4.resolve(null).then(s).catch(kG)}:x4;function kG(s){setTimeout(function(){throw s})}function Ic(s){return s==="head"}function w4(s,f){var g=f,w=0;do{var N=g.nextSibling;if(s.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"||g==="/&"){if(w===0){s.removeChild(N),ld(f);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")_p(s.ownerDocument.documentElement);else if(g==="head"){g=s.ownerDocument.head,_p(g);for(var P=g.firstChild;P;){var W=P.nextSibling,re=P.nodeName;P[uo]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&P.rel.toLowerCase()==="stylesheet"||g.removeChild(P),P=W}}else g==="body"&&_p(s.ownerDocument.body);g=N}while(g);ld(f)}function _4(s,f){var g=s;s=0;do{var w=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(s===0)break;s--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||s++;g=w}while(g)}function dw(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":dw(g),_i(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}s.removeChild(g)}}function LG(s,f,g,w){for(;s.nodeType===1;){var N=g;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(w){if(!s[uo])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(P=s.getAttribute("rel"),P==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(P!==N.rel||s.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||s.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||s.getAttribute("title")!==(N.title==null?null:N.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(P=s.getAttribute("src"),(P!==(N.src==null?null:N.src)||s.getAttribute("type")!==(N.type==null?null:N.type)||s.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&P&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var P=N.name==null?null:""+N.name;if(N.type==="hidden"&&s.getAttribute("name")===P)return s}else return s;if(s=So(s.nextSibling),s===null)break}return null}function jG(s,f,g){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!g||(s=So(s.nextSibling),s===null))return null;return s}function A4(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=So(s.nextSibling),s===null))return null;return s}function hw(s){return s.data==="$?"||s.data==="$~"}function pw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function BG(s,f){var g=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||g.readyState!=="loading")f();else{var w=function(){f(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),s._reactRetry=w}}function So(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var mw=null;function E4(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"||g==="/&"){if(f===0)return So(s.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}s=s.nextSibling}return null}function S4(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return s;f--}else g!=="/$"&&g!=="/&"||f++}s=s.previousSibling}return null}function T4(s,f,g){switch(f=Pg(g),s){case"html":if(s=f.documentElement,!s)throw Error(r(452));return s;case"head":if(s=f.head,!s)throw Error(r(453));return s;case"body":if(s=f.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function _p(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_i(s)}var To=new Map,C4=new Set;function Dg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var vl=fe.d;fe.d={f:UG,r:FG,D:VG,C:zG,L:HG,m:qG,X:$G,S:GG,M:WG};function UG(){var s=vl.f(),f=Sg();return s||f}function FG(s){var f=rn(s);f!==null&&f.tag===5&&f.type==="form"?qR(f):vl.r(s)}var ad=typeof document>"u"?null:document;function I4(s,f,g){var w=ad;if(w&&typeof f=="string"&&f){var N=Kt(f);N='link[rel="'+s+'"][href="'+N+'"]',typeof g=="string"&&(N+='[crossorigin="'+g+'"]'),C4.has(N)||(C4.add(N),s={rel:s,crossOrigin:g,href:f},w.querySelector(N)===null&&(f=w.createElement("link"),Ri(f,"link",s),mr(f),w.head.appendChild(f)))}}function VG(s){vl.D(s),I4("dns-prefetch",s,null)}function zG(s,f){vl.C(s,f),I4("preconnect",s,f)}function HG(s,f,g){vl.L(s,f,g);var w=ad;if(w&&s&&f){var N='link[rel="preload"][as="'+Kt(f)+'"]';f==="image"&&g&&g.imageSrcSet?(N+='[imagesrcset="'+Kt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(N+='[imagesizes="'+Kt(g.imageSizes)+'"]')):N+='[href="'+Kt(s)+'"]';var P=N;switch(f){case"style":P=od(s);break;case"script":P=sd(s)}To.has(P)||(s=y({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:s,as:f},g),To.set(P,s),w.querySelector(N)!==null||f==="style"&&w.querySelector(Ap(P))||f==="script"&&w.querySelector(Ep(P))||(f=w.createElement("link"),Ri(f,"link",s),mr(f),w.head.appendChild(f)))}}function qG(s,f){vl.m(s,f);var g=ad;if(g&&s){var w=f&&typeof f.as=="string"?f.as:"script",N='link[rel="modulepreload"][as="'+Kt(w)+'"][href="'+Kt(s)+'"]',P=N;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=sd(s)}if(!To.has(P)&&(s=y({rel:"modulepreload",href:s},f),To.set(P,s),g.querySelector(N)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Ep(P)))return}w=g.createElement("link"),Ri(w,"link",s),mr(w),g.head.appendChild(w)}}}function GG(s,f,g){vl.S(s,f,g);var w=ad;if(w&&s){var N=ti(w).hoistableStyles,P=od(s);f=f||"default";var W=N.get(P);if(!W){var re={loading:0,preload:null};if(W=w.querySelector(Ap(P)))re.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":f},g),(g=To.get(P))&&gw(s,g);var de=W=w.createElement("link");mr(de),Ri(de,"link",s),de._p=new Promise(function(Ee,Pe){de.onload=Ee,de.onerror=Pe}),de.addEventListener("load",function(){re.loading|=1}),de.addEventListener("error",function(){re.loading|=2}),re.loading|=4,kg(W,f,w)}W={type:"stylesheet",instance:W,count:1,state:re},N.set(P,W)}}}function $G(s,f){vl.X(s,f);var g=ad;if(g&&s){var w=ti(g).hoistableScripts,N=sd(s),P=w.get(N);P||(P=g.querySelector(Ep(N)),P||(s=y({src:s,async:!0},f),(f=To.get(N))&&yw(s,f),P=g.createElement("script"),mr(P),Ri(P,"link",s),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(N,P))}}function WG(s,f){vl.M(s,f);var g=ad;if(g&&s){var w=ti(g).hoistableScripts,N=sd(s),P=w.get(N);P||(P=g.querySelector(Ep(N)),P||(s=y({src:s,async:!0,type:"module"},f),(f=To.get(N))&&yw(s,f),P=g.createElement("script"),mr(P),Ri(P,"link",s),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},w.set(N,P))}}function N4(s,f,g,w){var N=(N=Be.current)?Dg(N):null;if(!N)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=od(g.href),g=ti(N).hoistableStyles,w=g.get(f),w||(w={type:"style",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){s=od(g.href);var P=ti(N).hoistableStyles,W=P.get(s);if(W||(N=N.ownerDocument||N,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(s,W),(P=N.querySelector(Ap(s)))&&!P._p&&(W.instance=P,W.state.loading=5),To.has(s)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},To.set(s,g),P||YG(N,s,g,W.state))),f&&w===null)throw Error(r(528,""));return W}if(f&&w!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=sd(g),g=ti(N).hoistableScripts,w=g.get(f),w||(w={type:"script",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function od(s){return'href="'+Kt(s)+'"'}function Ap(s){return'link[rel="stylesheet"]['+s+"]"}function R4(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function YG(s,f,g,w){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=s.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),Ri(f,"link",g),mr(f),s.head.appendChild(f))}function sd(s){return'[src="'+Kt(s)+'"]'}function Ep(s){return"script[async]"+s}function O4(s,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var w=s.querySelector('style[data-href~="'+Kt(g.href)+'"]');if(w)return f.instance=w,mr(w),w;var N=y({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(s.ownerDocument||s).createElement("style"),mr(w),Ri(w,"style",N),kg(w,g.precedence,s),f.instance=w;case"stylesheet":N=od(g.href);var P=s.querySelector(Ap(N));if(P)return f.state.loading|=4,f.instance=P,mr(P),P;w=R4(g),(N=To.get(N))&&gw(w,N),P=(s.ownerDocument||s).createElement("link"),mr(P);var W=P;return W._p=new Promise(function(re,de){W.onload=re,W.onerror=de}),Ri(P,"link",w),f.state.loading|=4,kg(P,g.precedence,s),f.instance=P;case"script":return P=sd(g.src),(N=s.querySelector(Ep(P)))?(f.instance=N,mr(N),N):(w=g,(N=To.get(P))&&(w=y({},g),yw(w,N)),s=s.ownerDocument||s,N=s.createElement("script"),mr(N),Ri(N,"link",w),s.head.appendChild(N),f.instance=N);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,kg(w,g.precedence,s));return f.instance}function kg(s,f,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=w.length?w[w.length-1]:null,P=N,W=0;W<w.length;W++){var re=w[W];if(re.dataset.precedence===f)P=re;else if(P!==N)break}P?P.parentNode.insertBefore(s,P.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(s,f.firstChild))}function gw(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function yw(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Lg=null;function M4(s,f,g){if(Lg===null){var w=new Map,N=Lg=new Map;N.set(g,w)}else N=Lg,w=N.get(g),w||(w=new Map,N.set(g,w));if(w.has(s))return w;for(w.set(s,null),g=g.getElementsByTagName(s),N=0;N<g.length;N++){var P=g[N];if(!(P[uo]||P[pr]||s==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var W=P.getAttribute(f)||"";W=s+W;var re=w.get(W);re?re.push(P):w.set(W,[P])}}return w}function P4(s,f,g){s=s.ownerDocument||s,s.head.insertBefore(g,f==="title"?s.querySelector("head > title"):null)}function KG(s,f,g){if(g===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function D4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XG(s,f,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var N=od(w.href),P=f.querySelector(Ap(N));if(P){f=P._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=jg.bind(s),f.then(s,s)),g.state.loading|=4,g.instance=P,mr(P);return}P=f.ownerDocument||f,w=R4(w),(N=To.get(N))&&gw(w,N),P=P.createElement("link"),mr(P);var W=P;W._p=new Promise(function(re,de){W.onload=re,W.onerror=de}),Ri(P,"link",w),g.instance=P}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(s.count++,g=jg.bind(s),f.addEventListener("load",g),f.addEventListener("error",g))}}var vw=0;function QG(s,f){return s.stylesheets&&s.count===0&&Ug(s,s.stylesheets),0<s.count||0<s.imgCount?function(g){var w=setTimeout(function(){if(s.stylesheets&&Ug(s,s.stylesheets),s.unsuspend){var P=s.unsuspend;s.unsuspend=null,P()}},6e4+f);0<s.imgBytes&&vw===0&&(vw=62500*OG());var N=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ug(s,s.stylesheets),s.unsuspend)){var P=s.unsuspend;s.unsuspend=null,P()}},(s.imgBytes>vw?50:800)+f);return s.unsuspend=g,function(){s.unsuspend=null,clearTimeout(w),clearTimeout(N)}}:null}function jg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bg=null;function Ug(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bg=new Map,f.forEach(JG,s),Bg=null,jg.call(s))}function JG(s,f){if(!(f.state.loading&4)){var g=Bg.get(s);if(g)var w=g.get(null);else{g=new Map,Bg.set(s,g);for(var N=s.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<N.length;P++){var W=N[P];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(g.set(W.dataset.precedence,W),w=W)}w&&g.set(null,w)}N=f.instance,W=N.getAttribute("data-precedence"),P=g.get(W)||w,P===w&&g.set(null,N),g.set(W,N),this.count++,w=jg.bind(this),N.addEventListener("load",w),N.addEventListener("error",w),P?P.parentNode.insertBefore(N,P.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(N,s.firstChild)),f.state.loading|=4}}var Sp={$$typeof:U,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function ZG(s,f,g,w,N,P,W,re,de){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=P,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function k4(s,f,g,w,N,P,W,re,de,Ee,Pe,je){return s=new ZG(s,f,g,W,de,Ee,Pe,je,re),f=1,P===!0&&(f|=24),P=qa(3,null,null,f),s.current=P,P.stateNode=s,f=Qx(),f.refCount++,s.pooledCache=f,f.refCount++,P.memoizedState={element:w,isDehydrated:g,cache:f},tb(P),s}function L4(s){return s?(s=Bf,s):Bf}function j4(s,f,g,w,N,P){N=L4(N),w.context===null?w.context=N:w.pendingContext=N,w=yc(f),w.payload={element:g},P=P===void 0?null:P,P!==null&&(w.callback=P),g=vc(s,w,f),g!==null&&(Ta(g,s,f),rp(g,s,f))}function B4(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<f?g:f}}function xw(s,f){B4(s,f),(s=s.alternate)&&B4(s,f)}function U4(s){if(s.tag===13||s.tag===31){var f=Mu(s,67108864);f!==null&&Ta(f,s,67108864),xw(s,67108864)}}function F4(s){if(s.tag===13||s.tag===31){var f=Ka();f=Nr(f);var g=Mu(s,f);g!==null&&Ta(g,s,f),xw(s,f)}}var Fg=!0;function e$(s,f,g,w){var N=ie.T;ie.T=null;var P=fe.p;try{fe.p=2,bw(s,f,g,w)}finally{fe.p=P,ie.T=N}}function t$(s,f,g,w){var N=ie.T;ie.T=null;var P=fe.p;try{fe.p=8,bw(s,f,g,w)}finally{fe.p=P,ie.T=N}}function bw(s,f,g,w){if(Fg){var N=ww(w);if(N===null)ow(s,f,w,Vg,g),z4(s,w);else if(r$(N,s,f,g,w))w.stopPropagation();else if(z4(s,w),f&4&&-1<n$.indexOf(s)){for(;N!==null;){var P=rn(N);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var W=ka(P.pendingLanes);if(W!==0){var re=P;for(re.pendingLanes|=2,re.entangledLanes|=2;W;){var de=1<<31-xt(W);re.entanglements[1]|=de,W&=~de}As(P),(On&6)===0&&(Ag=cn()+500,xp(0))}}break;case 31:case 13:re=Mu(P,2),re!==null&&Ta(re,P,2),Sg(),xw(P,2)}if(P=ww(w),P===null&&ow(s,f,w,Vg,g),P===N)break;N=P}N!==null&&w.stopPropagation()}else ow(s,f,w,null,g)}}function ww(s){return s=va(s),_w(s)}var Vg=null;function _w(s){if(Vg=null,s=rr(s),s!==null){var f=a(s);if(f===null)s=null;else{var g=f.tag;if(g===13){if(s=o(f),s!==null)return s;s=null}else if(g===31){if(s=c(f),s!==null)return s;s=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return Vg=s,null}function V4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case hr:return 2;case Da:return 8;case zr:case Ir:return 32;case hs:return 268435456;default:return 32}default:return 32}}var Aw=!1,Nc=null,Rc=null,Oc=null,Tp=new Map,Cp=new Map,Mc=[],n$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z4(s,f){switch(s){case"focusin":case"focusout":Nc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":Tp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(f.pointerId)}}function Ip(s,f,g,w,N,P){return s===null||s.nativeEvent!==P?(s={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:P,targetContainers:[N]},f!==null&&(f=rn(f),f!==null&&U4(f)),s):(s.eventSystemFlags|=w,f=s.targetContainers,N!==null&&f.indexOf(N)===-1&&f.push(N),s)}function r$(s,f,g,w,N){switch(f){case"focusin":return Nc=Ip(Nc,s,f,g,w,N),!0;case"dragenter":return Rc=Ip(Rc,s,f,g,w,N),!0;case"mouseover":return Oc=Ip(Oc,s,f,g,w,N),!0;case"pointerover":var P=N.pointerId;return Tp.set(P,Ip(Tp.get(P)||null,s,f,g,w,N)),!0;case"gotpointercapture":return P=N.pointerId,Cp.set(P,Ip(Cp.get(P)||null,s,f,g,w,N)),!0}return!1}function H4(s){var f=rr(s.target);if(f!==null){var g=a(f);if(g!==null){if(f=g.tag,f===13){if(f=o(g),f!==null){s.blockedOn=f,Je(s.priority,function(){F4(g)});return}}else if(f===31){if(f=c(g),f!==null){s.blockedOn=f,Je(s.priority,function(){F4(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zg(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var g=ww(s.nativeEvent);if(g===null){g=s.nativeEvent;var w=new g.constructor(g.type,g);Ws=w,g.target.dispatchEvent(w),Ws=null}else return f=rn(g),f!==null&&U4(f),s.blockedOn=g,!1;f.shift()}return!0}function q4(s,f,g){zg(s)&&g.delete(f)}function i$(){Aw=!1,Nc!==null&&zg(Nc)&&(Nc=null),Rc!==null&&zg(Rc)&&(Rc=null),Oc!==null&&zg(Oc)&&(Oc=null),Tp.forEach(q4),Cp.forEach(q4)}function Hg(s,f){s.blockedOn===f&&(s.blockedOn=null,Aw||(Aw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i$)))}var qg=null;function G4(s){qg!==s&&(qg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qg===s&&(qg=null);for(var f=0;f<s.length;f+=3){var g=s[f],w=s[f+1],N=s[f+2];if(typeof w!="function"){if(_w(w||g)===null)continue;break}var P=rn(g);P!==null&&(s.splice(f,3),f-=3,wb(P,{pending:!0,data:N,method:g.method,action:w},w,N))}}))}function ld(s){function f(de){return Hg(de,s)}Nc!==null&&Hg(Nc,s),Rc!==null&&Hg(Rc,s),Oc!==null&&Hg(Oc,s),Tp.forEach(f),Cp.forEach(f);for(var g=0;g<Mc.length;g++){var w=Mc[g];w.blockedOn===s&&(w.blockedOn=null)}for(;0<Mc.length&&(g=Mc[0],g.blockedOn===null);)H4(g),g.blockedOn===null&&Mc.shift();if(g=(s.ownerDocument||s).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var N=g[w],P=g[w+1],W=N[_n]||null;if(typeof P=="function")W||G4(g);else if(W){var re=null;if(P&&P.hasAttribute("formAction")){if(N=P,W=P[_n]||null)re=W.formAction;else if(_w(N)!==null)continue}else re=W.action;typeof re=="function"?g[w+1]=re:(g.splice(w,3),w-=3),G4(g)}}}function $4(){function s(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(W){return N=W})},focusReset:"manual",scroll:"manual"})}function f(){N!==null&&(N(),N=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,N=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),N!==null&&(N(),N=null)}}}function Ew(s){this._internalRoot=s}Gg.prototype.render=Ew.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,w=Ka();j4(g,w,s,f,null,null)},Gg.prototype.unmount=Ew.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;j4(s.current,2,null,s,null,null),Sg(),f[wi]=null}};function Gg(s){this._internalRoot=s}Gg.prototype.unstable_scheduleHydration=function(s){if(s){var f=bi();s={blockedOn:null,target:s,priority:f};for(var g=0;g<Mc.length&&f!==0&&f<Mc[g].priority;g++);Mc.splice(g,0,s),g===0&&H4(s)}};var W4=e.version;if(W4!=="19.2.3")throw Error(r(527,W4,"19.2.3"));fe.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=u(f),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var a$={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Wt=$g.inject(a$),Ge=$g}catch{}}return Rp.createRoot=function(s,f){if(!i(s))throw Error(r(299));var g=!1,w="",N=e3,P=t3,W=n3;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=k4(s,1,!1,null,null,g,w,null,N,P,W,$4),s[wi]=f.current,aw(s),new Ew(f)},Rp.hydrateRoot=function(s,f,g){if(!i(s))throw Error(r(299));var w=!1,N="",P=e3,W=t3,re=n3,de=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onUncaughtError!==void 0&&(P=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(re=g.onRecoverableError),g.formState!==void 0&&(de=g.formState)),f=k4(s,1,!0,f,g??null,w,N,de,P,W,re,$4),f.context=L4(null),g=f.current,w=Ka(),w=Nr(w),N=yc(w),N.callback=null,vc(g,N,w),g=w,f.current.lanes=g,co(f,g),As(f),s[wi]=f.current,aw(s),new Gg(f)},Rp.version="19.2.3",Rp}var rO;function g$(){if(rO)return Cw.exports;rO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cw.exports=m$(),Cw.exports}var y$=g$();const v$=En(y$);/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iO="popstate";function x$(t={}){function e(i,a){let{pathname:o="/",search:c="",hash:d=""}=_f(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sS("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let d=i.location.href,u=d.indexOf("#");c=u===-1?d:d.slice(0,u)}return c+"#"+(typeof a=="string"?a:bm(a))}function r(i,a){Lo(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return w$(e,n,r,t)}function _r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b$(){return Math.random().toString(36).substring(2,10)}function aO(t,e){return{usr:t.state,key:t.key,idx:e}}function sS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_f(e):e,state:n,key:e&&e.key||r||b$()}}function bm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,u=m();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function m(){return(o.state||{idx:null}).idx}function y(){c="POP";let R=m(),j=R==null?null:R-u;u=R,d&&d({action:c,location:M.location,delta:j})}function _(R,j){c="PUSH";let B=sS(M.location,R,j);n&&n(B,R),u=m()+1;let U=aO(B,u),$=M.createHref(B);try{o.pushState(U,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign($)}a&&d&&d({action:c,location:M.location,delta:1})}function I(R,j){c="REPLACE";let B=sS(M.location,R,j);n&&n(B,R),u=m();let U=aO(B,u),$=M.createHref(B);o.replaceState(U,"",$),a&&d&&d({action:c,location:M.location,delta:0})}function D(R){let j=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof R=="string"?R:bm(R);return B=B.replace(/ $/,"%20"),_r(j,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,j)}let M={get action(){return c},get location(){return t(i,o)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(iO,y),d=R,()=>{i.removeEventListener(iO,y),d=null}},createHref(R){return e(i,R)},createURL:D,encodeLocation(R){let j=D(R);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:I,go(R){return o.go(R)}};return M}function sj(t,e,n="/"){return _$(t,e,n,!1)}function _$(t,e,n,r){let i=typeof e=="string"?_f(e):e,a=nu(i.pathname||"/",n);if(a==null)return null;let o=lj(t);A$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=D$(a);c=M$(o[d],u,r)}return c}function lj(t,e=[],n=[],r=""){let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(_r(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let u=Ol([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(_r(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),lj(a.children,e,m,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:R$(u,a.index),routesMeta:m})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of cj(a.path))i(a,o,d)}),e}function cj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=cj(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function A$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E$=/^:[\w-]+$/,S$=3,T$=2,C$=1,I$=10,N$=-2,oO=t=>t==="*";function R$(t,e){let n=t.split("/"),r=n.length;return n.some(oO)&&(r+=N$),e&&(r+=T$),n.filter(i=>!oO(i)).reduce((i,a)=>i+(E$.test(a)?S$:a===""?C$:I$),r)}function O$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M$(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],u=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=By({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},m),_=d.route;if(!y&&u&&n&&!r[r.length-1].route.index&&(y=By({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:Ol([a,y.pathname]),pathnameBase:B$(Ol([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Ol([a,y.pathnameBase]))}return o}function By(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,{paramName:m,isOptional:y},_)=>{if(m==="*"){let D=c[_]||"";o=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const I=c[_];return y&&!I?u[m]=void 0:u[m]=(I||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function P$(t,e=!1,n=!0){Lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function D$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lo(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_f(t):t;return{pathname:n?n.startsWith("/")?n:L$(n,e):e,search:U$(r),hash:F$(i)}}function L$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ow(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EC(t){let e=j$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function SC(t,e,n,r=!1){let i;typeof t=="string"?i=_f(t):(i={...t},_r(!i.pathname||!i.pathname.includes("?"),Ow("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),Ow("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),Ow("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let y=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=k$(i,c),u=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||m)&&(d.pathname+="/"),d}var Ol=t=>t.join("/").replace(/\/\/+/g,"/"),B$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uj=["POST","PUT","PATCH","DELETE"];new Set(uj);var z$=["GET",...uj];new Set(z$);var Ah=ne.createContext(null);Ah.displayName="DataRouter";var bv=ne.createContext(null);bv.displayName="DataRouterState";var fj=ne.createContext({isTransitioning:!1});fj.displayName="ViewTransition";var H$=ne.createContext(new Map);H$.displayName="Fetchers";var q$=ne.createContext(null);q$.displayName="Await";var cs=ne.createContext(null);cs.displayName="Navigation";var y0=ne.createContext(null);y0.displayName="Location";var us=ne.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var TC=ne.createContext(null);TC.displayName="RouteError";function G$(t,{relative:e}={}){_r(Eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ne.useContext(cs),{hash:i,pathname:a,search:o}=v0(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ol([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Eh(){return ne.useContext(y0)!=null}function si(){return _r(Eh(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(y0).location}var dj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hj(t){ne.useContext(cs).static||ne.useLayoutEffect(t)}function Fo(){let{isDataRoute:t}=ne.useContext(us);return t?aW():$$()}function $$(){_r(Eh(),"useNavigate() may be used only in the context of a <Router> component.");let t=ne.useContext(Ah),{basename:e,navigator:n}=ne.useContext(cs),{matches:r}=ne.useContext(us),{pathname:i}=si(),a=JSON.stringify(EC(r)),o=ne.useRef(!1);return hj(()=>{o.current=!0}),ne.useCallback((d,u={})=>{if(Lo(o.current,dj),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=SC(d,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ol([e,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[e,n,a,i,t])}ne.createContext(null);function W$(){let{matches:t}=ne.useContext(us),e=t[t.length-1];return e?e.params:{}}function v0(t,{relative:e}={}){let{matches:n}=ne.useContext(us),{pathname:r}=si(),i=JSON.stringify(EC(n));return ne.useMemo(()=>SC(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Y$(t,e){return pj(t,e)}function pj(t,e,n,r){var j;_r(Eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ne.useContext(cs),{matches:a}=ne.useContext(us),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",m=o&&o.route;{let B=m&&m.path||"";mj(d,!m||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let y=si(),_;if(e){let B=typeof e=="string"?_f(e):e;_r(u==="/"||((j=B.pathname)==null?void 0:j.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=y;let I=_.pathname||"/",D=I;if(u!=="/"){let B=u.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=sj(t,{pathname:D});Lo(m||M!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Lo(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Z$(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},c,B.params),pathname:Ol([u,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?u:Ol([u,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,n,r);return e&&R?ne.createElement(y0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function K$(){let t=iW(),e=V$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:a},"ErrorBoundary")," or"," ",ne.createElement("code",{style:a},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:i},n):null,o)}var X$=ne.createElement(K$,null),Q$=class extends ne.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ne.createElement(us.Provider,{value:this.props.routeContext},ne.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J$({routeContext:t,match:e,children:n}){let r=ne.useContext(Ah);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(us.Provider,{value:t},n)}function Z$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let d=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);_r(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:m,errors:y}=n,_=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!y||y[u.route.id]===void 0);if(u.route.lazy||_){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,m)=>{let y,_=!1,I=null,D=null;n&&(y=a&&u.route.id?a[u.route.id]:void 0,I=u.route.errorElement||X$,o&&(c<0&&m===0?(mj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,D=null):c===m&&(_=!0,D=u.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,m+1)),R=()=>{let j;return y?j=I:_?j=D:u.route.Component?j=ne.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=d,ne.createElement(J$,{match:u,routeContext:{outlet:d,matches:M,isDataRoute:n!=null},children:j})};return n&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?ne.createElement(Q$,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):R()},null)}function CC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eW(t){let e=ne.useContext(Ah);return _r(e,CC(t)),e}function tW(t){let e=ne.useContext(bv);return _r(e,CC(t)),e}function nW(t){let e=ne.useContext(us);return _r(e,CC(t)),e}function IC(t){let e=nW(t),n=e.matches[e.matches.length-1];return _r(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rW(){return IC("useRouteId")}function iW(){var r;let t=ne.useContext(TC),e=tW("useRouteError"),n=IC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function aW(){let{router:t}=eW("useNavigate"),e=IC("useNavigate"),n=ne.useRef(!1);return hj(()=>{n.current=!0}),ne.useCallback(async(i,a={})=>{Lo(n.current,dj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var sO={};function mj(t,e,n){!e&&!sO[t]&&(sO[t]=!0,Lo(!1,n))}ne.memo(oW);function oW({routes:t,future:e,state:n}){return pj(t,void 0,n,e)}function lO({to:t,replace:e,state:n,relative:r}){_r(Eh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ne.useContext(cs);Lo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=ne.useContext(us),{pathname:o}=si(),c=Fo(),d=SC(t,EC(a),o,r==="path"),u=JSON.stringify(d);return ne.useEffect(()=>{c(JSON.parse(u),{replace:e,state:n,relative:r})},[c,u,r,e,n]),null}function Hi(t){_r(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sW({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){_r(!Eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=ne.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=_f(n));let{pathname:d="/",search:u="",hash:m="",state:y=null,key:_="default"}=n,I=ne.useMemo(()=>{let D=nu(d,o);return D==null?null:{location:{pathname:D,search:u,hash:m,state:y,key:_},navigationType:r}},[o,d,u,m,y,_,r]);return Lo(I!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:ne.createElement(cs.Provider,{value:c},ne.createElement(y0.Provider,{children:e,value:I}))}function lW({children:t,location:e}){return Y$(lS(t),e)}function lS(t,e=[]){let n=[];return ne.Children.forEach(t,(r,i)=>{if(!ne.isValidElement(r))return;let a=[...e,i];if(r.type===ne.Fragment){n.push.apply(n,lS(r.props.children,a));return}_r(r.type===Hi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_r(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lS(r.props.children,a)),n.push(o)}),n}var _y="get",Ay="application/x-www-form-urlencoded";function wv(t){return t!=null&&typeof t.tagName=="string"}function cW(t){return wv(t)&&t.tagName.toLowerCase()==="button"}function uW(t){return wv(t)&&t.tagName.toLowerCase()==="form"}function fW(t){return wv(t)&&t.tagName.toLowerCase()==="input"}function dW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hW(t,e){return t.button===0&&(!e||e==="_self")&&!dW(t)}var Wg=null;function pW(){if(Wg===null)try{new FormData(document.createElement("form"),0),Wg=!1}catch{Wg=!0}return Wg}var mW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mw(t){return t!=null&&!mW.has(t)?(Lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ay}"`),null):t}function gW(t,e){let n,r,i,a,o;if(uW(t)){let c=t.getAttribute("action");r=c?nu(c,e):null,n=t.getAttribute("method")||_y,i=Mw(t.getAttribute("enctype"))||Ay,a=new FormData(t)}else if(cW(t)||fW(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?nu(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||_y,i=Mw(t.getAttribute("formenctype"))||Mw(c.getAttribute("enctype"))||Ay,a=new FormData(c,t),!pW()){let{name:u,type:m,value:y}=t;if(m==="image"){let _=u?`${u}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else u&&a.append(u,y)}}else{if(wv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_y,r=null,i=Ay,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function NC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yW(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vW(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xW(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await yW(a,n);return o.links?o.links():[]}return[]}));return AW(r.flat(1).filter(vW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cO(t,e,n,r,i,a){let o=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,c=(d,u)=>{var m;return n[u].pathname!==d.pathname||((m=n[u].route.path)==null?void 0:m.endsWith("*"))&&n[u].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,u)=>o(d,u)||c(d,u)):a==="data"?e.filter((d,u)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function bW(t,e){return wW(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function wW(t){return[...new Set(t)]}function _W(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function AW(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(_W(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function EW(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function SW(){let t=ne.useContext(Ah);return NC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TW(){let t=ne.useContext(bv);return NC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RC=ne.createContext(void 0);RC.displayName="FrameworkContext";function gj(){let t=ne.useContext(RC);return NC(t,"You must render this element inside a <HydratedRouter> element"),t}function CW(t,e){let n=ne.useContext(RC),[r,i]=ne.useState(!1),[a,o]=ne.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:m,onTouchStart:y}=e,_=ne.useRef(null);ne.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let M=j=>{j.forEach(B=>{o(B.isIntersecting)})},R=new IntersectionObserver(M,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[t]),ne.useEffect(()=>{if(r){let M=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(M)}}},[r]);let I=()=>{i(!0)},D=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:Op(c,I),onBlur:Op(d,D),onMouseEnter:Op(u,I),onMouseLeave:Op(m,D),onTouchStart:Op(y,I)}]:[!1,_,{}]}function Op(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IW({page:t,...e}){let{router:n}=SW(),r=ne.useMemo(()=>sj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?ne.createElement(RW,{page:t,matches:r,...e}):null}function NW(t){let{manifest:e,routeModules:n}=gj(),[r,i]=ne.useState([]);return ne.useEffect(()=>{let a=!1;return xW(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function RW({page:t,matches:e,...n}){let r=si(),{manifest:i,routeModules:a}=gj(),{loaderData:o,matches:c}=TW(),d=ne.useMemo(()=>cO(t,e,c,i,r,"data"),[t,e,c,i,r]),u=ne.useMemo(()=>cO(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=ne.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,D=!1;if(e.forEach(R=>{var B;let j=i.routes[R.route.id];!j||!j.hasLoader||(!d.some(U=>U.route.id===R.route.id)&&R.route.id in o&&((B=a[R.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?D=!0:I.add(R.route.id))}),I.size===0)return[];let M=EW(t);return D&&I.size>0&&M.searchParams.set("_routes",e.filter(R=>I.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[o,r,i,d,e,t,a]),y=ne.useMemo(()=>bW(u,i),[u,i]),_=NW(u);return ne.createElement(ne.Fragment,null,m.map(I=>ne.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),y.map(I=>ne.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),_.map(({key:I,link:D})=>ne.createElement("link",{key:I,...D})))}function OW(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yj&&(window.__reactRouterVersion="7.1.1")}catch{}function MW({basename:t,children:e,window:n}){let r=ne.useRef();r.current==null&&(r.current=x$({window:n,v5Compat:!0}));let i=r.current,[a,o]=ne.useState({action:i.action,location:i.location}),c=ne.useCallback(d=>{ne.startTransition(()=>o(d))},[o]);return ne.useLayoutEffect(()=>i.listen(c),[i,c]),ne.createElement(sW,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var vj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mn=ne.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:u,preventScrollReset:m,viewTransition:y,..._},I){let{basename:D}=ne.useContext(cs),M=typeof u=="string"&&vj.test(u),R,j=!1;if(typeof u=="string"&&M&&(R=u,yj))try{let F=new URL(window.location.href),ee=u.startsWith("//")?new URL(F.protocol+u):new URL(u),K=nu(ee.pathname,D);ee.origin===F.origin&&K!=null?u=K+ee.search+ee.hash:j=!0}catch{Lo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=G$(u,{relative:i}),[U,$,H]=CW(r,_),G=LW(u,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function L(F){e&&e(F),F.defaultPrevented||G(F)}let V=ne.createElement("a",{..._,...H,href:R||B,onClick:j||a?e:L,ref:OW(I,$),target:d,"data-discover":!M&&n==="render"?"true":void 0});return U&&!M?ne.createElement(ne.Fragment,null,V,ne.createElement(IW,{page:B})):V});Mn.displayName="Link";var PW=ne.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...u},m){let y=v0(o,{relative:u.relative}),_=si(),I=ne.useContext(bv),{navigator:D,basename:M}=ne.useContext(cs),R=I!=null&&VW(y)&&c===!0,j=D.encodeLocation?D.encodeLocation(y).pathname:y.pathname,B=_.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(B=B.toLowerCase(),U=U?U.toLowerCase():null,j=j.toLowerCase()),U&&M&&(U=nu(U,M)||U);const $=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let H=B===j||!i&&B.startsWith(j)&&B.charAt($)==="/",G=U!=null&&(U===j||!i&&U.startsWith(j)&&U.charAt(j.length)==="/"),L={isActive:H,isPending:G,isTransitioning:R},V=H?e:void 0,F;typeof r=="function"?F=r(L):F=[r,H?"active":null,G?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ee=typeof a=="function"?a(L):a;return ne.createElement(Mn,{...u,"aria-current":V,className:F,ref:m,style:ee,to:o,viewTransition:c},typeof d=="function"?d(L):d)});PW.displayName="NavLink";var DW=ne.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=_y,action:c,onSubmit:d,relative:u,preventScrollReset:m,viewTransition:y,..._},I)=>{let D=UW(),M=FW(c,{relative:u}),R=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&vj.test(c),B=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,H=($==null?void 0:$.getAttribute("formmethod"))||o;D($||U.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:a,relative:u,preventScrollReset:m,viewTransition:y})};return ne.createElement("form",{ref:I,method:R,action:M,onSubmit:r?d:B,..._,"data-discover":!j&&t==="render"?"true":void 0})});DW.displayName="Form";function kW(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(t){let e=ne.useContext(Ah);return _r(e,kW(t)),e}function LW(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=Fo(),d=si(),u=v0(t,{relative:a});return ne.useCallback(m=>{if(hW(m,e)){m.preventDefault();let y=n!==void 0?n:bm(d)===bm(u);c(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,u,n,r,e,t,i,a,o])}var jW=0,BW=()=>`__${String(++jW)}__`;function UW(){let{router:t}=xj("useSubmit"),{basename:e}=ne.useContext(cs),n=rW();return ne.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:u}=gW(r,e);if(i.navigate===!1){let m=i.fetcherKey||BW();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function FW(t,{relative:e}={}){let{basename:n}=ne.useContext(cs),r=ne.useContext(us);_r(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...v0(t||".",{relative:e})},o=si();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ol([n,a.pathname])),bm(a)}function VW(t,e={}){let n=ne.useContext(fj);_r(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xj("useViewTransitionState"),i=v0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=nu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=nu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return By(i.pathname,o)!=null||By(i.pathname,a)!=null}new TextEncoder;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>ne.createElement("svg",{ref:d,...HW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bj("lucide",i),...c},[...o.map(([u,m])=>ne.createElement(u,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=ne.forwardRef(({className:r,...i},a)=>ne.createElement(qW,{ref:a,iconNode:e,className:bj(`lucide-${zW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=Qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Qe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=Qe("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=Qe("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Qe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Qe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Qe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Qe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Qe("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Qe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Qe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Qe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Qe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Qe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Qe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Qe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Qe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Qe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Qe("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yO={en:{features:"Features",about:"About",wellnessHub:"Wellness Hub",howItWorks:"How it Works",login:"Login",getStarted:"Get Started",dashboard:"Dashboard",settings:"Settings",pricing:"Pricing",docs:"Documentation",heroTitle:"Code Without the Burnout.",heroSubtitle:"DevWell uses world-class AI to analyze your physical and mental state in real-time, helping you maintain peak performance without sacrificing your health.",startNeuralSync:"Start Neural Sync",viewProtocol:"View Protocol",poweredBy:"Powered by Gemini 3 Neural Engine",systemStatus:"System Online",biometricActive:"Biometric Stream Active",biometricDesc:"DevWell is currently processing visual and auditory markers to ensure optimal ergonomic alignment and focus depth.",processTitle:"The Process",processHeading:"Neural Synchronization",learnMore:"Learn More",step1Title:"Initialize Sensors",step1Desc:"Activate the secure neural HUD. The system connects to your camera and microphone to establish a real-time biometric stream.",step2Title:"AI Processing",step2Desc:"Our Gemini-powered engine analyzes micro-expressions, vocal tone, and posture 30 times per second to detect fatigue markers.",step3Title:"Wellness Tuning",step3Desc:"Receive instant, non-intrusive nudges to correct posture, take deep breaths, or enter 'Focus Mode' before burnout hits.",neuralHub:"NEURAL HUB",voice:"Voice",adhdMode:"ADHD Mode",proEngineActive:"Pro Engine Active",flowSynchronized:"Flow Synchronized",sensorsIdle:"Sensors Idle",status:"Status",unlockOracle:"Unlock Neural Oracle",summonOracle:"Summon Neural Oracle",wellnessScore:"Wellness Score",fatigueAnalysis:"Fatigue Analysis",weeklyActivity:"Weekly Activity",continuousImprovement:"Continuous Improvement Process",unlockPro:"Unlock Pro",upgradeToPro:"Upgrade to Zen Pro",advanceCareer:"Advance Your Career Velocity",generalSettings:"General Settings",language:"Language",selectLanguage:"Select Language",theme:"Theme",notifications:"Notifications",account:"Account",saveChanges:"Save Changes",privacyCore:"Privacy Core",privacySubtitle:"Advanced Neural Security Settings (Firebase Cloud Enabled)",cloudSynced:"Cloud Synced",demoInterface:"Demo Interface",verifiedLink:"Verified Neural Link",logOut:"Log Out",anonymizationLayer:"Anonymization Layer",anonymizationSubtitle:"Pre-processing for Neural Uplink",scrubPii:"Scrub PII from Vision Analysis",scrubPiiDesc:"Strips biometric markers and environment metadata before sending frames to Gemini API.",aggregateConsent:"Aggregate Training Consent",aggregateConsentDesc:"Allow anonymized aggregates to be used for model fine-tuning (Differential Privacy enabled).",encryptionHub:"Encryption Hub",encryptionSubtitle:"End-to-End Data Persistence",logEncryption:"Log Encryption Protocol",active:"Active",standard:"Standard",quantum:"Quantum-Resistant",exportArchive:"Export Archive",exportDesc:"Download a full JSON record of your health events, settings, and AI-generated insights. All data is de-identified before export.",initDownload:"Initialize Download",thePurge:"The Purge",purgeDesc:"Permanently wipe all health history, biometric profiles, and predictive logs. This action is irreversible and terminates the neural link.",wipeData:"Wipe All Data",confirmPurge:"Confirm Data Purge",purgeWarning:"All biometric history on Firestore will be destroyed. This cannot be undone.",cancel:"Cancel",confirmDelete:"Confirm Delete",privacyProtocol:"Privacy Protocol V2.4.92 // HIPAA & GDPR Compliant Layer",welcomeBack:"Welcome Back",signInResume:"Sign in to resume your wellness journey.",emailAddress:"Email Address",password:"Password",signIn:"Sign In",signingIn:"Signing In...",orContinueWith:"Or continue with",dontHaveAccount:"Don't have an account?",joinNow:"Join Now",joinDevWell:"Join DevWell",startJourney:"Start your personalized wellness monitoring today.",fullName:"Full Name",createAccount:"Create Account",creatingAccount:"Creating Account...",alreadyHaveAccount:"Already have an account?",backToHub:"Back to Hub",elevateFlow:"Elevate Your",neuralFlowTitle:"Neural Flow.",chooseProtocol:"Choose the protocol that matches your engineering intensity.",standardSync:"Standard Sync",baselineTracking:"Baseline Wellness Tracking",basicPosture:"Basic Posture Analysis",geminiFlash:"Gemini Flash Chat",wellnessStream:"Wellness Stream",sevenDayHistory:"7-Day History",focusChart:"Real-time Focus Trend",currentProtocol:"Current Protocol",mostPowerful:"Most Powerful",zenPro:"Zen Pro",neuralCommand:"The Neural Command Suite",predictiveOracle:"Predictive Burnout Oracle (Thinking)",veoVideo:"Veo 3.1 Neural Video Generation",multiSpeaker:"Multi-Speaker Voice TTS",unlimitedData:"Unlimited Historical Data",priorityAccess:"Priority Model Access (1M Context)",cortisolHeatmap:"Cortisol Heatmap (7-Day Pattern)",initUpgrade:"Initialize Upgrade",tryDemo:"Try Demo Account (No Card Required)",processingPayment:"Processing Neural Transaction...",secureGateway:"Secure Payment Gateway",encryptedTransaction:"256-Bit Encrypted Transaction",totalDue:"Total Due Today",cardNumber:"Card Number",expiryDate:"Expiry Date",cvc:"CVC",confirmPayment:"Confirm Payment",processing:"Processing...",returnHome:"Return Home",aboutDevWell:"About DevWell",builtFor:"We built this for the",lateNights:"late nights.",aboutMission:"DevWell was born from a simple observation: Software Engineering is an endurance sport, but we treat it like a 100m sprint. We wanted to build a tool that understands the human behind the keyboard.",empathyFirst:"Empathy First",empathyDesc:"Most productivity tools are built to extract more value. DevWell is built to preserve yours. We prioritize wellness over output, because we know high-quality output is a byproduct of a healthy mind.",intelligenceGood:"Intelligence for Good",intelligenceDesc:"Using Gemini's multimodal power, we can detect micro-fatigue markers that the user isn't even aware of yet. It's like having a world-class health coach watching your back.",wellnessResources:"Wellness Resources",devWellnessHub:"The Dev Wellness Hub",wellnessHeroDesc:"Science-backed protocols to keep your biology in sync with your codebase.",visionSecurity:"Vision Security",rule202020:"The 20-20-20 Rule",rule20Desc:"Digital eye strain is the #1 complaint of modern devs. Every 20 minutes, look at something 20 feet away for 20 seconds. This relaxes the ciliary muscle and keeps your vision sharp.",reducesHeadaches:"Reduces headaches",preventsFocusShift:"Prevents permanent focus shift",resetsPressure:"Resets ocular pressure"},fr:{features:"Fonctionnalits",about:" propos",wellnessHub:"Centre de bien-tre",howItWorks:"Comment a marche",login:"Connexion",getStarted:"Commencer",dashboard:"Tableau de bord",settings:"Paramtres",pricing:"Tarifs",docs:"Documentation",heroTitle:"Codez sans vous puiser.",heroSubtitle:"DevWell utilise une IA de classe mondiale pour analyser votre tat physique et mental en temps rel, vous aidant  maintenir des performances optimales sans sacrifier votre sant.",startNeuralSync:"Dmarrer Neural Sync",viewProtocol:"Voir le protocole",poweredBy:"Propuls par le moteur neuronal Gemini 3",systemStatus:"Systme en ligne",biometricActive:"Flux biomtrique actif",biometricDesc:"DevWell traite actuellement les marqueurs visuels et auditifs pour assurer un alignement ergonomique optimal et une profondeur de concentration.",processTitle:"Le Processus",processHeading:"Synchronisation Neurale",learnMore:"En savoir plus",step1Title:"Initialiser les capteurs",step1Desc:"Activez le HUD neuronal scuris. Le systme se connecte  votre camra et votre microphone pour tablir un flux biomtrique en temps rel.",step2Title:"Traitement IA",step2Desc:"Notre moteur propuls par Gemini analyse les micro-expressions, le ton vocal et la posture 30 fois par seconde pour dtecter les marqueurs de fatigue.",step3Title:"Ajustement bien-tre",step3Desc:"Recevez des coups de pouce instantans et non intrusifs pour corriger la posture, prendre de profondes respirations ou entrer en 'Mode Focus' avant l'puisement.",neuralHub:"HUB NEURAL",voice:"Voix",adhdMode:"Mode TDAH",proEngineActive:"Moteur Pro Actif",flowSynchronized:"Flux Synchronis",sensorsIdle:"Capteurs Inactifs",status:"Statut",unlockOracle:"Dbloquer l'Oracle Neural",summonOracle:"Invoquer l'Oracle Neural",wellnessScore:"Score de Bien-tre",fatigueAnalysis:"Analyse de Fatigue",weeklyActivity:"Activit Hebdomadaire",continuousImprovement:"Processus d'Amlioration Continue",unlockPro:"Dbloquer Pro",upgradeToPro:"Passer  Zen Pro",advanceCareer:"Acclrez votre carrire",generalSettings:"Paramtres Gnraux",language:"Langue",selectLanguage:"Choisir la langue",theme:"Thme",notifications:"Notifications",account:"Compte",saveChanges:"Sauvegarder",privacyCore:"Noyau de Confidentialit",privacySubtitle:"Paramtres de Scurit Neuronale Avancs (Compatible Firebase Cloud)",cloudSynced:"Synchronis au Cloud",demoInterface:"Interface de Dmo",verifiedLink:"Lien Neural Vrifi",logOut:"Dconnexion",anonymizationLayer:"Couche d'Anonymisation",anonymizationSubtitle:"Pr-traitement pour la Liaison Montante Neuronale",scrubPii:"Supprimer PII de l'Analyse Visuelle",scrubPiiDesc:"Supprime les marqueurs biomtriques et les mtadonnes de l'environnement avant d'envoyer les trames  l'API Gemini.",aggregateConsent:"Consentement  l'Entranement Global",aggregateConsentDesc:"Permettre l'utilisation d'agrgats anonymiss pour l'ajustement du modle (Confidentialit Diffrentielle active).",encryptionHub:"Hub de Chiffrement",encryptionSubtitle:"Persistance des Donnes de Bout en Bout",logEncryption:"Protocole de Chiffrement des Journaux",active:"Actif",standard:"Standard",quantum:"Rsistant Quantique",exportArchive:"Exporter l'Archive",exportDesc:"Tlchargez un enregistrement JSON complet de vos vnements de sant, paramtres et analyses gnres par l'IA. Toutes les donnes sont dsidentifies avant l'exportation.",initDownload:"Initialiser le Tlchargement",thePurge:"La Purge",purgeDesc:"Effacer dfinitivement tout l'historique de sant, les profils biomtriques et les journaux prdictifs. Cette action est irrversible et termine la liaison neuronale.",wipeData:"Effacer Toutes les Donnes",confirmPurge:"Confirmer la Purge des Donnes",purgeWarning:"Tout l'historique biomtrique sur Firestore sera dtruit. Cela ne peut pas tre annul.",confirmDelete:"Confirmer la Suppression",cancel:"Annuler",privacyProtocol:"Protocole de Confidentialit V2.4.92 // Couche conforme HIPAA & GDPR",welcomeBack:"Bon retour",signInResume:"Connectez-vous pour reprendre votre parcours de bien-tre.",emailAddress:"Adresse e-mail",password:"Mot de passe",signIn:"Se connecter",signingIn:"Connexion en cours...",orContinueWith:"Ou continuer avec",dontHaveAccount:"Vous n'avez pas de compte ?",joinNow:"Rejoindre maintenant",joinDevWell:"Rejoindre DevWell",startJourney:"Commencez votre suivi de bien-tre personnalis aujourd'hui.",fullName:"Nom complet",createAccount:"Crer un compte",creatingAccount:"Cration de compte...",alreadyHaveAccount:"Vous avez dj un compte ?",backToHub:"Retour au Hub",elevateFlow:"levez Votre",neuralFlowTitle:"Flux Neural.",chooseProtocol:"Choisissez le protocole qui correspond  votre intensit d'ingnierie.",standardSync:"Synchro Standard",baselineTracking:"Suivi de bien-tre de base",basicPosture:"Analyse posturale de base",geminiFlash:"Chat Gemini Flash",wellnessStream:"Flux de bien-tre",sevenDayHistory:"Historique de 7 jours",focusChart:"Tendance de Focus en Temps Rel",currentProtocol:"Protocole Actuel",mostPowerful:"Le Plus Puissant",zenPro:"Zen Pro",neuralCommand:"La Suite de Commande Neuronale",predictiveOracle:"Oracle de Burnout Prdictif (Thinking)",veoVideo:"Gnration Vido Neurale Veo 3.1",multiSpeaker:"TTS Voix Multi-locuteurs",unlimitedData:"Donnes Historiques Illimites",priorityAccess:"Accs Modle Prioritaire (Contexte 1M)",cortisolHeatmap:"Carte Thermique de Cortisol (7 jours)",initUpgrade:"Initialiser la Mise  Niveau",tryDemo:"Essayer le Compte Dmo (Sans Carte)",processingPayment:"Traitement de la Transaction Neuronale...",secureGateway:"Passerelle de Paiement Scurise",encryptedTransaction:"Transaction Chiffre 256-Bit",totalDue:"Total D Aujourd'hui",cardNumber:"Numro de Carte",expiryDate:"Date d'Expiration",cvc:"CVC",confirmPayment:"Confirmer le Paiement",processing:"Traitement...",returnHome:" ",aboutDevWell:" DevWell",builtFor:"   ",lateNights:" .",aboutMission:" DevWell   :          100 .        .",empathyFirst:" ",empathyDesc:"        .   DevWell   .                 .",intelligenceGood:" ",intelligenceDesc:"  Gemini                .       .",wellnessResources:" ",devWellnessHub:"  ",wellnessHeroDesc:"           .",visionSecurity:" ",rule202020:" 20-20-20",rule20Desc:"      1  .  20       20   20 .        .",reducesHeadaches:" ",preventsFocusShift:"   ",resetsPressure:"   "},ar:{features:"",about:"",wellnessHub:" ",howItWorks:" ",login:" ",getStarted:" ",dashboard:" ",settings:"",pricing:"",docs:"",heroTitle:"  .",heroSubtitle:" DevWell                      .",startNeuralSync:"  ",viewProtocol:" ",poweredBy:"  Gemini 3 ",systemStatus:" ",biometricActive:"  ",biometricDesc:" DevWell          .",processTitle:"",processHeading:" ",learnMore:" ",step1Title:" ",step1Desc:"    .          .",step2Title:"  ",step2Desc:"    Gemini      30      .",step3Title:" ",step3Desc:"              ' '   .",neuralHub:" ",voice:"",adhdMode:"  ",proEngineActive:"  ",flowSynchronized:" ",sensorsIdle:" ",status:"",unlockOracle:"  ",summonOracle:"  ",wellnessScore:" ",fatigueAnalysis:" ",weeklyActivity:" ",continuousImprovement:"  ",unlockPro:"  ",upgradeToPro:"  Zen Pro",advanceCareer:"  ",generalSettings:" ",language:"",selectLanguage:" ",theme:"",notifications:"",account:"",saveChanges:" ",privacyCore:" ",privacySubtitle:"    (   )",cloudSynced:"  ",demoInterface:" ",verifiedLink:"  ",logOut:" ",anonymizationLayer:"  ",anonymizationSubtitle:"    ",scrubPii:"     ",scrubPiiDesc:"             Gemini.",aggregateConsent:"   ",aggregateConsentDesc:"      (  ).",encryptionHub:" ",encryptionSubtitle:"     ",logEncryption:"  ",active:"",standard:"",quantum:" ",exportArchive:" ",exportDesc:"   JSON           .       .",initDownload:" ",thePurge:"",purgeDesc:"         .         .",wipeData:"  ",confirmPurge:"  ",purgeWarning:"      Firestore.     .",confirmDelete:" ",cancel:"",privacyProtocol:"   2.4.92 //    HIPAA  GDPR",welcomeBack:" ",signInResume:"    .",emailAddress:" ",password:" ",signIn:" ",signingIn:"  ...",orContinueWith:"  ",dontHaveAccount:"  ",joinNow:" ",joinDevWell:"  DevWell",startJourney:"    .",fullName:" ",createAccount:" ",creatingAccount:"  ...",alreadyHaveAccount:"  ",backToHub:"  ",elevateFlow:" ",neuralFlowTitle:" .",chooseProtocol:"      .",standardSync:" ",baselineTracking:"  ",basicPosture:"  ",geminiFlash:" Gemini Flash",wellnessStream:" ",sevenDayHistory:" 7 ",focusChart:"    ",currentProtocol:" ",mostPowerful:" ",zenPro:"Zen Pro",neuralCommand:"  ",predictiveOracle:"   ()",veoVideo:"   Veo 3.1",multiSpeaker:"     ",unlimitedData:"   ",priorityAccess:"    ( 1M)",cortisolHeatmap:"   ( 7 )",initUpgrade:" ",tryDemo:"   ( )",processingPayment:"   ...",secureGateway:"  ",encryptedTransaction:"  256 ",totalDue:"  ",cardNumber:" ",expiryDate:" ",cvc:" ",confirmPayment:" ",processing:" ...",returnHome:" ",aboutDevWell:" DevWell",builtFor:"   ",lateNights:" .",aboutMission:" DevWell   :          100 .        .",empathyFirst:" ",empathyDesc:"        .   DevWell   .                 .",intelligenceGood:" ",intelligenceDesc:"  Gemini                .       .",wellnessResources:" ",devWellnessHub:"  ",wellnessHeroDesc:"           .",visionSecurity:" ",rule202020:" 20-20-20",rule20Desc:"      1  .  20       20   20 .        .",reducesHeadaches:" ",preventsFocusShift:"   ",resetsPressure:"   "},admin:{title:{en:"Analytics Dashboard",fr:"Tableau de Bord Analytique",ar:"  "},accessRequired:{en:"Admin Access Required",fr:"Accs Admin Requis",ar:"  "},enterPassword:{en:"Enter Admin Password",fr:"Entrez le mot de passe administrateur",ar:"   "},accessButton:{en:"Access Dashboard",fr:"Accder au tableau de bord",ar:"   "},invalidPassword:{en:"Invalid Password",fr:"Mot de passe invalide",ar:"  "},systemOverview:{en:"System Overview",fr:"Aperu du Systme",ar:"   "},userGrowth:{en:"User Growth",fr:"Croissance des Utilisateurs",ar:" "},activeSessions:{en:"Active Sessions",fr:"Sessions Actives",ar:" "},systemHealth:{en:"System Health",fr:"Sant du Systme",ar:" "},revenue:{en:"Revenue",fr:"Revenus",ar:""},userActivityTrend:{en:"User Activity Trend",fr:"Tendance d'Activit Utilisateur",ar:"  "},regionalDist:{en:"Regional Distribution",fr:"Distribution Rgionale",ar:" "},deviceUsage:{en:"Device Usage",fr:"Utilisation des Appareils",ar:" "},downloadReport:{en:"Download Report",fr:"Tlcharger le Rapport",ar:" "},totalUsers:{en:"Total Users",fr:"Utilisateurs Totaux",ar:" "},healthEvents:{en:"Health Events",fr:"vnements Sant",ar:" "},supportTickets:{en:"Support Tickets",fr:"Tickets de Support",ar:" "},totalFeedback:{en:"Total Feedback",fr:"Feedback Total",ar:" "},live:{en:"Live",fr:"En direct",ar:""},aggregated:{en:"Aggregated",fr:"Agrg",ar:""},pending:{en:"Pending",fr:"En attente",ar:" "},received:{en:"Received",fr:"Reu",ar:" "},aggregatedTrend:{en:"Aggregated Fatigue Trend",fr:"Tendance de Fatigue Agrge",ar:"  "},oscillation:{en:"7-Day Biometric Oscillation",fr:"Oscillation Biomtrique 7 Jours",ar:"   7 "},alerts:{en:"Alerts",fr:"Alertes",ar:""},stress:{en:"Stress",fr:"Stress",ar:""},systemActivity24h:{en:"24h System Activity",fr:"Activit Systme 24h",ar:"  24 "},tierGrowth:{en:"User Tier Growth",fr:"Croissance des Niveaux",ar:"  "},simpleUsers:{en:"Simple Users",fr:"Utilisateurs Simples",ar:" "},zenPro:{en:"Zen Pro",fr:"Zen Pro",ar:" "},alertHistogram:{en:"Alert Intensity Histogram",fr:"Histogramme d'Intensit d'Alerte",ar:"   "},alertsPerUser:{en:"Alerts per User",fr:"Alertes par Utilisateur",ar:"  "},userCount:{en:"User Count",fr:"Nombre d'Utilisateurs",ar:" "},userSatisfaction:{en:"User Satisfaction",fr:"Satisfaction Utilisateur",ar:" "},reviewers:{en:"Reviewers",fr:"Examinateurs",ar:""},ticketDist:{en:"Support Ticket Distribution",fr:"Distribution des Tickets",ar:" "},omniMetric:{en:"Omni-Metric Convergence",fr:"Convergence Omni-Mtrique",ar:"  "},unifiedView:{en:"Unified view of Alerts (X), Ratings (Y), and Volume (Radius) for quick AI ingestion.",fr:"Vue unifie des Alertes (X), Notes (Y) et Volume (Rayon) pour une ingestion rapide par l'IA.",ar:"   (X)  (Y)  ( )    ."},avgQuality:{en:"Avg Quality",fr:"Qualit Moyenne",ar:" "},vectorReady:{en:"DATA_VECTOR_READY_FOR_TRAINING",fr:"VECTEUR_DONNEES_PRET_POUR_ENTRAINEMENT",ar:"___"}},support:{title:{en:"Customer Support",fr:"Support Client",ar:" "},subtitle:{en:"How can we help you today?",fr:"Comment pouvons-nous vous aider aujourd'hui ?",ar:"   "},sendMessage:{en:"Send us a Message",fr:"Envoyez-nous un message",ar:"  "},form:{name:{en:"Your Name",fr:"Votre Nom",ar:""},email:{en:"Email Address",fr:"Adresse Email",ar:" "},subject:{en:"Subject",fr:"Sujet",ar:""},message:{en:"Message",fr:"Message",ar:""},submit:{en:"Send Message",fr:"Envoyer le message",ar:" "},sending:{en:"Sending...",fr:"Envoi...",ar:" ..."}},contactInfo:{title:{en:"Direct Contact",fr:"Contact Direct",ar:" "},emailUs:{en:"Email Us",fr:"Envoyez un email",ar:""},callUs:{en:"Call Us",fr:"Appelez-nous",ar:" "},visitUs:{en:"Visit Us",fr:"Visitez-nous",ar:""}},faq:{title:{en:"Frequently Asked Questions",fr:"Questions Frquemment Poses",ar:" "}}},feedback:{title:{en:"Rate Your Experience",fr:"Notez votre exprience",ar:" "},thankYou:{en:"Thank You!",fr:"Merci !",ar:" !"},helpImprove:{en:"Your feedback helps us improve.",fr:"Vos commentaires nous aident  nous amliorer.",ar:"   ."},placeholder:{en:"Any comments?",fr:"Des commentaires ?",ar:" "},submit:{en:"Submit Feedback",fr:"Envoyer les commentaires",ar:" "}},components:{activityChart:{title:{en:"Neural Balance",fr:"quilibre Neural",ar:" "},optimization:{en:"Optimization",fr:"Optimisation",ar:""},optimal:{en:"Optimal",fr:"Optimal",ar:""}},healthCharts:{totalAlerts:{en:"Total Alerts (24h)",fr:"Total Alertes (24h)",ar:"  (24 )"},fatigueDetection:{en:"Fatigue Detection",fr:"Dtection Fatigue",ar:" "},avgFatigue:{en:"Avg Fatigue/Hr",fr:"Fatigue Moy./Heure",ar:" /"},today:{en:"Today",fr:"Aujourd'hui",ar:""},daily:{en:"Daily",fr:"Quotidien",ar:""},wellnessTrend:{en:"Wellness Trend",fr:"Tendance Bien-tre",ar:" "},level:{en:"Lvl",fr:"Niv",ar:""}},focusTrend:{title:{en:"Focus Stability",fr:"Stabilit Focus",ar:" "},subtitle:{en:"Real-time attention span variance",fr:"Variance de l'attention en temps rel",ar:"     "},live:{en:"LIVE FEED",fr:"EN DIRECT",ar:" "}},stressHeatmap:{title:{en:"Cortisol Heatmap",fr:"Carte Thermique Cortisol",ar:"  "},subtitle:{en:"7-Day Stress Pattern Recognition",fr:"Reconnaissance de modle de stress sur 7 jours",ar:"     7 "},proInsights:{en:"PRO INSIGHTS",fr:"INSIGHTS PRO",ar:" "}},suggestions:{great:{title:{en:"Doing Great!",fr:"C'est super !",ar:" !"},message:{en:"Keep up the flow. Remember to hydrate every hour.",fr:"Gardez le rythme. N'oubliez pas de vous hydrater toutes les heures.",ar:"  .     ."}},break:{title:{en:"Immediate Break Required",fr:"Pause Immdiate Requise",ar:"  "},message:{en:"Your fatigue levels are high. Take a 15-minute walk or rest your eyes now.",fr:"Vos niveaux de fatigue sont levs. Faites une promenade de 15 minutes ou reposez vos yeux maintenant.",ar:"   .    15     ."}},rule20:{title:{en:"Try the 20-20-20 Rule",fr:"Essayez la rgle 20-20-20",ar:"  20-20-20"},message:{en:"Every 20 minutes, look at something 20 feet away for 20 seconds.",fr:"Toutes les 20 minutes, regardez quelque chose  20 pieds pendant 20 secondes.",ar:" 20      20   20 ."}},stretch:{title:{en:"Stretching Time",fr:"Temps d'tirement",ar:" "},message:{en:"Roll your shoulders and adjust your seat to improve posture.",fr:"Roulez vos paules et ajustez votre sige pour amliorer la posture.",ar:"     ."}},tellMore:{en:"Tell Me More",fr:"En savoir plus",ar:" "}},chatbot:{initial:{en:"Neural Interface Active. How may I assist you today?",fr:"Interface Neurale Active. Comment puis-je vous aider aujourd'hui ?",ar:"  .    "},placeholder:{en:"Type your message...",fr:"Tapez votre message...",ar:" ..."}}},docs:{title:{en:"Documentation",fr:"Documentation",ar:""},nav:{gettingStarted:{en:"Getting Started",fr:"Commencer",ar:""},installation:{en:"Installation",fr:"Installation",ar:""},requirements:{en:"System Requirements",fr:"Configuration Requise",ar:" "},configuration:{en:"Configuration",fr:"Configuration",ar:""},features:{en:"Features Guide",fr:"Guide des Fonctionnalits",ar:" "},camera:{en:"Smart Camera",fr:"Camra Intelligente",ar:" "},analytics:{en:"Analytics",fr:"Analytique",ar:""},wellness:{en:"Wellness Tools",fr:"Outils Bien-tre",ar:" "},api:{en:"API Reference",fr:"Rfrence API",ar:" API"},auth:{en:"Authentication",fr:"Authentification",ar:""},endpoints:{en:"Endpoints",fr:"Points de terminaison",ar:" "},limits:{en:"Rate Limits",fr:"Limites de taux",ar:" "},troubleshooting:{en:"Troubleshooting",fr:"Dpannage",ar:"  "},commonIssues:{en:"Common Issues",fr:"Problmes Courants",ar:" "},support:{en:"Support",fr:"Support",ar:""}},welcome:{en:"DevWell Documentation",fr:"Documentation DevWell",ar:" DevWell"},subtitle:{en:"Comprehensive guide to integrating and using the DevWell wellness monitoring system.",fr:"Guide complet pour l'intgration et l'utilisation du systme de surveillance du bien-tre DevWell.",ar:"       DevWell."}},legal:{terms:{title:{en:"Terms of Service",fr:"Conditions d'Utilisation",ar:" "},lastUpdated:{en:"Last updated",fr:"Dernire mise  jour",ar:" "},sections:{acceptance:{en:"Acceptance of Terms",fr:"Acceptation des Conditions",ar:" "},license:{en:"Use License",fr:"Licence d'Utilisation",ar:" "},disclaimer:{en:"Disclaimer",fr:"Avis de Non-responsabilit",ar:" "},limitations:{en:"Limitations",fr:"Limitations",ar:""}}},privacy:{title:{en:"Privacy Policy",fr:"Politique de Confidentialit",ar:" "},sections:{collection:{en:"Information Collection",fr:"Collecte d'Information",ar:" "},use:{en:"Use of Information",fr:"Utilisation des Informations",ar:" "},security:{en:"Data Security",fr:"Scurit des Donnes",ar:" "},thirdParty:{en:"Third-Party Services",fr:"Services Tiers",ar:"  "}}}},features:{smartCamera:{title:{en:"Smart Camera",fr:"Camra Intelligente",ar:" "},description:{en:"Real-time fatigue detection and posture monitoring using advanced computer vision.",fr:"Dtection de la fatigue en temps rel et surveillance de la posture utilisant la vision par ordinateur avance.",ar:"          ."}},analytics:{title:{en:"Wellness Analytics",fr:"Analytique Bien-tre",ar:" "},description:{en:"Track your progress with detailed charts and daily reports on your health metrics.",fr:"Suivez vos progrs avec des graphiques dtaills et des rapports quotidiens sur vos indicateurs de sant.",ar:"          ."}},community:{title:{en:"Global Community",fr:"Communaut Mondiale",ar:" "},description:{en:"Connect with other developers, share tips, and participate in wellness challenges.",fr:"Connectez-vous avec d'autres dveloppeurs, partagez des conseils et participez  des dfis de bien-tre.",ar:"         ."}},ai:{title:{en:"AI Assistant",fr:"Assistant IA",ar:"  "},description:{en:"Your personal wellness coach powered by Gemini AI, available 24/7.",fr:"Votre coach bien-tre personnel propuls par Gemini AI, disponible 24/7.",ar:"     Gemini AI  24/7."}},button:{en:"Learn More",fr:"En savoir plus",ar:" "}},legalContent:{terms:{intro:{en:'By accessing or using DevWell ("The Platform"), you agree to be bound by these Terms of Service. If you do not agree to all the terms and conditions of this agreement, you may not use any services.',fr:"En accdant ou en utilisant DevWell ( La Plateforme ), vous acceptez d'tre li par ces Conditions d'utilisation. Si vous n'acceptez pas toutes les conditions de cet accord, vous ne pouvez utiliser aucun service.",ar:'      DevWell ("")       .                .'},medicalDisclaimer:{en:"DevWell is a productivity and wellness tool, not a medical device. The Platform provides data visualization and AI-driven suggestions based on behavioral patterns. It does not diagnose, treat, or prevent any disease or medical condition. Do not use DevWell as a substitute for professional medical advice, diagnosis, or treatment.",fr:"DevWell est un outil de productivit et de bien-tre, pas un dispositif mdical. La plateforme fournit une visualisation des donnes et des suggestions bases sur l'IA en fonction des modles comportementaux. Elle ne diagnostique, ne traite ni ne prvient aucune maladie ou condition mdicale.",ar:"DevWell      .            .            ."},userResp:{item1:{en:"You are responsible for maintaining the security of your account credentials.",fr:"Vous tes responsable du maintien de la scurit de vos identifiants de compte.",ar:"        ."},item2:{en:"You agree not to modify, reverse engineer, or hack the platform.",fr:"Vous acceptez de ne pas modifier, dsosser ou pirater la plateforme.",ar:"          ."},item3:{en:"You agree to use the biometric features only for your own personal wellness tracking.",fr:"Vous acceptez d'utiliser les fonctionnalits biomtriques uniquement pour votre suivi personnel de bien-tre.",ar:"         ."}},subs:{text1:{en:'DevWell offers a "Free Tier" and a paid "Pro Tier".',fr:"DevWell propose un  Niveau Gratuit  et un  Niveau Pro  payant.",ar:' DevWell " "  " " .'},text2:{en:'Pro Tier unlocks "Neural Oracle" predictive AI features and deeper historical analytics.',fr:"Le Niveau Pro dverrouille les fonctionnalits d'IA prdictive  Neural Oracle  et des analyses historiques plus approfondies.",ar:'       " "   .'}},liability:{text:{en:"In no event shall DevWell be liable for any indirect, incidental, special, consequential or punitive damages.",fr:"En aucun cas DevWell ne pourra tre tenu responsable des dommages indirects, accessoires, spciaux, conscutifs ou punitifs.",ar:"  DevWell                  ."}}},privacy:{intro:{en:'At DevWell, we believe that workplace wellness tools should not be surveillance tools. Our "Privacy Core" architecture ensures that your biometric data is processed locally on your device specifically for your benefit.',fr:"Chez DevWell, nous pensons que les outils de bien-tre au travail ne doivent pas tre des outils de surveillance. Notre architecture  Privacy Core  garantit que vos donnes biomtriques sont traites localement sur votre appareil.",ar:' DevWell            .   " "       .'},biometrics:{en:"Biometric Streams (Video/Audio): Our applications process video and audio feeds in real-time within your browser's memory. These raw streams are analyzed for fatigue markers and then immediately discarded.",fr:"Flux Biomtriques (Vido/Audio) : Nos applications traitent les flux vido et audio en temps rel dans la mmoire de votre navigateur. Ces flux bruts sont analyss pour dtecter les signes de fatigue puis immdiatement supprims.",ar:"   (/):           .              ."},localFirst:{en:`We utilize a "Local-First" approach. Your daily detailed metrics are stored in your browser's IndexedDB. Only aggregated summaries are synchronized to our secure cloud servers.`,fr:"Nous utilisons une approche  Local-First . Vos mesures dtailles quotidiennes sont stockes dans l'IndexedDB de votre navigateur. Seuls les rsums agrgs sont synchroniss avec nos serveurs cloud scuriss.",ar:'   " ".       IndexedDB .         .'},noSurveillance:{en:`DevWell is designed for the individual developer. We do not provide "Boss Mode" or manager dashboards that allow employers to view an individual employee's status.`,fr:"DevWell est conu pour le dveloppeur individuel. Nous ne fournissons pas de  Mode Patron  ou de tableaux de bord de gestionnaire permettant aux employeurs de voir le statut d'un employ individuel.",ar:'  DevWell  .    " "            .'},thirdParty:{en:"We utilize Google's Gemini models for advanced inference. Data sent to these models is stripped of all PII (Personally Identifiable Information).",fr:"Nous utilisons les modles Gemini de Google pour une infrence avance. Les donnes envoyes  ces modles sont dpouilles de toutes les informations personnellement identifiables (PII).",ar:"  Gemini  Google  .             (PII)."},contact:{en:"Contact our Data Protection Officer at privacy@devwell.ai",fr:"Contactez notre dlgu  la protection des donnes  privacy@devwell.ai",ar:"      privacy@devwell.ai"}}},detailedFeatures:{"vision-biometrics":{title:{en:"Vision Biometrics",fr:"Biomtrie Visuelle",ar:"  "},purpose:{en:"To continuously monitor the user's physical engagement and ocular health.",fr:"Surveiller en continu l'engagement physique et la sant oculaire de l'utilisateur.",ar:"      ."},role:{en:"Utilizes Gemini 3 Neural Vision model to analyze video feeds at 30fps. Detects blink frequency and posture.",fr:"Utilise le modle Gemini 3 Neural Vision pour analyser les flux vido  30fps.",ar:"  Gemini 3       30   ."},importance:{en:"Catches micro-signs of fatigue early to prevent permanent strain.",fr:"Dtecte prcocement les micro-signes de fatigue pour viter les tensions permanentes.",ar:"       ."},technical:{en:"TensorFlow.js for local face mesh tracking. Privacy-first architecture.",fr:"TensorFlow.js pour le suivi local du maillage facial.",ar:"TensorFlow.js    ."}},"vocal-stress-probe":{title:{en:"Vocal Stress Probe",fr:"Sonde de Stress Vocal",ar:"  "},purpose:{en:"To identify latent mental stress through auditory analysis.",fr:"Identifier le stress mental latent par l'analyse auditive.",ar:"       ."},role:{en:"Analyzes pitch variance, speech rate, and pause duration.",fr:"Analyse la variance de hauteur, le dbit de parole et la dure des pauses.",ar:"       ."},importance:{en:"Detects emotional burnout before it becomes physical.",fr:"Dtecte l'puisement motionnel avant qu'il ne devienne physique.",ar:"      ."},technical:{en:"WebAudio API coupled with Gemini Audio processing.",fr:"API WebAudio couple au traitement audio Gemini.",ar:"   WebAudio    Gemini."}},"predictive-burnout":{title:{en:"Predictive Burnout Model",fr:"Modle Prdictif d'puisement",ar:"   "},purpose:{en:"Forecasting exhaustion events before they happen.",fr:"Prvoir les vnements d'puisement avant qu'ils ne surviennent.",ar:"    ."},role:{en:"Aggregates data to build a 4-hour forecast model.",fr:"Agrge les donnes pour construire un modle de prvision sur 4 heures.",ar:"      4 ."},importance:{en:"Allows for energy management rather than just time management.",fr:"Permet la gestion de l'nergie plutt que la simple gestion du temps.",ar:"       ."},technical:{en:"TimeSeries analysis using weighted moving averages.",fr:"Analyse de sries chronologiques utilisant des moyennes mobiles pondres.",ar:"      ."}},"privacy-core":{title:{en:"Privacy Core",fr:"Noyau de Confidentialit",ar:" "},purpose:{en:"To ensure biometric data remains under user control.",fr:"Garantir que les donnes biomtriques restent sous le contrle de l'utilisateur.",ar:"      ."},role:{en:"Scrubs PII from all data streams before local processing.",fr:"Supprime les PII de tous les flux de donnes avant le traitement local.",ar:"          ."},importance:{en:"Trust is the foundation. We don't spy on you.",fr:"La confiance est la base. Nous ne vous espionnons pas.",ar:"  .    ."},technical:{en:"AES-256 Encryption for local logs. Ephemeral memory.",fr:"Chiffrement AES-256 pour les journaux locaux.",ar:" AES-256  ."}},"adhd-hub":{title:{en:"ADHD Focus Hub",fr:"Concentration TDAH",ar:"  ADHD"},purpose:{en:"Environment for neurodivergent working styles.",fr:"Environnement pour les styles de travail neurodivergents.",ar:"    ."},role:{en:"High-contrast, low-noise environment with micro-goals.",fr:"Environnement  contraste lev et  faible bruit avec micro-objectifs.",ar:"       ."},importance:{en:"Standard tools overwhelm ADHD minds.",fr:"Les outils standard submergent les esprits TDAH.",ar:"    ADHD."},technical:{en:"Dynamic UI contrast, distraction blocking.",fr:"Contraste UI dynamique, blocage des distractions.",ar:"     ."}},"platform-root":{title:{en:"Platform Analytics Root",fr:"Racine Analytique Plateforme",ar:"  "},purpose:{en:"Visualize long-term health trends.",fr:"Visualiser les tendances de sant  long terme.",ar:"     ."},role:{en:"Stores aggregated, anonymized health events.",fr:"Stocke des vnements de sant agrgs et anonymiss.",ar:"    ."},importance:{en:"Self-awareness requires data.",fr:"La conscience de soi ncessite des donnes.",ar:"   ."},technical:{en:"Firestore indexed queries, D3/Recharts.",fr:"Requtes indexes Firestore, D3/Recharts.",ar:" Firestore  D3/Recharts."}}},docsContent:{core:{title:{en:"01. Core Interface",fr:"01. Interface Principale",ar:"01.  "},wellnessScore:{title:{en:"Wellness Score",fr:"Score de Bien-tre",ar:" "},desc:{en:"Your central health metric (0-100%). It is calculated in real-time based on weighted inputs from:",fr:"Votre mtrique de sant centrale (0-100%). Elle est calcule en temps rel en fonction des entres pondres provenant de :",ar:"   (0-100).          :"},items:[{en:"Posture Deviation Frequency",fr:"Frquence de Dviation Posturale",ar:"  "},{en:"Blink Rate Variability",fr:"Variabilit du Taux de Clignement",ar:"  "},{en:"Vocal Stress Analysis",fr:"Analyse du Stress Vocal",ar:"  "},{en:"Session Duration without Breaks",fr:"Dure de Session sans Pause",ar:"    "}]},statusEngine:{title:{en:"Status Engine",fr:"Moteur de Statut",ar:" "},desc:{en:"The status indicator (top right) reflects your active subscription tier.",fr:"L'indicateur de statut (en haut  droite) reflte votre niveau d'abonnement actif.",ar:"   ( )   ."},freeTier:{en:"Free Tier",fr:"Niveau Gratuit",ar:" "},freeDesc:{en:"enables basic monitoring.",fr:"permet une surveillance de base.",ar:"  ."},proTier:{en:"Pro Tier (Zen Pro)",fr:"Niveau Pro (Zen Pro)",ar:"  (Zen Pro)"},proDesc:{en:"unlocks the Neural Oracle (AI Chat), Meditation generation, and advanced burnout forecasting.",fr:"dverrouille l'Oracle Neural (Chat IA), la gnration de mditation et la prvision avance de l'puisement.",ar:"   (  )     ."}}},biometrics:{title:{en:"02. Biometrics",fr:"02. Biomtrie",ar:"02.  "},hud:{title:{en:"Neural Sync HUD (Camera)",fr:"HUD Synchro Neurale (Camra)",ar:"HUD   ()"},desc:{en:'The central monitoring unit. Click "INITIALIZE SYNC" to activate.',fr:"L'unit centrale de surveillance. Cliquez sur  INITIALISER SYNCHRO  pour activer.",ar:'  .   " " .'},visual:{title:{en:"Visual Cortex",fr:"Cortex Visuel",ar:" "},desc:{en:"Analyzes video feed 30fps for signs of fatigue (eye closure), posture slouching, and facial tension.",fr:"Analyse le flux vido  30fps pour dtecter les signes de fatigue, l'affaissement de la posture et la tension faciale.",ar:"   30           ."}},audio:{title:{en:"Audio Cortex",fr:"Cortex Audio",ar:" "},desc:{en:"Listens for 'Vocal Fry', sighs, or rapid speech patterns indicating high cortisol/stress levels.",fr:"coute le  Vocal Fry , les soupirs ou les modles de parole rapide indiquant des niveaux levs de cortisol/stress.",ar:"  ' '            /."}},privacy:{title:{en:"Privacy Note:",fr:"Note de Confidentialit :",ar:" :"},desc:{en:"All biometric processing is performed ephemerally. Video frames are analyzed and immediately discarded. No raw footage is ever stored on servers.",fr:"Tout le traitement biomtrique est effectu de manire phmre. Les images vido sont analyses et immdiatement supprimes. Aucune squence brute n'est jamais stocke sur les serveurs.",ar:"     .       .        ."}}},handsFree:{title:{en:"Hands-Free Interaction",fr:"Interaction Mains-Libres",ar:"   "},desc:{en:"Once synced, the HUD enters 'Conversation Mode'. You can speak naturally without clicking any buttons. The AI sees what you see and hears what you say, allowing for real-time ergonomic coaching (e.g., 'Do I look tired?').",fr:"Une fois synchronis, le HUD passe en  Mode Conversation . Vous pouvez parler naturellement sans cliquer sur aucun bouton. L'IA voit ce que vous voyez et entend ce que vous dites.",ar:"   HUD  ' '.         .        ."}}},oracle:{title:{en:"03. The Oracle",fr:"03. L'Oracle",ar:"03. "},chat:{title:{en:"DevWell Oracle (Chatbot)",fr:"DevWell Oracle (Chatbot)",ar:"DevWell Oracle ( )"},desc:{en:"Your personal wellness companion (bottom right). It supports three distinct modes:",fr:"Votre compagnon de bien-tre personnel (en bas  droite). Il prend en charge trois modes distincts :",ar:"   ( ).    :"},modes:[{type:"standard",name:{en:"Standard",fr:"Standard",ar:""},desc:{en:"Fast, conversational responses using Gemini Flash.",fr:"Rponses rapides et conversationnelles utilisant Gemini Flash.",ar:"    Gemini Flash."}},{type:"reasoning",name:{en:"Reasoning",fr:"Raisonnement",ar:""},desc:{en:"Uses Gemini Pro to maximize logic for complex wellness planning or burnout diagnosis.",fr:"Utilise Gemini Pro pour maximiser la logique pour la planification complexe du bien-tre.",ar:" Gemini Pro        ."}},{type:"research",name:{en:"Research",fr:"Recherche",ar:""},desc:{en:"Connects to Google Search to find scientific papers backing up wellness advice.",fr:"Se connecte  Google Search pour trouver des articles scientifiques tayant les conseils de bien-tre.",ar:"  Google       ."}}]}},proTools:{title:{en:"04. Pro Tools",fr:"04. Outils Pro",ar:"04.  "},meditation:{title:{en:"Neural Meditation",fr:"Mditation Neurale",ar:" "},desc:{en:"Uses generative video AI to create custom, infinite loops of calming scenery.",fr:"Utilise l'IA gnrative vido pour crer des boucles infinies de paysages apaisants.",ar:"             ."}},forecast:{title:{en:"Predictive Forecast",fr:"Prvision Prdictive",ar:" "},desc:{en:"Uses your historical data (last 50 sessions) to predict burnout risk 4-8 hours in advance.",fr:"Utilise vos donnes historiques (50 dernires sessions) pour prdire le risque d'puisement 4  8 heures  l'avance.",ar:"   ( 50 )     4-8 ."}}}}},Rj=ne.createContext(void 0),NY=({children:t})=>{const[e,n]=ne.useState("en");ne.useEffect(()=>{const a=localStorage.getItem("app-language");a&&(a==="en"||a==="fr"||a==="ar")&&n(a)},[]),ne.useEffect(()=>{localStorage.setItem("app-language",e),document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e},[e]);const r=(a,o)=>{const c=a.split(".");let d=yO[e];for(const m of c)if(d&&typeof d=="object"&&m in d)d=d[m];else{d=void 0;break}if(!d){d=yO;for(const m of c)if(d&&typeof d=="object"&&m in d)d=d[m];else{d=void 0;break}d&&typeof d=="object"&&e in d&&(d=d[e])}let u=typeof d=="string"?d:a;return o&&Object.entries(o).forEach(([m,y])=>{u=u.replace(new RegExp(`\\{${m}\\}`,"g"),String(y))}),u},i=e==="ar"?"rtl":"ltr";return b.jsx(Rj.Provider,{value:{language:e,setLanguage:n,t:r,dir:i},children:t})},Zr=()=>{const t=ne.useContext(Rj);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},RY=()=>{const t=si(),[e,n]=ne.useState(!1),{t:r,language:i,setLanguage:a,dir:o}=Zr(),c=()=>{a(i==="en"?"fr":i==="fr"?"ar":"en")};return ne.useEffect(()=>{if(t.state&&t.state.scrollTo){const d=document.getElementById(t.state.scrollTo);d&&d.scrollIntoView({behavior:"smooth"})}},[t]),b.jsxs("div",{className:"bg-slate-950 text-white min-h-screen selection:bg-blue-500/30",children:[b.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-2xl tracking-tighter",children:[b.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-lg shadow-blue-600/20",children:b.jsx(Ra,{size:24,className:"text-white"})}),b.jsx("span",{children:"DevWell"})]}),b.jsxs("div",{className:"hidden md:flex items-center gap-8 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:[b.jsx("button",{onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"hover:text-blue-500 transition-colors bg-transparent border-none cursor-pointer uppercase font-black tracking-[0.2em] text-[10px] text-slate-400",children:r("features")}),b.jsx(Mn,{to:"/about",state:{from:"landing"},className:"hover:text-blue-500 transition-colors",children:r("about")}),b.jsx(Mn,{to:"/wellness",state:{from:"landing"},className:"hover:text-blue-500 transition-colors",children:r("wellnessHub")}),b.jsx("button",{onClick:()=>{var d;return(d=document.getElementById("how-it-works"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"hover:text-blue-500 transition-colors bg-transparent border-none cursor-pointer uppercase font-black tracking-[0.2em] text-[10px] text-slate-400",children:r("howItWorks")})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:c,className:"hidden sm:flex items-center gap-2 px-3 py-2 text-[10px] font-black uppercase text-slate-400 hover:text-white transition-colors border border-white/10 rounded-xl",children:[b.jsx(dO,{size:14})," ",i.toUpperCase()]}),b.jsx(Mn,{to:"/login",className:"hidden sm:block px-5 py-2 text-xs font-black uppercase tracking-widest hover:text-blue-500 transition-colors",children:r("login")}),b.jsx(Mn,{to:"/register",className:"hidden sm:block bg-blue-600 hover:bg-blue-700 px-6 py-2.5 rounded-full text-xs font-black uppercase tracking-widest transition-all shadow-lg shadow-blue-900/20",children:r("getStarted")}),b.jsx("button",{className:"md:hidden text-slate-400",onClick:()=>n(!e),children:e?b.jsx(Fy,{}):b.jsx(Ej,{})})]}),e&&b.jsxs("div",{className:"absolute top-full left-0 w-full bg-slate-950 border-b border-white/5 p-6 md:hidden flex flex-col gap-6 shadow-2xl animate-in slide-in-from-top-5",children:[b.jsx("button",{onClick:()=>{var d;(d=document.getElementById("features"))==null||d.scrollIntoView({behavior:"smooth"}),n(!1)},className:"text-left text-sm font-bold text-slate-400 hover:text-white uppercase tracking-widest bg-transparent border-none p-0",children:r("features")}),b.jsx(Mn,{to:"/about",className:"text-sm font-bold text-slate-400 hover:text-white uppercase tracking-widest",children:r("about")}),b.jsx(Mn,{to:"/wellness",className:"text-sm font-bold text-slate-400 hover:text-white uppercase tracking-widest",children:r("wellnessHub")}),b.jsx("button",{onClick:()=>{var d;(d=document.getElementById("how-it-works"))==null||d.scrollIntoView({behavior:"smooth"}),n(!1)},className:"text-left text-sm font-bold text-slate-400 hover:text-white uppercase tracking-widest bg-transparent border-none p-0",children:r("howItWorks")}),b.jsxs("button",{onClick:()=>{c(),n(!1)},className:"text-left text-sm font-bold text-slate-400 hover:text-white uppercase tracking-widest bg-transparent border-none p-0 flex items-center gap-2",children:[b.jsx(dO,{size:16})," Language: ",i.toUpperCase()]}),b.jsx("div",{className:"h-px bg-white/5 my-2"}),b.jsx(Mn,{to:"/login",className:"text-center w-full py-3 rounded-xl bg-white/5 text-xs font-black uppercase tracking-widest",children:r("login")}),b.jsx(Mn,{to:"/register",className:"text-center w-full py-3 rounded-xl bg-blue-600 text-xs font-black uppercase tracking-widest",children:r("getStarted")})]})]}),b.jsxs("section",{className:"relative px-8 pt-24 pb-32 max-w-7xl mx-auto text-center overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-blue-600/10 blur-[120px] rounded-full -z-10"}),b.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-600/10 border border-blue-500/20 px-4 py-2 rounded-full mb-8 animate-in fade-in slide-in-from-top-4 duration-700",children:[b.jsx(im,{size:14,className:"text-blue-400"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-blue-400",children:r("poweredBy")})]}),b.jsx("h1",{className:"text-6xl md:text-8xl font-black mb-8 bg-gradient-to-b from-white via-white to-slate-500 bg-clip-text text-transparent leading-[1.1] tracking-tighter",children:r("heroTitle")}),b.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:r("heroSubtitle")}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[b.jsxs(Mn,{to:"/register",className:"w-full sm:w-auto bg-white text-slate-950 px-10 py-5 rounded-full font-black uppercase tracking-widest text-sm flex items-center justify-center gap-2 group hover:scale-105 transition-all shadow-2xl shadow-white/10",children:[r("startNeuralSync")," ",o==="ltr"?b.jsx(Yg,{className:"group-hover:translate-x-1 transition-transform"}):b.jsx(Yg,{className:"group-hover:-translate-x-1 transition-transform rotate-180"})]}),b.jsx("button",{onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto border border-slate-700 hover:border-slate-500 px-10 py-5 rounded-full font-black uppercase tracking-widest text-sm transition-all bg-slate-900/40 backdrop-blur-sm cursor-pointer text-white",children:r("viewProtocol")})]}),b.jsx("div",{className:"mt-24 border border-white/5 rounded-[48px] overflow-hidden shadow-2xl relative bg-slate-900/20 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-slate-950 rounded-[40px] overflow-hidden border border-white/10 relative aspect-[21/9]",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=2070",alt:"Dashboard Preview",className:"w-full h-full object-cover opacity-40 mix-blend-luminosity"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/20 to-transparent"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsxs("div",{className:"glass-card p-8 rounded-3xl border border-blue-500/20 max-w-lg text-left space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[b.jsx(Ra,{size:16,className:"animate-pulse"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:r("systemStatus")})]}),b.jsx("h3",{className:"text-2xl font-black tracking-tight",children:r("biometricActive")}),b.jsx("p",{className:"text-xs text-slate-400 font-medium",children:r("biometricDesc")})]})})]})})]}),b.jsxs("section",{id:"how-it-works",className:"px-8 py-32 bg-slate-900 overflow-hidden relative border-y border-white/5",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-blue-900/20 via-slate-950 to-slate-950 -z-10"}),b.jsxs("div",{className:"max-w-7xl mx-auto mb-20 text-center",children:[b.jsx("h2",{className:"text-xs font-black text-blue-500 uppercase tracking-[0.5em] mb-4",children:r("processTitle")}),b.jsx("h3",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-6",children:r("processHeading")}),b.jsxs(Mn,{to:"/docs",state:{from:"landing"},className:"inline-flex items-center gap-2 text-sm font-black uppercase tracking-widest text-slate-400 hover:text-blue-500 transition-colors group",children:[r("learnMore")," ",o==="ltr"?b.jsx(Yg,{size:14,className:"group-hover:translate-x-1 transition-transform"}):b.jsx(Yg,{size:14,className:"group-hover:-translate-x-1 transition-transform rotate-180"})]})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-12 max-w-7xl mx-auto relative",children:[b.jsx("div",{className:"absolute top-12 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-blue-500/20 to-transparent hidden md:block"}),[{step:"01",title:r("step1Title"),desc:r("step1Desc")},{step:"02",title:r("step2Title"),desc:r("step2Desc")},{step:"03",title:r("step3Title"),desc:r("step3Desc")}].map((d,u)=>b.jsxs("div",{className:"relative z-10 text-center group",children:[b.jsx("div",{className:"w-24 h-24 mx-auto bg-slate-950 rounded-3xl border border-white/10 flex items-center justify-center mb-8 shadow-2xl group-hover:scale-110 transition-transform group-hover:border-blue-500/50",children:b.jsx("span",{className:"text-3xl font-black text-white/20 group-hover:text-blue-500 transition-colors",children:d.step})}),b.jsx("h4",{className:"text-xl font-black uppercase mb-4 tracking-tight",children:d.title}),b.jsx("p",{className:"text-sm text-slate-400 font-medium leading-relaxed max-w-xs mx-auto",children:d.desc})]},u))]})]}),b.jsxs("section",{id:"features",className:"px-8 py-32 bg-slate-950 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/5 blur-[100px] rounded-full"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-indigo-600/5 blur-[100px] rounded-full"}),b.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-24",children:[b.jsx("h2",{className:"text-xs font-black text-blue-500 uppercase tracking-[0.5em] mb-4",children:"The Neural Protocol"}),b.jsxs("h3",{className:"text-4xl md:text-5xl font-black mb-6 tracking-tighter",children:["Everything you need to ",b.jsx("br",{})," stay in the flow."]})]}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[{id:"vision-biometrics",icon:b.jsx(x0,{className:"text-blue-500"}),title:"Vision Biometrics",desc:"Real-time analysis of blinking frequency, yawning, and posture using Gemini's multimodal vision capabilities.",label:"Vision"},{id:"vocal-stress-probe",icon:b.jsx(Sj,{className:"text-magenta-500"}),title:"Vocal Stress Probe",desc:"Deep analysis of tone, breathing patterns, and speech speed to detect burnout before it manifests physically.",label:"Audio"},{id:"predictive-burnout",icon:b.jsx(ru,{className:"text-indigo-400"}),title:"Predictive Burnout",desc:"Advanced neural forecasting that predicts your burnout risk 4 hours into the future based on activity logs.",label:"Cognitive"},{id:"privacy-core",icon:b.jsx(ns,{className:"text-emerald-400"}),title:"Privacy Core",desc:"Full local scrubbing and PII-stripping protocols. Your biometric data never leaves your control.",label:"Security"},{id:"adhd-hub",icon:b.jsx(Ev,{className:"text-orange-400"}),title:"ADHD Hub",desc:"An specialized focus mode with simplified UI and auditory micro-stretches to keep divergent minds on track.",label:"Focus"},{id:"platform-root",icon:b.jsx(_v,{className:"text-cyan-400"}),title:"Platform Root",desc:"Comprehensive analytics that show your long-term wellness trends and productivity correlations.",label:"Data"}].map((d,u)=>b.jsx(Mn,{to:`/feature/${d.id}`,state:{from:"landing"},className:"block",children:b.jsxs("div",{className:"glass-card border border-white/5 p-10 rounded-[40px] hover:border-blue-500/30 transition-all group relative overflow-hidden h-full",children:[b.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/5 blur-3xl rounded-full group-hover:bg-blue-500/10 transition-colors"}),b.jsx("div",{className:"bg-slate-900 border border-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform shadow-xl",children:d.icon}),b.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:d.label}),b.jsx("h3",{className:"text-xl font-black mb-4 tracking-tight",children:d.title}),b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed font-medium",children:d.desc})]})},u))})]}),b.jsx("footer",{className:"px-8 py-20 border-t border-white/5 bg-slate-950",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-10",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tighter",children:[b.jsx(Ra,{size:24,className:"text-blue-600"}),b.jsx("span",{children:"DevWell"})]}),b.jsxs("div",{className:"flex gap-10 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[b.jsx(Mn,{to:"/about",state:{from:"landing"},className:"hover:text-white transition-colors",children:"About"}),b.jsx(Mn,{to:"/wellness",state:{from:"landing"},className:"hover:text-white transition-colors",children:"Wellness Hub"}),b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Twitter"}),b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"GitHub"})]}),b.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-slate-700",children:" 2026 Neural Wellness Protocol"})]})})]})};var OY={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let MY,PY;function DY(){return{geminiUrl:MY,vertexUrl:PY}}function kY(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=DY();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kl{}function nt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function C(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let u=0;u<d.length;u++){const m=d[u];C(m,e.slice(a+1),n[u])}else for(const u of d)C(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];C(d[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function E(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(c=>E(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function LY(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),o=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&a.length>c)for(let d=c;d<a.length;d++){const u=a[d];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}dS(t,i,a,0,o)}}function dS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const o=a.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const d of c[o])dS(d,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),d={};for(const u of c)d[u]=o[u];for(const[u,m]of Object.entries(d)){const y=[];for(const _ of n.slice(r))_==="*"?y.push(u):y.push(_);C(o,y,m)}for(const u of c)delete o[u]}}else{const o=t;a in o&&dS(o[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jY(t){const e={},n=E(t,["operationName"]);n!=null&&C(e,["operationName"],n);const r=E(t,["resourceName"]);return r!=null&&C(e,["_url","resourceName"],r),e}function BY(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response","generateVideoResponse"]);return o!=null&&C(e,["response"],FY(o)),e}function UY(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response"]);return o!=null&&C(e,["response"],VY(o)),e}function FY(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>zY(o))),C(e,["generatedVideos"],a)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function VY(t){const e={},n=E(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>HY(o))),C(e,["generatedVideos"],a)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function zY(t){const e={},n=E(t,["video"]);return n!=null&&C(e,["video"],KY(n)),e}function HY(t){const e={},n=E(t,["_self"]);return n!=null&&C(e,["video"],XY(n)),e}function qY(t){const e={},n=E(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function GY(t){const e={},n=E(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function $Y(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response"]);return o!=null&&C(e,["response"],WY(o)),e}function WY(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&C(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function Oj(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response"]);return o!=null&&C(e,["response"],YY(o)),e}function YY(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&C(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function KY(t){const e={},n=E(t,["uri"]);n!=null&&C(e,["uri"],n);const r=E(t,["encodedVideo"]);r!=null&&C(e,["videoBytes"],PC(r));const i=E(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function XY(t){const e={},n=E(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],PC(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vO;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vO||(vO={}));var xO;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(xO||(xO={}));var bO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bO||(bO={}));var Et;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Et||(Et={}));var wO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wO||(wO={}));var _O;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_O||(_O={}));var AO;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(AO||(AO={}));var EO;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(EO||(EO={}));var SO;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(SO||(SO={}));var TO;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(TO||(TO={}));var CO;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(CO||(CO={}));var IO;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(IO||(IO={}));var NO;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(NO||(NO={}));var RO;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(RO||(RO={}));var OO;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(OO||(OO={}));var MO;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MO||(MO={}));var PO;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(PO||(PO={}));var DO;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(DO||(DO={}));var kO;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kO||(kO={}));var Vy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vy||(Vy={}));var LO;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(LO||(LO={}));var jO;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jO||(jO={}));var BO;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(BO||(BO={}));var hS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hS||(hS={}));var UO;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(UO||(UO={}));var FO;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(FO||(FO={}));var VO;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(VO||(VO={}));var zO;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zO||(zO={}));var HO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HO||(HO={}));var qO;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qO||(qO={}));var GO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(GO||(GO={}));var $O;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($O||($O={}));var WO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(WO||(WO={}));var YO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(YO||(YO={}));var KO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(KO||(KO={}));var XO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(XO||(XO={}));var QO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(QO||(QO={}));var JO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(JO||(JO={}));var ZO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ZO||(ZO={}));var eM;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(eM||(eM={}));var tM;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(tM||(tM={}));var nM;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(nM||(nM={}));var rM;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rM||(rM={}));var iM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(iM||(iM={}));var aM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(aM||(aM={}));var oM;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(oM||(oM={}));var sM;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sM||(sM={}));var lM;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(lM||(lM={}));var cM;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cM||(cM={}));var uM;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uM||(uM={}));var fM;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fM||(fM={}));var dM;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dM||(dM={}));var hM;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(hM||(hM={}));var pM;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(pM||(pM={}));var mM;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(mM||(mM={}));var xd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xd||(xd={}));class pS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mp{get text(){var e,n,r,i,a,o,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",m=!1;const y=[];for(const _ of(d=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[I,D]of Object.entries(_))I!=="text"&&I!=="thought"&&I!=="thoughtSignature"&&(D!==null||D!==void 0)&&y.push(I);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;m=!0,u+=_.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?u:void 0}get data(){var e,n,r,i,a,o,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const m=[];for(const y of(d=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[_,I]of Object.entries(y))_!=="inlineData"&&(I!==null||I!==void 0)&&m.push(_);y.inlineData&&typeof y.inlineData.data=="string"&&(u+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(d=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,c,d,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(u=m==null?void 0:m[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,c,d,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(u=m==null?void 0:m[0])===null||u===void 0?void 0:u.output}}class gM{}class yM{}class QY{}class JY{}class ZY{}class eK{}class vM{}class xM{}class bM{}class tK{}class zy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new zy;let i;const a=e;return n?i=UY(a):i=BY(a),Object.assign(r,i),r}}class wM{}class _M{}class AM{}class EM{}class nK{}class rK{}class iK{}class DC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new DC,a=$Y(e);return Object.assign(r,a),r}}class aK{}class oK{}class sK{}class SM{}class lK{get text(){var e,n,r;let i="",a=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,u]of Object.entries(c))d!=="text"&&d!=="thought"&&u!==null&&o.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(o))c!=="inlineData"&&d!==null&&a.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class cK{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kC,a=Oj(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Mj(t,e){const n=Nn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Pj(t){return Array.isArray(t)?t.map(e=>Hy(e)):[Hy(t)]}function Hy(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Dj(t){const e=Hy(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kj(t){const e=Hy(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TM(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Lj(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>TM(e)):[TM(t)]}function mS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function CM(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function IM(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ki(t){if(t==null)throw new Error("ContentUnion is required");return mS(t)?t:{role:"user",parts:Lj(t)}}function LC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ki(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ki(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ki(n)):[Ki(e)]}function Do(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(CM(t)||IM(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ki(t)]}const e=[],n=[],r=mS(t[0]);for(const i of t){const a=mS(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(CM(i)||IM(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Lj(n)}),e}function uK(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Et).includes(n[0].toUpperCase())?n[0].toUpperCase():Et.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Et).includes(r.toUpperCase())?r.toUpperCase():Et.TYPE_UNSPECIFIED})}}function Cd(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&uK(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Et).includes(c.toUpperCase())?c.toUpperCase():Et.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Cd(c);else if(r.includes(o)){const d=[];for(const u of c){if(u.type=="null"){e.nullable=!0;continue}d.push(Cd(u))}e[o]=d}else if(i.includes(o)){const d={};for(const[u,m]of Object.entries(c))d[u]=Cd(m);e[o]=d}else{if(o==="additionalProperties")continue;e[o]=c}return e}function jC(t){return Cd(t)}function BC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function UC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Th(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cd(e.response));return t}function Ch(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function fK(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Xl(t,e){if(typeof e!="string")throw new Error("name must be a string");return fK(t,e,"cachedContents")}function jj(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function du(t){return PC(t)}function dK(t){return t!=null&&typeof t=="object"&&"name"in t}function hK(t){return t!=null&&typeof t=="object"&&"video"in t}function pK(t){return t!=null&&typeof t=="object"&&"uri"in t}function Bj(t){var e;let n;if(dK(t)&&(n=t.name),!(pK(t)&&(n=t.uri,n===void 0))&&!(hK(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Uj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Fj(t){for(const e of["models","tunedModels","publisherModels"])if(mK(t,e))return t[e];return[]}function mK(t,e){return t!==null&&typeof t=="object"&&e in t}function gK(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function yK(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=gK(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Vj(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zj(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const d=o.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ih(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Hj(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xK(t){const e={},n=E(t,["responsesFile"]);n!=null&&C(e,["fileName"],n);const r=E(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>ZK(o))),C(e,["inlinedResponses"],a)}const i=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["inlinedEmbedContentResponses"],a)}return e}function bK(t){const e={},n=E(t,["predictionsFormat"]);n!=null&&C(e,["format"],n);const r=E(t,["gcsDestination","outputUriPrefix"]);r!=null&&C(e,["gcsUri"],r);const i=E(t,["bigqueryDestination","outputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function wK(t){const e={},n=E(t,["format"]);n!=null&&C(e,["predictionsFormat"],n);const r=E(t,["gcsUri"]);r!=null&&C(e,["gcsDestination","outputUriPrefix"],r);const i=E(t,["bigqueryUri"]);if(i!=null&&C(e,["bigqueryDestination","outputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sy(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata","displayName"]);r!=null&&C(e,["displayName"],r);const i=E(t,["metadata","state"]);i!=null&&C(e,["state"],Hj(i));const a=E(t,["metadata","createTime"]);a!=null&&C(e,["createTime"],a);const o=E(t,["metadata","endTime"]);o!=null&&C(e,["endTime"],o);const c=E(t,["metadata","updateTime"]);c!=null&&C(e,["updateTime"],c);const d=E(t,["metadata","model"]);d!=null&&C(e,["model"],d);const u=E(t,["metadata","output"]);return u!=null&&C(e,["dest"],xK(zj(u))),e}function gS(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=E(t,["state"]);i!=null&&C(e,["state"],Hj(i));const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["createTime"]);o!=null&&C(e,["createTime"],o);const c=E(t,["startTime"]);c!=null&&C(e,["startTime"],c);const d=E(t,["endTime"]);d!=null&&C(e,["endTime"],d);const u=E(t,["updateTime"]);u!=null&&C(e,["updateTime"],u);const m=E(t,["model"]);m!=null&&C(e,["model"],m);const y=E(t,["inputConfig"]);y!=null&&C(e,["src"],_K(y));const _=E(t,["outputConfig"]);_!=null&&C(e,["dest"],bK(zj(_)));const I=E(t,["completionStats"]);return I!=null&&C(e,["completionStats"],I),e}function _K(t){const e={},n=E(t,["instancesFormat"]);n!=null&&C(e,["format"],n);const r=E(t,["gcsSource","uris"]);r!=null&&C(e,["gcsUri"],r);const i=E(t,["bigquerySource","inputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function AK(t,e){const n={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=E(e,["fileName"]);r!=null&&C(n,["fileName"],r);const i=E(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>JK(t,o))),C(n,["requests","requests"],a)}return n}function EK(t){const e={},n=E(t,["format"]);n!=null&&C(e,["instancesFormat"],n);const r=E(t,["gcsUri"]);r!=null&&C(e,["gcsSource","uris"],r);const i=E(t,["bigqueryUri"]);if(i!=null&&C(e,["bigquerySource","inputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function SK(t){const e={},n=E(t,["data"]);if(n!=null&&C(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function TK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function CK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function IK(t){const e={},n=E(t,["content"]);n!=null&&C(e,["content"],n);const r=E(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],NK(r));const i=E(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const a=E(t,["finishReason"]);a!=null&&C(e,["finishReason"],a);const o=E(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const c=E(t,["groundingMetadata"]);c!=null&&C(e,["groundingMetadata"],c);const d=E(t,["index"]);d!=null&&C(e,["index"],d);const u=E(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const m=E(t,["safetyRatings"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(I=>I)),C(e,["safetyRatings"],_)}const y=E(t,["urlContextMetadata"]);return y!=null&&C(e,["urlContextMetadata"],y),e}function NK(t){const e={},n=E(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["citations"],r)}return e}function qj(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>oX(a))),C(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&C(e,["role"],r),e}function RK(t,e){const n={},r=E(t,["displayName"]);if(e!==void 0&&r!=null&&C(e,["batch","displayName"],r),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function OK(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=E(t,["dest"]);return e!==void 0&&i!=null&&C(e,["outputConfig"],wK(vK(i))),n}function NM(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["src"]);i!=null&&C(n,["batch","inputConfig"],AK(t,Vj(t,i)));const a=E(e,["config"]);return a!=null&&RK(a,n),n}function MK(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["model"],Nn(t,r));const i=E(e,["src"]);i!=null&&C(n,["inputConfig"],EK(Vj(t,i)));const a=E(e,["config"]);return a!=null&&OK(a,n),n}function PK(t,e){const n={},r=E(t,["displayName"]);return e!==void 0&&r!=null&&C(e,["batch","displayName"],r),n}function DK(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["src"]);i!=null&&C(n,["batch","inputConfig"],VK(t,i));const a=E(e,["config"]);return a!=null&&PK(a,n),n}function kK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function LK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function jK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["name"]);r!=null&&C(e,["name"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);return a!=null&&C(e,["error"],a),e}function BK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["name"]);r!=null&&C(e,["name"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);return a!=null&&C(e,["error"],a),e}function UK(t,e){const n={},r=E(e,["contents"]);if(r!=null){let a=LC(t,r);Array.isArray(a)&&(a=a.map(o=>o)),C(n,["requests[]","request","content"],a)}const i=E(e,["config"]);return i!=null&&(C(n,["_self"],FK(i,n)),LY(n,{"requests[].*":"requests[].request.*"})),n}function FK(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const a=E(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&C(e,["requests[]","outputDimensionality"],a),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function VK(t,e){const n={},r=E(e,["fileName"]);r!=null&&C(n,["file_name"],r);const i=E(e,["inlinedRequests"]);return i!=null&&C(n,["requests"],UK(t,i)),n}function zK(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function HK(t){const e={},n=E(t,["id"]);n!=null&&C(e,["id"],n);const r=E(t,["args"]);r!=null&&C(e,["args"],r);const i=E(t,["name"]);if(i!=null&&C(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qK(t){const e={},n=E(t,["mode"]);n!=null&&C(e,["mode"],n);const r=E(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function GK(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],qj(Ki(i)));const a=E(e,["temperature"]);a!=null&&C(r,["temperature"],a);const o=E(e,["topP"]);o!=null&&C(r,["topP"],o);const c=E(e,["topK"]);c!=null&&C(r,["topK"],c);const d=E(e,["candidateCount"]);d!=null&&C(r,["candidateCount"],d);const u=E(e,["maxOutputTokens"]);u!=null&&C(r,["maxOutputTokens"],u);const m=E(e,["stopSequences"]);m!=null&&C(r,["stopSequences"],m);const y=E(e,["responseLogprobs"]);y!=null&&C(r,["responseLogprobs"],y);const _=E(e,["logprobs"]);_!=null&&C(r,["logprobs"],_);const I=E(e,["presencePenalty"]);I!=null&&C(r,["presencePenalty"],I);const D=E(e,["frequencyPenalty"]);D!=null&&C(r,["frequencyPenalty"],D);const M=E(e,["seed"]);M!=null&&C(r,["seed"],M);const R=E(e,["responseMimeType"]);R!=null&&C(r,["responseMimeType"],R);const j=E(e,["responseSchema"]);j!=null&&C(r,["responseSchema"],jC(j));const B=E(e,["responseJsonSchema"]);if(B!=null&&C(r,["responseJsonSchema"],B),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=E(e,["safetySettings"]);if(n!==void 0&&U!=null){let X=U;Array.isArray(X)&&(X=X.map(ge=>sX(ge))),C(n,["safetySettings"],X)}const $=E(e,["tools"]);if(n!==void 0&&$!=null){let X=Ch($);Array.isArray(X)&&(X=X.map(ge=>cX(Th(ge)))),C(n,["tools"],X)}const H=E(e,["toolConfig"]);if(n!==void 0&&H!=null&&C(n,["toolConfig"],lX(H)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=E(e,["cachedContent"]);n!==void 0&&G!=null&&C(n,["cachedContent"],Xl(t,G));const L=E(e,["responseModalities"]);L!=null&&C(r,["responseModalities"],L);const V=E(e,["mediaResolution"]);V!=null&&C(r,["mediaResolution"],V);const F=E(e,["speechConfig"]);if(F!=null&&C(r,["speechConfig"],BC(F)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=E(e,["thinkingConfig"]);ee!=null&&C(r,["thinkingConfig"],ee);const K=E(e,["imageConfig"]);K!=null&&C(r,["imageConfig"],QK(K));const Q=E(e,["enableEnhancedCivicAnswers"]);return Q!=null&&C(r,["enableEnhancedCivicAnswers"],Q),r}function $K(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(u=>IK(u))),C(e,["candidates"],d)}const i=E(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const a=E(t,["promptFeedback"]);a!=null&&C(e,["promptFeedback"],a);const o=E(t,["responseId"]);o!=null&&C(e,["responseId"],o);const c=E(t,["usageMetadata"]);return c!=null&&C(e,["usageMetadata"],c),e}function WK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function YK(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Ih(t,r)),n}function KK(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function XK(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function QK(t){const e={},n=E(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=E(t,["imageSize"]);if(r!=null&&C(e,["imageSize"],r),E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function JK(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["request","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let c=Do(i);Array.isArray(c)&&(c=c.map(d=>qj(d))),C(n,["request","contents"],c)}const a=E(e,["metadata"]);a!=null&&C(n,["metadata"],a);const o=E(e,["config"]);return o!=null&&C(n,["request","generationConfig"],GK(t,o,E(n,["request"],{}))),n}function ZK(t){const e={},n=E(t,["response"]);n!=null&&C(e,["response"],$K(n));const r=E(t,["error"]);return r!=null&&C(e,["error"],r),e}function eX(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);if(e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tX(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const a=E(t,["filter"]);return e!==void 0&&a!=null&&C(e,["_query","filter"],a),n}function nX(t){const e={},n=E(t,["config"]);return n!=null&&eX(n,e),e}function rX(t){const e={},n=E(t,["config"]);return n!=null&&tX(n,e),e}function iX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Sy(o))),C(e,["batchJobs"],a)}return e}function aX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gS(o))),C(e,["batchJobs"],a)}return e}function oX(t){const e={},n=E(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=E(t,["fileData"]);a!=null&&C(e,["fileData"],zK(a));const o=E(t,["functionCall"]);o!=null&&C(e,["functionCall"],HK(o));const c=E(t,["functionResponse"]);c!=null&&C(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&C(e,["inlineData"],SK(d));const u=E(t,["text"]);u!=null&&C(e,["text"],u);const m=E(t,["thought"]);m!=null&&C(e,["thought"],m);const y=E(t,["thoughtSignature"]);y!=null&&C(e,["thoughtSignature"],y);const _=E(t,["videoMetadata"]);return _!=null&&C(e,["videoMetadata"],_),e}function sX(t){const e={},n=E(t,["category"]);if(n!=null&&C(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=E(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function lX(t){const e={},n=E(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],qK(n));const r=E(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function cX(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),C(e,["functionDeclarations"],m)}if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=E(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const a=E(t,["fileSearch"]);a!=null&&C(e,["fileSearch"],a);const o=E(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=E(t,["googleMaps"]);c!=null&&C(e,["googleMaps"],KK(c));const d=E(t,["googleSearch"]);d!=null&&C(e,["googleSearch"],XK(d));const u=E(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(jl||(jl={}));class Ef{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uX extends Kl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ef(jl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=NM(this.apiClient,e),r=n._url,i=nt("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,u=[];for(const m of d){const y=Object.assign({},m);if(y.systemInstruction){const _=y.systemInstruction;delete y.systemInstruction;const I=y.request;I.systemInstruction=_,y.request=I}u.push(y)}return c.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=MK(this.apiClient,e);return c=nt("batchPredictionJobs",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>gS(m))}else{const u=NM(this.apiClient,e);return c=nt("{model}:batchGenerateContent",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>Sy(m))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DK(this.apiClient,e);return a=nt("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Sy(d))}}async get(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=YK(this.apiClient,e);return c=nt("batchPredictionJobs/{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>gS(m))}else{const u=WK(this.apiClient,e);return c=nt("batches/{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>Sy(m))}}async cancel(e){var n,r,i,a;let o="",c={};if(this.apiClient.isVertexAI()){const d=CK(this.apiClient,e);o=nt("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=TK(this.apiClient,e);o=nt("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=rX(e);return c=nt("batchPredictionJobs",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=aX(m),_=new SM;return Object.assign(_,y),_})}else{const u=nX(e);return c=nt("batches",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=iX(m),_=new SM;return Object.assign(_,y),_})}}async delete(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=LK(this.apiClient,e);return c=nt("batchPredictionJobs/{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>BK(m))}else{const u=kK(this.apiClient,e);return c=nt("batches/{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>jK(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fX(t){const e={},n=E(t,["data"]);if(n!=null&&C(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function RM(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DX(a))),C(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&C(e,["role"],r),e}function dX(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const a=E(t,["displayName"]);e!==void 0&&a!=null&&C(e,["displayName"],a);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let m=Do(o);Array.isArray(m)&&(m=m.map(y=>RM(y))),C(e,["contents"],m)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&C(e,["systemInstruction"],RM(Ki(c)));const d=E(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>LX(y))),C(e,["tools"],m)}const u=E(t,["toolConfig"]);if(e!==void 0&&u!=null&&C(e,["toolConfig"],kX(u)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hX(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const a=E(t,["displayName"]);e!==void 0&&a!=null&&C(e,["displayName"],a);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let y=Do(o);Array.isArray(y)&&(y=y.map(_=>_)),C(e,["contents"],y)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&C(e,["systemInstruction"],Ki(c));const d=E(t,["tools"]);if(e!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(_=>jX(_))),C(e,["tools"],y)}const u=E(t,["toolConfig"]);e!==void 0&&u!=null&&C(e,["toolConfig"],u);const m=E(t,["kmsKeyName"]);return e!==void 0&&m!=null&&C(e,["encryption_spec","kmsKeyName"],m),n}function pX(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["model"],Mj(t,r));const i=E(e,["config"]);return i!=null&&dX(i,n),n}function mX(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["model"],Mj(t,r));const i=E(e,["config"]);return i!=null&&hX(i,n),n}function gX(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Xl(t,r)),n}function yX(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Xl(t,r)),n}function vX(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function xX(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function bX(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function wX(t){const e={},n=E(t,["id"]);n!=null&&C(e,["id"],n);const r=E(t,["args"]);r!=null&&C(e,["args"],r);const i=E(t,["name"]);if(i!=null&&C(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _X(t){const e={},n=E(t,["mode"]);n!=null&&C(e,["mode"],n);const r=E(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AX(t){const e={};if(E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=E(t,["description"]);n!=null&&C(e,["description"],n);const r=E(t,["name"]);r!=null&&C(e,["name"],r);const i=E(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=E(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&C(e,["response"],o);const c=E(t,["responseJsonSchema"]);return c!=null&&C(e,["responseJsonSchema"],c),e}function EX(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Xl(t,r)),n}function SX(t,e){const n={},r=E(e,["name"]);return r!=null&&C(n,["_url","name"],Xl(t,r)),n}function TX(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function CX(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function IX(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function NX(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function RX(t){const e={},n=E(t,["config"]);return n!=null&&IX(n,e),e}function OX(t){const e={},n=E(t,["config"]);return n!=null&&NX(n,e),e}function MX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["cachedContents"],a)}return e}function PX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["cachedContents"],a)}return e}function DX(t){const e={},n=E(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=E(t,["fileData"]);a!=null&&C(e,["fileData"],bX(a));const o=E(t,["functionCall"]);o!=null&&C(e,["functionCall"],wX(o));const c=E(t,["functionResponse"]);c!=null&&C(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&C(e,["inlineData"],fX(d));const u=E(t,["text"]);u!=null&&C(e,["text"],u);const m=E(t,["thought"]);m!=null&&C(e,["thought"],m);const y=E(t,["thoughtSignature"]);y!=null&&C(e,["thoughtSignature"],y);const _=E(t,["videoMetadata"]);return _!=null&&C(e,["videoMetadata"],_),e}function kX(t){const e={},n=E(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],_X(n));const r=E(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function LX(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),C(e,["functionDeclarations"],m)}if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=E(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const a=E(t,["fileSearch"]);a!=null&&C(e,["fileSearch"],a);const o=E(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=E(t,["googleMaps"]);c!=null&&C(e,["googleMaps"],TX(c));const d=E(t,["googleSearch"]);d!=null&&C(e,["googleSearch"],CX(d));const u=E(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function jX(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>AX(_))),C(e,["functionDeclarations"],y)}const r=E(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=E(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const a=E(t,["computerUse"]);if(a!=null&&C(e,["computerUse"],a),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=E(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const c=E(t,["enterpriseWebSearch"]);c!=null&&C(e,["enterpriseWebSearch"],c);const d=E(t,["googleMaps"]);d!=null&&C(e,["googleMaps"],d);const u=E(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const m=E(t,["urlContext"]);return m!=null&&C(e,["urlContext"],m),e}function BX(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function UX(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function FX(t,e){const n={},r=E(e,["name"]);r!=null&&C(n,["_url","name"],Xl(t,r));const i=E(e,["config"]);return i!=null&&BX(i,n),n}function VX(t,e){const n={},r=E(e,["name"]);r!=null&&C(n,["_url","name"],Xl(t,r));const i=E(e,["config"]);return i!=null&&UX(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zX extends Kl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ef(jl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=mX(this.apiClient,e);return c=nt("cachedContents",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const u=pX(this.apiClient,e);return c=nt("cachedContents",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async get(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=SX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const u=EX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=yX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=xX(m),_=new AM;return Object.assign(_,y),_})}else{const u=gX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=vX(m),_=new AM;return Object.assign(_,y),_})}}async update(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=VX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const u=FX(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async listInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=OX(e);return c=nt("cachedContents",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=PX(m),_=new EM;return Object.assign(_,y),_})}else{const u=RX(e);return c=nt("cachedContents",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=MX(m),_=new EM;return Object.assign(_,y),_})}}}function qy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(t){return this instanceof Vt?(this.v=t,this):new Vt(t)}function rs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(D){return Promise.resolve(D).then(I,y)}}function c(I,D){r[I]&&(i[I]=function(M){return new Promise(function(R,j){a.push([I,M,R,j])>1||d(I,M)})},D&&(i[I]=D(i[I])))}function d(I,D){try{u(r[I](D))}catch(M){_(a[0][3],M)}}function u(I){I.value instanceof Vt?Promise.resolve(I.value.v).then(m,y):_(a[0][2],I)}function m(I){d("next",I)}function y(I){d("throw",I)}function _(I,D){I(D),a.shift(),a.length&&d(a[0][0],a[0][1])}}function is(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof OM=="function"?OM(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(c,d){o=t[a](o),i(c,d,o.done,o.value)})}}function i(a,o,c,d){Promise.resolve(d).then(function(u){a({value:u,done:c})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HX(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Gj(n)}function Gj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qX(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function MM(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Gj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class GX{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $X(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $X{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),qX(a)}async sendMessage(e){var n;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,c;const d=await i,u=(o=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,m=d.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let _=[];m!=null&&(_=(c=m.slice(y))!==null&&c!==void 0?c:[]);const I=u?[u]:[];this.recordHistory(r,I,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?MM(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return rs(this,arguments,function*(){var i,a,o,c,d,u;const m=[];try{for(var y=!0,_=is(e),I;I=yield Vt(_.next()),i=I.done,!i;y=!0){c=I.value,y=!1;const D=c;if(HX(D)){const M=(u=(d=D.candidates)===null||d===void 0?void 0:d[0])===null||u===void 0?void 0:u.content;M!==void 0&&m.push(M)}yield yield Vt(D)}}catch(D){a={error:D}}finally{try{!y&&!i&&(o=_.return)&&(yield Vt(o.call(_)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...MM(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Sv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WX(t){const e={},n=E(t,["file"]);return n!=null&&C(e,["file"],n),e}function YX(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function KX(t){const e={},n=E(t,["name"]);return n!=null&&C(e,["_url","file"],Bj(n)),e}function XX(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function QX(t){const e={},n=E(t,["name"]);return n!=null&&C(e,["_url","file"],Bj(n)),e}function JX(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function ZX(t){const e={},n=E(t,["config"]);return n!=null&&JX(n,e),e}function eQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tQ extends Kl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ef(jl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZX(e);return a=nt("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const u=eQ(d),m=new aK;return Object.assign(m,u),m})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WX(e);return a=nt("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=YX(d),m=new oK;return Object.assign(m,u),m})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QX(e);return a=nt("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KX(e);return a=nt("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const u=XX(d),m=new sK;return Object.assign(m,u),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ty(t){const e={},n=E(t,["data"]);if(n!=null&&C(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function nQ(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>vQ(a))),C(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&C(e,["role"],r),e}function rQ(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function iQ(t){const e={},n=E(t,["id"]);n!=null&&C(e,["id"],n);const r=E(t,["args"]);r!=null&&C(e,["args"],r);const i=E(t,["name"]);if(i!=null&&C(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aQ(t){const e={};if(E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=E(t,["description"]);n!=null&&C(e,["description"],n);const r=E(t,["name"]);r!=null&&C(e,["name"],r);const i=E(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=E(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&C(e,["response"],o);const c=E(t,["responseJsonSchema"]);return c!=null&&C(e,["responseJsonSchema"],c),e}function oQ(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const r=E(t,["responseJsonSchema"]);r!=null&&C(e,["responseJsonSchema"],r);const i=E(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const a=E(t,["candidateCount"]);a!=null&&C(e,["candidateCount"],a);const o=E(t,["enableAffectiveDialog"]);o!=null&&C(e,["enableAffectiveDialog"],o);const c=E(t,["frequencyPenalty"]);c!=null&&C(e,["frequencyPenalty"],c);const d=E(t,["logprobs"]);d!=null&&C(e,["logprobs"],d);const u=E(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const m=E(t,["mediaResolution"]);m!=null&&C(e,["mediaResolution"],m);const y=E(t,["presencePenalty"]);y!=null&&C(e,["presencePenalty"],y);const _=E(t,["responseLogprobs"]);_!=null&&C(e,["responseLogprobs"],_);const I=E(t,["responseMimeType"]);I!=null&&C(e,["responseMimeType"],I);const D=E(t,["responseModalities"]);D!=null&&C(e,["responseModalities"],D);const M=E(t,["responseSchema"]);M!=null&&C(e,["responseSchema"],M);const R=E(t,["routingConfig"]);R!=null&&C(e,["routingConfig"],R);const j=E(t,["seed"]);j!=null&&C(e,["seed"],j);const B=E(t,["speechConfig"]);B!=null&&C(e,["speechConfig"],B);const U=E(t,["stopSequences"]);U!=null&&C(e,["stopSequences"],U);const $=E(t,["temperature"]);$!=null&&C(e,["temperature"],$);const H=E(t,["thinkingConfig"]);H!=null&&C(e,["thinkingConfig"],H);const G=E(t,["topK"]);G!=null&&C(e,["topK"],G);const L=E(t,["topP"]);if(L!=null&&C(e,["topP"],L),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sQ(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function lQ(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function cQ(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=E(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","maxOutputTokens"],d);const u=E(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const m=E(t,["seed"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","seed"],m);const y=E(t,["speechConfig"]);e!==void 0&&y!=null&&C(e,["setup","generationConfig","speechConfig"],UC(y));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","thinkingConfig"],_);const I=E(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&C(e,["setup","systemInstruction"],nQ(Ki(D)));const M=E(t,["tools"]);if(e!==void 0&&M!=null){let G=Ch(M);Array.isArray(G)&&(G=G.map(L=>bQ(Th(L)))),C(e,["setup","tools"],G)}const R=E(t,["sessionResumption"]);e!==void 0&&R!=null&&C(e,["setup","sessionResumption"],xQ(R));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&C(e,["setup","inputAudioTranscription"],j);const B=E(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&C(e,["setup","outputAudioTranscription"],B);const U=E(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&C(e,["setup","realtimeInputConfig"],U);const $=E(t,["contextWindowCompression"]);e!==void 0&&$!=null&&C(e,["setup","contextWindowCompression"],$);const H=E(t,["proactivity"]);if(e!==void 0&&H!=null&&C(e,["setup","proactivity"],H),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uQ(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],oQ(r));const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=E(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","maxOutputTokens"],d);const u=E(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const m=E(t,["seed"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","seed"],m);const y=E(t,["speechConfig"]);e!==void 0&&y!=null&&C(e,["setup","generationConfig","speechConfig"],UC(y));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","thinkingConfig"],_);const I=E(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&C(e,["setup","systemInstruction"],Ki(D));const M=E(t,["tools"]);if(e!==void 0&&M!=null){let L=Ch(M);Array.isArray(L)&&(L=L.map(V=>wQ(Th(V)))),C(e,["setup","tools"],L)}const R=E(t,["sessionResumption"]);e!==void 0&&R!=null&&C(e,["setup","sessionResumption"],R);const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&C(e,["setup","inputAudioTranscription"],j);const B=E(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&C(e,["setup","outputAudioTranscription"],B);const U=E(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&C(e,["setup","realtimeInputConfig"],U);const $=E(t,["contextWindowCompression"]);e!==void 0&&$!=null&&C(e,["setup","contextWindowCompression"],$);const H=E(t,["proactivity"]);e!==void 0&&H!=null&&C(e,["setup","proactivity"],H);const G=E(t,["explicitVadSignal"]);return e!==void 0&&G!=null&&C(e,["setup","explicitVadSignal"],G),n}function fQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["setup","model"],Nn(t,r));const i=E(e,["config"]);return i!=null&&C(n,["config"],cQ(i,n)),n}function dQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["setup","model"],Nn(t,r));const i=E(e,["config"]);return i!=null&&C(n,["config"],uQ(i,n)),n}function hQ(t){const e={},n=E(t,["musicGenerationConfig"]);return n!=null&&C(e,["musicGenerationConfig"],n),e}function pQ(t){const e={},n=E(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["weightedPrompts"],r)}return e}function mQ(t){const e={},n=E(t,["media"]);if(n!=null){let u=Pj(n);Array.isArray(u)&&(u=u.map(m=>Ty(m))),C(e,["mediaChunks"],u)}const r=E(t,["audio"]);r!=null&&C(e,["audio"],Ty(kj(r)));const i=E(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const a=E(t,["video"]);a!=null&&C(e,["video"],Ty(Dj(a)));const o=E(t,["text"]);o!=null&&C(e,["text"],o);const c=E(t,["activityStart"]);c!=null&&C(e,["activityStart"],c);const d=E(t,["activityEnd"]);return d!=null&&C(e,["activityEnd"],d),e}function gQ(t){const e={},n=E(t,["media"]);if(n!=null){let u=Pj(n);Array.isArray(u)&&(u=u.map(m=>m)),C(e,["mediaChunks"],u)}const r=E(t,["audio"]);r!=null&&C(e,["audio"],kj(r));const i=E(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const a=E(t,["video"]);a!=null&&C(e,["video"],Dj(a));const o=E(t,["text"]);o!=null&&C(e,["text"],o);const c=E(t,["activityStart"]);c!=null&&C(e,["activityStart"],c);const d=E(t,["activityEnd"]);return d!=null&&C(e,["activityEnd"],d),e}function yQ(t){const e={},n=E(t,["setupComplete"]);n!=null&&C(e,["setupComplete"],n);const r=E(t,["serverContent"]);r!=null&&C(e,["serverContent"],r);const i=E(t,["toolCall"]);i!=null&&C(e,["toolCall"],i);const a=E(t,["toolCallCancellation"]);a!=null&&C(e,["toolCallCancellation"],a);const o=E(t,["usageMetadata"]);o!=null&&C(e,["usageMetadata"],_Q(o));const c=E(t,["goAway"]);c!=null&&C(e,["goAway"],c);const d=E(t,["sessionResumptionUpdate"]);d!=null&&C(e,["sessionResumptionUpdate"],d);const u=E(t,["voiceActivityDetectionSignal"]);return u!=null&&C(e,["voiceActivityDetectionSignal"],u),e}function vQ(t){const e={},n=E(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=E(t,["fileData"]);a!=null&&C(e,["fileData"],rQ(a));const o=E(t,["functionCall"]);o!=null&&C(e,["functionCall"],iQ(o));const c=E(t,["functionResponse"]);c!=null&&C(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&C(e,["inlineData"],Ty(d));const u=E(t,["text"]);u!=null&&C(e,["text"],u);const m=E(t,["thought"]);m!=null&&C(e,["thought"],m);const y=E(t,["thoughtSignature"]);y!=null&&C(e,["thoughtSignature"],y);const _=E(t,["videoMetadata"]);return _!=null&&C(e,["videoMetadata"],_),e}function xQ(t){const e={},n=E(t,["handle"]);if(n!=null&&C(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bQ(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),C(e,["functionDeclarations"],m)}if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=E(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const a=E(t,["fileSearch"]);a!=null&&C(e,["fileSearch"],a);const o=E(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=E(t,["googleMaps"]);c!=null&&C(e,["googleMaps"],sQ(c));const d=E(t,["googleSearch"]);d!=null&&C(e,["googleSearch"],lQ(d));const u=E(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function wQ(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>aQ(_))),C(e,["functionDeclarations"],y)}const r=E(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=E(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const a=E(t,["computerUse"]);if(a!=null&&C(e,["computerUse"],a),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=E(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const c=E(t,["enterpriseWebSearch"]);c!=null&&C(e,["enterpriseWebSearch"],c);const d=E(t,["googleMaps"]);d!=null&&C(e,["googleMaps"],d);const u=E(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const m=E(t,["urlContext"]);return m!=null&&C(e,["urlContext"],m),e}function _Q(t){const e={},n=E(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const r=E(t,["cachedContentTokenCount"]);r!=null&&C(e,["cachedContentTokenCount"],r);const i=E(t,["candidatesTokenCount"]);i!=null&&C(e,["responseTokenCount"],i);const a=E(t,["toolUsePromptTokenCount"]);a!=null&&C(e,["toolUsePromptTokenCount"],a);const o=E(t,["thoughtsTokenCount"]);o!=null&&C(e,["thoughtsTokenCount"],o);const c=E(t,["totalTokenCount"]);c!=null&&C(e,["totalTokenCount"],c);const d=E(t,["promptTokensDetails"]);if(d!=null){let I=d;Array.isArray(I)&&(I=I.map(D=>D)),C(e,["promptTokensDetails"],I)}const u=E(t,["cacheTokensDetails"]);if(u!=null){let I=u;Array.isArray(I)&&(I=I.map(D=>D)),C(e,["cacheTokensDetails"],I)}const m=E(t,["candidatesTokensDetails"]);if(m!=null){let I=m;Array.isArray(I)&&(I=I.map(D=>D)),C(e,["responseTokensDetails"],I)}const y=E(t,["toolUsePromptTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(D=>D)),C(e,["toolUsePromptTokensDetails"],I)}const _=E(t,["trafficType"]);return _!=null&&C(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AQ(t){const e={},n=E(t,["data"]);if(n!=null&&C(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function EQ(t){const e={},n=E(t,["content"]);n!=null&&C(e,["content"],n);const r=E(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],SQ(r));const i=E(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const a=E(t,["finishReason"]);a!=null&&C(e,["finishReason"],a);const o=E(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const c=E(t,["groundingMetadata"]);c!=null&&C(e,["groundingMetadata"],c);const d=E(t,["index"]);d!=null&&C(e,["index"],d);const u=E(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const m=E(t,["safetyRatings"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(I=>I)),C(e,["safetyRatings"],_)}const y=E(t,["urlContextMetadata"]);return y!=null&&C(e,["urlContextMetadata"],y),e}function SQ(t){const e={},n=E(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["citations"],r)}return e}function TQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let a=Do(i);Array.isArray(a)&&(a=a.map(o=>o)),C(n,["contents"],a)}return n}function CQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),C(e,["tokensInfo"],i)}return e}function IQ(t){const e={},n=E(t,["values"]);n!=null&&C(e,["values"],n);const r=E(t,["statistics"]);return r!=null&&C(e,["statistics"],NQ(r)),e}function NQ(t){const e={},n=E(t,["truncated"]);n!=null&&C(e,["truncated"],n);const r=E(t,["token_count"]);return r!=null&&C(e,["tokenCount"],r),e}function Tv(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>BJ(a))),C(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&C(e,["role"],r),e}function RQ(t){const e={},n=E(t,["controlType"]);n!=null&&C(e,["controlType"],n);const r=E(t,["enableControlImageComputation"]);return r!=null&&C(e,["computeControl"],r),e}function OQ(t){const e={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function MQ(t,e){const n={},r=E(t,["systemInstruction"]);e!==void 0&&r!=null&&C(e,["systemInstruction"],Ki(r));const i=E(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Kj(c))),C(e,["tools"],o)}const a=E(t,["generationConfig"]);return e!==void 0&&a!=null&&C(e,["generationConfig"],AJ(a)),n}function PQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let o=Do(i);Array.isArray(o)&&(o=o.map(c=>Tv(c))),C(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&OQ(a),n}function DQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let o=Do(i);Array.isArray(o)&&(o=o.map(c=>c)),C(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&MQ(a,n),n}function kQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["totalTokens"]);r!=null&&C(e,["totalTokens"],r);const i=E(t,["cachedContentTokenCount"]);return i!=null&&C(e,["cachedContentTokenCount"],i),e}function LQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["totalTokens"]);return r!=null&&C(e,["totalTokens"],r),e}function jQ(t,e){const n={},r=E(e,["model"]);return r!=null&&C(n,["_url","name"],Nn(t,r)),n}function BQ(t,e){const n={},r=E(e,["model"]);return r!=null&&C(n,["_url","name"],Nn(t,r)),n}function UQ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function FQ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function VQ(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=E(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const a=E(t,["numberOfImages"]);e!==void 0&&a!=null&&C(e,["parameters","sampleCount"],a);const o=E(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const c=E(t,["guidanceScale"]);e!==void 0&&c!=null&&C(e,["parameters","guidanceScale"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&C(e,["parameters","seed"],d);const u=E(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const m=E(t,["personGeneration"]);e!==void 0&&m!=null&&C(e,["parameters","personGeneration"],m);const y=E(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&C(e,["parameters","includeSafetyAttributes"],y);const _=E(t,["includeRaiReason"]);e!==void 0&&_!=null&&C(e,["parameters","includeRaiReason"],_);const I=E(t,["language"]);e!==void 0&&I!=null&&C(e,["parameters","language"],I);const D=E(t,["outputMimeType"]);e!==void 0&&D!=null&&C(e,["parameters","outputOptions","mimeType"],D);const M=E(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&C(e,["parameters","outputOptions","compressionQuality"],M);const R=E(t,["addWatermark"]);e!==void 0&&R!=null&&C(e,["parameters","addWatermark"],R);const j=E(t,["labels"]);e!==void 0&&j!=null&&C(e,["labels"],j);const B=E(t,["editMode"]);e!==void 0&&B!=null&&C(e,["parameters","editMode"],B);const U=E(t,["baseSteps"]);return e!==void 0&&U!=null&&C(e,["parameters","editConfig","baseSteps"],U),n}function zQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const a=E(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>qJ(d))),C(n,["instances[0]","referenceImages"],c)}const o=E(e,["config"]);return o!=null&&VQ(o,n),n}function HQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Cv(a))),C(e,["generatedImages"],i)}return e}function qQ(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const a=E(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&C(e,["requests[]","outputDimensionality"],a),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GQ(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&C(e,["instances[]","task_type"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&C(e,["instances[]","title"],i);const a=E(t,["outputDimensionality"]);e!==void 0&&a!=null&&C(e,["parameters","outputDimensionality"],a);const o=E(t,["mimeType"]);e!==void 0&&o!=null&&C(e,["instances[]","mimeType"],o);const c=E(t,["autoTruncate"]);return e!==void 0&&c!=null&&C(e,["parameters","autoTruncate"],c),n}function $Q(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let c=LC(t,i);Array.isArray(c)&&(c=c.map(d=>d)),C(n,["requests[]","content"],c)}const a=E(e,["config"]);a!=null&&qQ(a,n);const o=E(e,["model"]);return o!==void 0&&C(n,["requests[]","model"],Nn(t,o)),n}function WQ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let o=LC(t,i);Array.isArray(o)&&(o=o.map(c=>c)),C(n,["instances[]","content"],o)}const a=E(e,["config"]);return a!=null&&GQ(a,n),n}function YQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["embeddings"],a)}const i=E(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function KQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>IQ(o))),C(e,["embeddings"],a)}const i=E(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function XQ(t){const e={},n=E(t,["endpoint"]);n!=null&&C(e,["name"],n);const r=E(t,["deployedModelId"]);return r!=null&&C(e,["deployedModelId"],r),e}function QQ(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function JQ(t){const e={},n=E(t,["id"]);n!=null&&C(e,["id"],n);const r=E(t,["args"]);r!=null&&C(e,["args"],r);const i=E(t,["name"]);if(i!=null&&C(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZQ(t){const e={},n=E(t,["mode"]);n!=null&&C(e,["mode"],n);const r=E(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eJ(t){const e={};if(E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=E(t,["description"]);n!=null&&C(e,["description"],n);const r=E(t,["name"]);r!=null&&C(e,["name"],r);const i=E(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=E(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&C(e,["response"],o);const c=E(t,["responseJsonSchema"]);return c!=null&&C(e,["responseJsonSchema"],c),e}function tJ(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],Tv(Ki(i)));const a=E(e,["temperature"]);a!=null&&C(r,["temperature"],a);const o=E(e,["topP"]);o!=null&&C(r,["topP"],o);const c=E(e,["topK"]);c!=null&&C(r,["topK"],c);const d=E(e,["candidateCount"]);d!=null&&C(r,["candidateCount"],d);const u=E(e,["maxOutputTokens"]);u!=null&&C(r,["maxOutputTokens"],u);const m=E(e,["stopSequences"]);m!=null&&C(r,["stopSequences"],m);const y=E(e,["responseLogprobs"]);y!=null&&C(r,["responseLogprobs"],y);const _=E(e,["logprobs"]);_!=null&&C(r,["logprobs"],_);const I=E(e,["presencePenalty"]);I!=null&&C(r,["presencePenalty"],I);const D=E(e,["frequencyPenalty"]);D!=null&&C(r,["frequencyPenalty"],D);const M=E(e,["seed"]);M!=null&&C(r,["seed"],M);const R=E(e,["responseMimeType"]);R!=null&&C(r,["responseMimeType"],R);const j=E(e,["responseSchema"]);j!=null&&C(r,["responseSchema"],jC(j));const B=E(e,["responseJsonSchema"]);if(B!=null&&C(r,["responseJsonSchema"],B),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=E(e,["safetySettings"]);if(n!==void 0&&U!=null){let X=U;Array.isArray(X)&&(X=X.map(ge=>GJ(ge))),C(n,["safetySettings"],X)}const $=E(e,["tools"]);if(n!==void 0&&$!=null){let X=Ch($);Array.isArray(X)&&(X=X.map(ge=>JJ(Th(ge)))),C(n,["tools"],X)}const H=E(e,["toolConfig"]);if(n!==void 0&&H!=null&&C(n,["toolConfig"],QJ(H)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=E(e,["cachedContent"]);n!==void 0&&G!=null&&C(n,["cachedContent"],Xl(t,G));const L=E(e,["responseModalities"]);L!=null&&C(r,["responseModalities"],L);const V=E(e,["mediaResolution"]);V!=null&&C(r,["mediaResolution"],V);const F=E(e,["speechConfig"]);if(F!=null&&C(r,["speechConfig"],BC(F)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=E(e,["thinkingConfig"]);ee!=null&&C(r,["thinkingConfig"],ee);const K=E(e,["imageConfig"]);K!=null&&C(r,["imageConfig"],IJ(K));const Q=E(e,["enableEnhancedCivicAnswers"]);return Q!=null&&C(r,["enableEnhancedCivicAnswers"],Q),r}function nJ(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],Ki(i));const a=E(e,["temperature"]);a!=null&&C(r,["temperature"],a);const o=E(e,["topP"]);o!=null&&C(r,["topP"],o);const c=E(e,["topK"]);c!=null&&C(r,["topK"],c);const d=E(e,["candidateCount"]);d!=null&&C(r,["candidateCount"],d);const u=E(e,["maxOutputTokens"]);u!=null&&C(r,["maxOutputTokens"],u);const m=E(e,["stopSequences"]);m!=null&&C(r,["stopSequences"],m);const y=E(e,["responseLogprobs"]);y!=null&&C(r,["responseLogprobs"],y);const _=E(e,["logprobs"]);_!=null&&C(r,["logprobs"],_);const I=E(e,["presencePenalty"]);I!=null&&C(r,["presencePenalty"],I);const D=E(e,["frequencyPenalty"]);D!=null&&C(r,["frequencyPenalty"],D);const M=E(e,["seed"]);M!=null&&C(r,["seed"],M);const R=E(e,["responseMimeType"]);R!=null&&C(r,["responseMimeType"],R);const j=E(e,["responseSchema"]);j!=null&&C(r,["responseSchema"],jC(j));const B=E(e,["responseJsonSchema"]);B!=null&&C(r,["responseJsonSchema"],B);const U=E(e,["routingConfig"]);U!=null&&C(r,["routingConfig"],U);const $=E(e,["modelSelectionConfig"]);$!=null&&C(r,["modelConfig"],$);const H=E(e,["safetySettings"]);if(n!==void 0&&H!=null){let ie=H;Array.isArray(ie)&&(ie=ie.map(fe=>fe)),C(n,["safetySettings"],ie)}const G=E(e,["tools"]);if(n!==void 0&&G!=null){let ie=Ch(G);Array.isArray(ie)&&(ie=ie.map(fe=>Kj(Th(fe)))),C(n,["tools"],ie)}const L=E(e,["toolConfig"]);n!==void 0&&L!=null&&C(n,["toolConfig"],L);const V=E(e,["labels"]);n!==void 0&&V!=null&&C(n,["labels"],V);const F=E(e,["cachedContent"]);n!==void 0&&F!=null&&C(n,["cachedContent"],Xl(t,F));const ee=E(e,["responseModalities"]);ee!=null&&C(r,["responseModalities"],ee);const K=E(e,["mediaResolution"]);K!=null&&C(r,["mediaResolution"],K);const Q=E(e,["speechConfig"]);Q!=null&&C(r,["speechConfig"],BC(Q));const X=E(e,["audioTimestamp"]);X!=null&&C(r,["audioTimestamp"],X);const ge=E(e,["thinkingConfig"]);ge!=null&&C(r,["thinkingConfig"],ge);const oe=E(e,["imageConfig"]);if(oe!=null&&C(r,["imageConfig"],NJ(oe)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function PM(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let o=Do(i);Array.isArray(o)&&(o=o.map(c=>Tv(c))),C(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&C(n,["generationConfig"],tJ(t,a,n)),n}function DM(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["contents"]);if(i!=null){let o=Do(i);Array.isArray(o)&&(o=o.map(c=>c)),C(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&C(n,["generationConfig"],nJ(t,a,n)),n}function kM(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(u=>EQ(u))),C(e,["candidates"],d)}const i=E(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const a=E(t,["promptFeedback"]);a!=null&&C(e,["promptFeedback"],a);const o=E(t,["responseId"]);o!=null&&C(e,["responseId"],o);const c=E(t,["usageMetadata"]);return c!=null&&C(e,["usageMetadata"],c),e}function LM(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(m=>m)),C(e,["candidates"],u)}const i=E(t,["createTime"]);i!=null&&C(e,["createTime"],i);const a=E(t,["modelVersion"]);a!=null&&C(e,["modelVersion"],a);const o=E(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const c=E(t,["responseId"]);c!=null&&C(e,["responseId"],c);const d=E(t,["usageMetadata"]);return d!=null&&C(e,["usageMetadata"],d),e}function rJ(t,e){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=E(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=E(t,["aspectRatio"]);e!==void 0&&i!=null&&C(e,["parameters","aspectRatio"],i);const a=E(t,["guidanceScale"]);if(e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=E(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&C(e,["parameters","safetySetting"],o);const c=E(t,["personGeneration"]);e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c);const d=E(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&C(e,["parameters","includeSafetyAttributes"],d);const u=E(t,["includeRaiReason"]);e!==void 0&&u!=null&&C(e,["parameters","includeRaiReason"],u);const m=E(t,["language"]);e!==void 0&&m!=null&&C(e,["parameters","language"],m);const y=E(t,["outputMimeType"]);e!==void 0&&y!=null&&C(e,["parameters","outputOptions","mimeType"],y);const _=E(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&C(e,["parameters","outputOptions","compressionQuality"],_),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=E(t,["imageSize"]);if(e!==void 0&&I!=null&&C(e,["parameters","sampleImageSize"],I),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function iJ(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=E(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const a=E(t,["numberOfImages"]);e!==void 0&&a!=null&&C(e,["parameters","sampleCount"],a);const o=E(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const c=E(t,["guidanceScale"]);e!==void 0&&c!=null&&C(e,["parameters","guidanceScale"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&C(e,["parameters","seed"],d);const u=E(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const m=E(t,["personGeneration"]);e!==void 0&&m!=null&&C(e,["parameters","personGeneration"],m);const y=E(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&C(e,["parameters","includeSafetyAttributes"],y);const _=E(t,["includeRaiReason"]);e!==void 0&&_!=null&&C(e,["parameters","includeRaiReason"],_);const I=E(t,["language"]);e!==void 0&&I!=null&&C(e,["parameters","language"],I);const D=E(t,["outputMimeType"]);e!==void 0&&D!=null&&C(e,["parameters","outputOptions","mimeType"],D);const M=E(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&C(e,["parameters","outputOptions","compressionQuality"],M);const R=E(t,["addWatermark"]);e!==void 0&&R!=null&&C(e,["parameters","addWatermark"],R);const j=E(t,["labels"]);e!==void 0&&j!=null&&C(e,["labels"],j);const B=E(t,["imageSize"]);e!==void 0&&B!=null&&C(e,["parameters","sampleImageSize"],B);const U=E(t,["enhancePrompt"]);return e!==void 0&&U!=null&&C(e,["parameters","enhancePrompt"],U),n}function aJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const a=E(e,["config"]);return a!=null&&rJ(a,n),n}function oJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const a=E(e,["config"]);return a!=null&&iJ(a,n),n}function sJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>xJ(o))),C(e,["generatedImages"],a)}const i=E(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],Wj(i)),e}function lJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Cv(o))),C(e,["generatedImages"],a)}const i=E(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],Yj(i)),e}function cJ(t,e){const n={},r=E(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=E(t,["durationSeconds"]);if(e!==void 0&&i!=null&&C(e,["parameters","durationSeconds"],i),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=E(t,["aspectRatio"]);e!==void 0&&a!=null&&C(e,["parameters","aspectRatio"],a);const o=E(t,["resolution"]);e!==void 0&&o!=null&&C(e,["parameters","resolution"],o);const c=E(t,["personGeneration"]);if(e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=E(t,["negativePrompt"]);e!==void 0&&d!=null&&C(e,["parameters","negativePrompt"],d);const u=E(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&C(e,["parameters","enhancePrompt"],u),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=E(t,["lastFrame"]);e!==void 0&&m!=null&&C(e,["instances[0]","lastFrame"],Iv(m));const y=E(t,["referenceImages"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(I=>fZ(I))),C(e,["instances[0]","referenceImages"],_)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function uJ(t,e){const n={},r=E(t,["numberOfVideos"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const a=E(t,["fps"]);e!==void 0&&a!=null&&C(e,["parameters","fps"],a);const o=E(t,["durationSeconds"]);e!==void 0&&o!=null&&C(e,["parameters","durationSeconds"],o);const c=E(t,["seed"]);e!==void 0&&c!=null&&C(e,["parameters","seed"],c);const d=E(t,["aspectRatio"]);e!==void 0&&d!=null&&C(e,["parameters","aspectRatio"],d);const u=E(t,["resolution"]);e!==void 0&&u!=null&&C(e,["parameters","resolution"],u);const m=E(t,["personGeneration"]);e!==void 0&&m!=null&&C(e,["parameters","personGeneration"],m);const y=E(t,["pubsubTopic"]);e!==void 0&&y!=null&&C(e,["parameters","pubsubTopic"],y);const _=E(t,["negativePrompt"]);e!==void 0&&_!=null&&C(e,["parameters","negativePrompt"],_);const I=E(t,["enhancePrompt"]);e!==void 0&&I!=null&&C(e,["parameters","enhancePrompt"],I);const D=E(t,["generateAudio"]);e!==void 0&&D!=null&&C(e,["parameters","generateAudio"],D);const M=E(t,["lastFrame"]);e!==void 0&&M!=null&&C(e,["instances[0]","lastFrame"],fs(M));const R=E(t,["referenceImages"]);if(e!==void 0&&R!=null){let U=R;Array.isArray(U)&&(U=U.map($=>dZ($))),C(e,["instances[0]","referenceImages"],U)}const j=E(t,["mask"]);e!==void 0&&j!=null&&C(e,["instances[0]","mask"],uZ(j));const B=E(t,["compressionQuality"]);return e!==void 0&&B!=null&&C(e,["parameters","compressionQuality"],B),n}function fJ(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response","generateVideoResponse"]);return o!=null&&C(e,["response"],mJ(o)),e}function dJ(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response"]);return o!=null&&C(e,["response"],gJ(o)),e}function hJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const a=E(e,["image"]);a!=null&&C(n,["instances[0]","image"],Iv(a));const o=E(e,["video"]);o!=null&&C(n,["instances[0]","video"],Xj(o));const c=E(e,["source"]);c!=null&&yJ(c,n);const d=E(e,["config"]);return d!=null&&cJ(d,n),n}function pJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const a=E(e,["image"]);a!=null&&C(n,["instances[0]","image"],fs(a));const o=E(e,["video"]);o!=null&&C(n,["instances[0]","video"],Qj(o));const c=E(e,["source"]);c!=null&&vJ(c,n);const d=E(e,["config"]);return d!=null&&uJ(d,n),n}function mJ(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>wJ(o))),C(e,["generatedVideos"],a)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function gJ(t){const e={},n=E(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>_J(o))),C(e,["generatedVideos"],a)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function yJ(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Iv(i));const a=E(t,["video"]);return e!==void 0&&a!=null&&C(e,["instances[0]","video"],Xj(a)),n}function vJ(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],fs(i));const a=E(t,["video"]);return e!==void 0&&a!=null&&C(e,["instances[0]","video"],Qj(a)),n}function xJ(t){const e={},n=E(t,["_self"]);n!=null&&C(e,["image"],RJ(n));const r=E(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=E(t,["_self"]);return i!=null&&C(e,["safetyAttributes"],Wj(i)),e}function Cv(t){const e={},n=E(t,["_self"]);n!=null&&C(e,["image"],$j(n));const r=E(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=E(t,["_self"]);i!=null&&C(e,["safetyAttributes"],Yj(i));const a=E(t,["prompt"]);return a!=null&&C(e,["enhancedPrompt"],a),e}function bJ(t){const e={},n=E(t,["_self"]);n!=null&&C(e,["mask"],$j(n));const r=E(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),C(e,["labels"],i)}return e}function wJ(t){const e={},n=E(t,["video"]);return n!=null&&C(e,["video"],lZ(n)),e}function _J(t){const e={},n=E(t,["_self"]);return n!=null&&C(e,["video"],cZ(n)),e}function AJ(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const r=E(t,["responseJsonSchema"]);r!=null&&C(e,["responseJsonSchema"],r);const i=E(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const a=E(t,["candidateCount"]);a!=null&&C(e,["candidateCount"],a);const o=E(t,["enableAffectiveDialog"]);o!=null&&C(e,["enableAffectiveDialog"],o);const c=E(t,["frequencyPenalty"]);c!=null&&C(e,["frequencyPenalty"],c);const d=E(t,["logprobs"]);d!=null&&C(e,["logprobs"],d);const u=E(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const m=E(t,["mediaResolution"]);m!=null&&C(e,["mediaResolution"],m);const y=E(t,["presencePenalty"]);y!=null&&C(e,["presencePenalty"],y);const _=E(t,["responseLogprobs"]);_!=null&&C(e,["responseLogprobs"],_);const I=E(t,["responseMimeType"]);I!=null&&C(e,["responseMimeType"],I);const D=E(t,["responseModalities"]);D!=null&&C(e,["responseModalities"],D);const M=E(t,["responseSchema"]);M!=null&&C(e,["responseSchema"],M);const R=E(t,["routingConfig"]);R!=null&&C(e,["routingConfig"],R);const j=E(t,["seed"]);j!=null&&C(e,["seed"],j);const B=E(t,["speechConfig"]);B!=null&&C(e,["speechConfig"],B);const U=E(t,["stopSequences"]);U!=null&&C(e,["stopSequences"],U);const $=E(t,["temperature"]);$!=null&&C(e,["temperature"],$);const H=E(t,["thinkingConfig"]);H!=null&&C(e,["thinkingConfig"],H);const G=E(t,["topK"]);G!=null&&C(e,["topK"],G);const L=E(t,["topP"]);if(L!=null&&C(e,["topP"],L),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function EJ(t,e){const n={},r=E(e,["model"]);return r!=null&&C(n,["_url","name"],Nn(t,r)),n}function SJ(t,e){const n={},r=E(e,["model"]);return r!=null&&C(n,["_url","name"],Nn(t,r)),n}function TJ(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function CJ(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function IJ(t){const e={},n=E(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=E(t,["imageSize"]);if(r!=null&&C(e,["imageSize"],r),E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NJ(t){const e={},n=E(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=E(t,["imageSize"]);r!=null&&C(e,["imageSize"],r);const i=E(t,["outputMimeType"]);i!=null&&C(e,["imageOutputOptions","mimeType"],i);const a=E(t,["outputCompressionQuality"]);return a!=null&&C(e,["imageOutputOptions","compressionQuality"],a),e}function RJ(t){const e={},n=E(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],du(n));const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function $j(t){const e={},n=E(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&C(e,["imageBytes"],du(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Iv(t){const e={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],du(n));const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function fs(t){const e={},n=E(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=E(t,["imageBytes"]);r!=null&&C(e,["bytesBase64Encoded"],du(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function OJ(t,e,n){const r={},i=E(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const a=E(e,["pageToken"]);n!==void 0&&a!=null&&C(n,["_query","pageToken"],a);const o=E(e,["filter"]);n!==void 0&&o!=null&&C(n,["_query","filter"],o);const c=E(e,["queryBase"]);return n!==void 0&&c!=null&&C(n,["_url","models_url"],Uj(t,c)),r}function MJ(t,e,n){const r={},i=E(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const a=E(e,["pageToken"]);n!==void 0&&a!=null&&C(n,["_query","pageToken"],a);const o=E(e,["filter"]);n!==void 0&&o!=null&&C(n,["_query","filter"],o);const c=E(e,["queryBase"]);return n!==void 0&&c!=null&&C(n,["_url","models_url"],Uj(t,c)),r}function PJ(t,e){const n={},r=E(e,["config"]);return r!=null&&OJ(t,r,n),n}function DJ(t,e){const n={},r=E(e,["config"]);return r!=null&&MJ(t,r,n),n}function kJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["_self"]);if(i!=null){let a=Fj(i);Array.isArray(a)&&(a=a.map(o=>yS(o))),C(e,["models"],a)}return e}function LJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["_self"]);if(i!=null){let a=Fj(i);Array.isArray(a)&&(a=a.map(o=>vS(o))),C(e,["models"],a)}return e}function jJ(t){const e={},n=E(t,["maskMode"]);n!=null&&C(e,["maskMode"],n);const r=E(t,["segmentationClasses"]);r!=null&&C(e,["maskClasses"],r);const i=E(t,["maskDilation"]);return i!=null&&C(e,["dilation"],i),e}function yS(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=E(t,["description"]);i!=null&&C(e,["description"],i);const a=E(t,["version"]);a!=null&&C(e,["version"],a);const o=E(t,["_self"]);o!=null&&C(e,["tunedModelInfo"],ZJ(o));const c=E(t,["inputTokenLimit"]);c!=null&&C(e,["inputTokenLimit"],c);const d=E(t,["outputTokenLimit"]);d!=null&&C(e,["outputTokenLimit"],d);const u=E(t,["supportedGenerationMethods"]);u!=null&&C(e,["supportedActions"],u);const m=E(t,["temperature"]);m!=null&&C(e,["temperature"],m);const y=E(t,["maxTemperature"]);y!=null&&C(e,["maxTemperature"],y);const _=E(t,["topP"]);_!=null&&C(e,["topP"],_);const I=E(t,["topK"]);I!=null&&C(e,["topK"],I);const D=E(t,["thinking"]);return D!=null&&C(e,["thinking"],D),e}function vS(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=E(t,["description"]);i!=null&&C(e,["description"],i);const a=E(t,["versionId"]);a!=null&&C(e,["version"],a);const o=E(t,["deployedModels"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>XQ(_))),C(e,["endpoints"],y)}const c=E(t,["labels"]);c!=null&&C(e,["labels"],c);const d=E(t,["_self"]);d!=null&&C(e,["tunedModelInfo"],eZ(d));const u=E(t,["defaultCheckpointId"]);u!=null&&C(e,["defaultCheckpointId"],u);const m=E(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>_)),C(e,["checkpoints"],y)}return e}function BJ(t){const e={},n=E(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=E(t,["fileData"]);a!=null&&C(e,["fileData"],QQ(a));const o=E(t,["functionCall"]);o!=null&&C(e,["functionCall"],JQ(o));const c=E(t,["functionResponse"]);c!=null&&C(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&C(e,["inlineData"],AQ(d));const u=E(t,["text"]);u!=null&&C(e,["text"],u);const m=E(t,["thought"]);m!=null&&C(e,["thought"],m);const y=E(t,["thoughtSignature"]);y!=null&&C(e,["thoughtSignature"],y);const _=E(t,["videoMetadata"]);return _!=null&&C(e,["videoMetadata"],_),e}function UJ(t){const e={},n=E(t,["productImage"]);return n!=null&&C(e,["image"],fs(n)),e}function FJ(t,e){const n={},r=E(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=E(t,["baseSteps"]);e!==void 0&&i!=null&&C(e,["parameters","baseSteps"],i);const a=E(t,["outputGcsUri"]);e!==void 0&&a!=null&&C(e,["parameters","storageUri"],a);const o=E(t,["seed"]);e!==void 0&&o!=null&&C(e,["parameters","seed"],o);const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&C(e,["parameters","safetySetting"],c);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&C(e,["parameters","personGeneration"],d);const u=E(t,["addWatermark"]);e!==void 0&&u!=null&&C(e,["parameters","addWatermark"],u);const m=E(t,["outputMimeType"]);e!==void 0&&m!=null&&C(e,["parameters","outputOptions","mimeType"],m);const y=E(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&C(e,["parameters","outputOptions","compressionQuality"],y);const _=E(t,["enhancePrompt"]);e!==void 0&&_!=null&&C(e,["parameters","enhancePrompt"],_);const I=E(t,["labels"]);return e!==void 0&&I!=null&&C(e,["labels"],I),n}function VJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["source"]);i!=null&&HJ(i,n);const a=E(e,["config"]);return a!=null&&FJ(a,n),n}function zJ(t){const e={},n=E(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cv(i))),C(e,["generatedImages"],r)}return e}function HJ(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=E(t,["personImage"]);e!==void 0&&i!=null&&C(e,["instances[0]","personImage","image"],fs(i));const a=E(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>UJ(c))),C(e,["instances[0]","productImages"],o)}return n}function qJ(t){const e={},n=E(t,["referenceImage"]);n!=null&&C(e,["referenceImage"],fs(n));const r=E(t,["referenceId"]);r!=null&&C(e,["referenceId"],r);const i=E(t,["referenceType"]);i!=null&&C(e,["referenceType"],i);const a=E(t,["maskImageConfig"]);a!=null&&C(e,["maskImageConfig"],jJ(a));const o=E(t,["controlImageConfig"]);o!=null&&C(e,["controlImageConfig"],RQ(o));const c=E(t,["styleImageConfig"]);c!=null&&C(e,["styleImageConfig"],c);const d=E(t,["subjectImageConfig"]);return d!=null&&C(e,["subjectImageConfig"],d),e}function Wj(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=E(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=E(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function Yj(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=E(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=E(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function GJ(t){const e={},n=E(t,["category"]);if(n!=null&&C(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=E(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function $J(t){const e={},n=E(t,["image"]);return n!=null&&C(e,["image"],fs(n)),e}function WJ(t,e){const n={},r=E(t,["mode"]);e!==void 0&&r!=null&&C(e,["parameters","mode"],r);const i=E(t,["maxPredictions"]);e!==void 0&&i!=null&&C(e,["parameters","maxPredictions"],i);const a=E(t,["confidenceThreshold"]);e!==void 0&&a!=null&&C(e,["parameters","confidenceThreshold"],a);const o=E(t,["maskDilation"]);e!==void 0&&o!=null&&C(e,["parameters","maskDilation"],o);const c=E(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&C(e,["parameters","binaryColorThreshold"],c);const d=E(t,["labels"]);return e!==void 0&&d!=null&&C(e,["labels"],d),n}function YJ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["source"]);i!=null&&XJ(i,n);const a=E(e,["config"]);return a!=null&&WJ(a,n),n}function KJ(t){const e={},n=E(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bJ(i))),C(e,["generatedMasks"],r)}return e}function XJ(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],fs(i));const a=E(t,["scribbleImage"]);return e!==void 0&&a!=null&&C(e,["instances[0]","scribble"],$J(a)),n}function QJ(t){const e={},n=E(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],ZQ(n));const r=E(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function JJ(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),C(e,["functionDeclarations"],m)}if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=E(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const a=E(t,["fileSearch"]);a!=null&&C(e,["fileSearch"],a);const o=E(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=E(t,["googleMaps"]);c!=null&&C(e,["googleMaps"],TJ(c));const d=E(t,["googleSearch"]);d!=null&&C(e,["googleSearch"],CJ(d));const u=E(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function Kj(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>eJ(_))),C(e,["functionDeclarations"],y)}const r=E(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=E(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const a=E(t,["computerUse"]);if(a!=null&&C(e,["computerUse"],a),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=E(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const c=E(t,["enterpriseWebSearch"]);c!=null&&C(e,["enterpriseWebSearch"],c);const d=E(t,["googleMaps"]);d!=null&&C(e,["googleMaps"],d);const u=E(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const m=E(t,["urlContext"]);return m!=null&&C(e,["urlContext"],m),e}function ZJ(t){const e={},n=E(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const r=E(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=E(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function eZ(t){const e={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&C(e,["baseModel"],n);const r=E(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=E(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function tZ(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=E(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const a=E(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&C(e,["defaultCheckpointId"],a),n}function nZ(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=E(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const a=E(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&C(e,["defaultCheckpointId"],a),n}function rZ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","name"],Nn(t,r));const i=E(e,["config"]);return i!=null&&tZ(i,n),n}function iZ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["config"]);return i!=null&&nZ(i,n),n}function aZ(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=E(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&C(e,["parameters","safetySetting"],i);const a=E(t,["personGeneration"]);e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a);const o=E(t,["includeRaiReason"]);e!==void 0&&o!=null&&C(e,["parameters","includeRaiReason"],o);const c=E(t,["outputMimeType"]);e!==void 0&&c!=null&&C(e,["parameters","outputOptions","mimeType"],c);const d=E(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&C(e,["parameters","outputOptions","compressionQuality"],d);const u=E(t,["enhanceInputImage"]);e!==void 0&&u!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],u);const m=E(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=E(t,["labels"]);e!==void 0&&y!=null&&C(e,["labels"],y);const _=E(t,["numberOfImages"]);e!==void 0&&_!=null&&C(e,["parameters","sampleCount"],_);const I=E(t,["mode"]);return e!==void 0&&I!=null&&C(e,["parameters","mode"],I),n}function oZ(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["_url","model"],Nn(t,r));const i=E(e,["image"]);i!=null&&C(n,["instances[0]","image"],fs(i));const a=E(e,["upscaleFactor"]);a!=null&&C(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=E(e,["config"]);return o!=null&&aZ(o,n),n}function sZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Cv(a))),C(e,["generatedImages"],i)}return e}function lZ(t){const e={},n=E(t,["uri"]);n!=null&&C(e,["uri"],n);const r=E(t,["encodedVideo"]);r!=null&&C(e,["videoBytes"],du(r));const i=E(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function cZ(t){const e={},n=E(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],du(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function uZ(t){const e={},n=E(t,["image"]);n!=null&&C(e,["_self"],fs(n));const r=E(t,["maskMode"]);return r!=null&&C(e,["maskMode"],r),e}function fZ(t){const e={},n=E(t,["image"]);n!=null&&C(e,["image"],Iv(n));const r=E(t,["referenceType"]);return r!=null&&C(e,["referenceType"],r),e}function dZ(t){const e={},n=E(t,["image"]);n!=null&&C(e,["image"],fs(n));const r=E(t,["referenceType"]);return r!=null&&C(e,["referenceType"],r),e}function Xj(t){const e={},n=E(t,["uri"]);n!=null&&C(e,["uri"],n);const r=E(t,["videoBytes"]);r!=null&&C(e,["encodedVideo"],du(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["encoding"],i),e}function Qj(t){const e={},n=E(t,["uri"]);n!=null&&C(e,["gcsUri"],n);const r=E(t,["videoBytes"]);r!=null&&C(e,["bytesBase64Encoded"],du(r));const i=E(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hZ(t,e){const n={},r=E(t,["displayName"]);return e!==void 0&&r!=null&&C(e,["displayName"],r),n}function pZ(t){const e={},n=E(t,["config"]);return n!=null&&hZ(n,e),e}function mZ(t,e){const n={},r=E(t,["force"]);return e!==void 0&&r!=null&&C(e,["_query","force"],r),n}function gZ(t){const e={},n=E(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=E(t,["config"]);return r!=null&&mZ(r,e),e}function yZ(t){const e={},n=E(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function vZ(t,e){const n={},r=E(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["customMetadata"],a)}const i=E(t,["chunkingConfig"]);return e!==void 0&&i!=null&&C(e,["chunkingConfig"],i),n}function xZ(t){const e={},n=E(t,["name"]);n!=null&&C(e,["name"],n);const r=E(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=E(t,["done"]);i!=null&&C(e,["done"],i);const a=E(t,["error"]);a!=null&&C(e,["error"],a);const o=E(t,["response"]);return o!=null&&C(e,["response"],wZ(o)),e}function bZ(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const r=E(t,["fileName"]);r!=null&&C(e,["fileName"],r);const i=E(t,["config"]);return i!=null&&vZ(i,e),e}function wZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&C(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function _Z(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function AZ(t){const e={},n=E(t,["config"]);return n!=null&&_Z(n,e),e}function EZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["fileSearchStores"],a)}return e}function Jj(t,e){const n={},r=E(t,["mimeType"]);e!==void 0&&r!=null&&C(e,["mimeType"],r);const i=E(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const a=E(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),C(e,["customMetadata"],c)}const o=E(t,["chunkingConfig"]);return e!==void 0&&o!=null&&C(e,["chunkingConfig"],o),n}function SZ(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const r=E(t,["config"]);return r!=null&&Jj(r,e),e}function TZ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CZ="Content-Type",IZ="X-Server-Timeout",NZ="User-Agent",xS="x-goog-api-client",RZ="1.34.0",OZ=`google-genai-sdk/${RZ}`,MZ="v1beta1",PZ="v1beta";class DZ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:MZ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:PZ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&kZ(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await jM(i),new pS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await jM(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return rs(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:m}=yield Vt(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const D=JSON.parse(y);if("error"in D){const M=JSON.parse(JSON.stringify(D.error)),R=M.status,j=M.code,B=`got status: ${R}. ${JSON.stringify(D)}`;if(j>=400&&j<600)throw new Sv({message:B,status:j})}}catch(D){if(D.name==="ApiError")throw D}o+=y;let _=-1,I=0;for(;;){_=-1,I=0;for(const R of d){const j=o.indexOf(R);j!==-1&&(_===-1||j<_)&&(_=j,I=R.length)}if(_===-1)break;const D=o.substring(0,_);o=o.substring(_+I);const M=D.trim();if(M.startsWith(c)){const R=M.substring(c.length).trim();try{const j=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Vt(new pS(j))}catch(j){throw new Error(`exception parsing stream chunk ${R}. ${j}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=OZ+" "+this.clientOptions.userAgentExtra;return e[NZ]=n,e[xS]=n,e[CZ]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(IZ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d={file:i},u=this.getFileName(e),m=nt("upload/v1beta/files",d._url),y=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,u,d,n==null?void 0:n.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),c=String(o.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};r!=null&&Jj(r,y);const _=await this.fetchUploadUrl(u,c,d,m,y,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,o){var c;let d={};o?d=o:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=u==null?void 0:u.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function jM(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Sv({message:i,status:n}):new Error(i)}}function kZ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const c=Object.assign({},a);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const u=o[d],m=c[d];u&&typeof u=="object"&&!Array.isArray(u)&&m&&typeof m=="object"&&!Array.isArray(m)?c[d]=r(m,u):(m&&u&&typeof m!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof u}. Overwriting.`),c[d]=u)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LZ="mcp_used/unknown";let jZ=!1;function Zj(t){for(const e of t)if(BZ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jZ}function eB(t){var e;const n=(e=t[xS])!==null&&e!==void 0?e:"";t[xS]=(n+` ${LZ}`).trimStart()}function BZ(t){return t!==null&&typeof t=="object"&&t instanceof FC}function UZ(t){return rs(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const o=yield Vt(n.listTools({cursor:i}));for(const c of o.tools)yield yield Vt(c),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class FC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new FC(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const m of this.mcpClients)try{for(var c=!0,d=(n=void 0,is(UZ(m))),u;u=await d.next(),e=u.done,!e;c=!0){i=u.value,c=!1;const y=i;o.push(y);const _=y.name;if(a[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);a[_]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),yK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FZ(t,e,n){const r=new cK;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class VZ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=qZ(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let u=()=>{};const m=new Promise(U=>{u=U}),y=e.callbacks,_=function(){u({})},I=this.apiClient,D={onopen:_,onmessage:U=>{FZ(I,y.onmessage,U)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(U){}},M=this.webSocketFactory.create(d,HZ(o),D);M.connect(),await m;const B={setup:{model:Nn(this.apiClient,e.model)}};return M.send(JSON.stringify(B)),new zZ(M,this.apiClient)}}class zZ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pQ(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hQ(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xd.PLAY)}pause(){this.sendPlaybackControl(xd.PAUSE)}stop(){this.sendPlaybackControl(xd.STOP)}resetContext(){this.sendPlaybackControl(xd.RESET_CONTEXT)}close(){this.conn.close()}}function HZ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qZ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GZ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $Z(t,e,n){const r=new lK;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=yQ(a);Object.assign(r,o)}else Object.assign(r,a);e(r)}class WZ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new VZ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Zj(e.config.tools)&&eB(y);const _=QZ(y);if(this.apiClient.isVertexAI())m=`${d}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,m);else{const F=this.apiClient.getApiKey();let ee="BidiGenerateContent",K="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",K="access_token"),m=`${d}/ws/google.ai.generativelanguage.${u}.GenerativeService.${ee}?${K}=${F}`}let I=()=>{};const D=new Promise(F=>{I=F}),M=e.callbacks,R=function(){var F;(F=M==null?void 0:M.onopen)===null||F===void 0||F.call(M),I({})},j=this.apiClient,B={onopen:R,onmessage:F=>{$Z(j,M.onmessage,F)},onerror:(n=M==null?void 0:M.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=M==null?void 0:M.onclose)!==null&&r!==void 0?r:function(F){}},U=this.webSocketFactory.create(m,XZ(_),B);U.connect(),await D;let $=Nn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const F=this.apiClient.getProject(),ee=this.apiClient.getLocation();$=`projects/${F}/locations/${ee}/`+$}let H={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vy.AUDIO]}:e.config.responseModalities=[Vy.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],L=[];for(const F of G)if(this.isCallableTool(F)){const ee=F;L.push(await ee.tool())}else L.push(F);L.length>0&&(e.config.tools=L);const V={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=dQ(this.apiClient,V):H=fQ(this.apiClient,V),delete H.config,U.send(JSON.stringify(H)),new KZ(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const YZ={turnComplete:!0};class KZ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Do(n.turns),e.isVertexAI()||(r=r.map(i=>Tv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(GZ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},YZ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gQ(e)}:n={realtimeInput:mQ(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function XZ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function QZ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BM=10;function UM(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Id(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Id(t){return"callTool"in t&&typeof t.callTool=="function"}function JZ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Id(i)))!==null&&r!==void 0?r:!1}function FM(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Id(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function VM(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZZ extends Kl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!JZ(n)||UM(n.config))return await this.generateContentInternal(d);const u=FM(n);if(u.length>0){const M=u.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let m,y;const _=Do(d.contents),I=(a=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:BM;let D=0;for(;D<I&&(m=await this.generateContentInternal(d),!(!m.functionCalls||m.functionCalls.length===0));){const M=m.candidates[0].content,R=[];for(const j of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Id(j)){const U=await j.callTool(m.functionCalls);R.push(...U)}D++,y={role:"user",parts:R},d.contents=Do(d.contents),d.contents.push(M),d.contents.push(y),VM(d.config)&&(_.push(M),_.push(y))}return VM(d.config)&&(m.automaticFunctionCallingHistory=_),m},this.generateContentStream=async n=>{var r,i,a,o,c;if(this.maybeMoveToResponseJsonSchem(n),UM(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const d=FM(n);if(d.length>0){const y=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(u&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:o.push(d);let c;return a?c={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ef(jl.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async d=>Id(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&Zj(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},d);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),eB(u),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return c}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Id(o)){const c=o,d=await c.tool();for(const u of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,c)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:BM;let o=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(u,m,y){return rs(this,arguments,function*(){for(var _,I,D,M,R,j;c<a;){o&&(c++,o=!1);const H=yield Vt(u.processParamsMaybeAddMcpUsage(y)),G=yield Vt(u.generateContentStreamInternal(H)),L=[],V=[];try{for(var B=!0,U=(I=void 0,is(G)),$;$=yield Vt(U.next()),_=$.done,!_;B=!0){M=$.value,B=!1;const F=M;if(yield yield Vt(F),F.candidates&&(!((R=F.candidates[0])===null||R===void 0)&&R.content)){V.push(F.candidates[0].content);for(const ee of(j=F.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(c<a&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(ee.functionCall.name)){const K=yield Vt(m.get(ee.functionCall.name).callTool([ee.functionCall]));L.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(F){I={error:F}}finally{try{!B&&!_&&(D=U.return)&&(yield Vt(D.call(U)))}finally{if(I)throw I.error}}if(L.length>0){o=!0;const F=new Mp;F.candidates=[{content:{role:"user",parts:L}}],yield yield Vt(F);const ee=[];ee.push(...V),ee.push({role:"user",parts:L});const K=Do(y.contents).concat(ee);y.contents=K}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=DM(this.apiClient,e);return c=nt("{model}:generateContent",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=LM(m),_=new Mp;return Object.assign(_,y),_})}else{const u=PM(this.apiClient,e);return c=nt("{model}:generateContent",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=kM(m),_=new Mp;return Object.assign(_,y),_})}}async generateContentStreamInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=DM(this.apiClient,e);return c=nt("{model}:streamGenerateContent?alt=sse",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(y){return rs(this,arguments,function*(){var _,I,D,M;try{for(var R=!0,j=is(y),B;B=yield Vt(j.next()),_=B.done,!_;R=!0){M=B.value,R=!1;const U=M,$=LM(yield Vt(U.json()));$.sdkHttpResponse={headers:U.headers};const H=new Mp;Object.assign(H,$),yield yield Vt(H)}}catch(U){I={error:U}}finally{try{!R&&!_&&(D=j.return)&&(yield Vt(D.call(j)))}finally{if(I)throw I.error}}})})}else{const u=PM(this.apiClient,e);return c=nt("{model}:streamGenerateContent?alt=sse",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(y){return rs(this,arguments,function*(){var _,I,D,M;try{for(var R=!0,j=is(y),B;B=yield Vt(j.next()),_=B.done,!_;R=!0){M=B.value,R=!1;const U=M,$=kM(yield Vt(U.json()));$.sdkHttpResponse={headers:U.headers};const H=new Mp;Object.assign(H,$),yield yield Vt(H)}}catch(U){I={error:U}}finally{try{!R&&!_&&(D=j.return)&&(yield Vt(D.call(j)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=WQ(this.apiClient,e);return c=nt("{model}:predict",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=KQ(m),_=new gM;return Object.assign(_,y),_})}else{const u=$Q(this.apiClient,e);return c=nt("{model}:batchEmbedContents",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=YQ(m),_=new gM;return Object.assign(_,y),_})}}async generateImagesInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=oJ(this.apiClient,e);return c=nt("{model}:predict",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=lJ(m),_=new yM;return Object.assign(_,y),_})}else{const u=aJ(this.apiClient,e);return c=nt("{model}:predict",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=sJ(m),_=new yM;return Object.assign(_,y),_})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=zQ(this.apiClient,e);return a=nt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const u=HQ(d),m=new QY;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=oZ(this.apiClient,e);return a=nt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const u=sZ(d),m=new JY;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=VJ(this.apiClient,e);return a=nt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=zJ(d),m=new ZY;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=YJ(this.apiClient,e);return a=nt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=KJ(d),m=new eK;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=SJ(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>vS(m))}else{const u=EJ(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>yS(m))}}async listInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=DJ(this.apiClient,e);return c=nt("{models_url}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=LJ(m),_=new vM;return Object.assign(_,y),_})}else{const u=PJ(this.apiClient,e);return c=nt("{models_url}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=kJ(m),_=new vM;return Object.assign(_,y),_})}}async update(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=iZ(this.apiClient,e);return c=nt("{model}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>vS(m))}else{const u=rZ(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>yS(m))}}async delete(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=BQ(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=FQ(m),_=new xM;return Object.assign(_,y),_})}else{const u=jQ(this.apiClient,e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=UQ(m),_=new xM;return Object.assign(_,y),_})}}async countTokens(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=DQ(this.apiClient,e);return c=nt("{model}:countTokens",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=LQ(m),_=new bM;return Object.assign(_,y),_})}else{const u=PQ(this.apiClient,e);return c=nt("{model}:countTokens",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=kQ(m),_=new bM;return Object.assign(_,y),_})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=TQ(this.apiClient,e);return a=nt("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const u=CQ(d),m=new tK;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=pJ(this.apiClient,e);return c=nt("{model}:predictLongRunning",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const y=dJ(m),_=new zy;return Object.assign(_,y),_})}else{const u=hJ(this.apiClient,e);return c=nt("{model}:predictLongRunning",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o.then(m=>{const y=fJ(m),_=new zy;return Object.assign(_,y),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eee extends Kl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=GY(e);return c=nt("{operationName}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o}else{const u=qY(e);return c=nt("{operationName}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=jY(e);return a=nt("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tee(t){const e={},n=E(t,["data"]);if(n!=null&&C(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function nee(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fee(a))),C(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&C(e,["role"],r),e}function ree(t,e,n){const r={},i=E(e,["expireTime"]);n!==void 0&&i!=null&&C(n,["expireTime"],i);const a=E(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&C(n,["newSessionExpireTime"],a);const o=E(e,["uses"]);n!==void 0&&o!=null&&C(n,["uses"],o);const c=E(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&C(n,["bidiGenerateContentSetup"],uee(t,c));const d=E(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&C(n,["fieldMask"],d),r}function iee(t,e){const n={},r=E(e,["config"]);return r!=null&&C(n,["config"],ree(t,r,n)),n}function aee(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function oee(t){const e={},n=E(t,["id"]);n!=null&&C(e,["id"],n);const r=E(t,["args"]);r!=null&&C(e,["args"],r);const i=E(t,["name"]);if(i!=null&&C(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function see(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function lee(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function cee(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=E(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","maxOutputTokens"],d);const u=E(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const m=E(t,["seed"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","seed"],m);const y=E(t,["speechConfig"]);e!==void 0&&y!=null&&C(e,["setup","generationConfig","speechConfig"],UC(y));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","thinkingConfig"],_);const I=E(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],I);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&C(e,["setup","systemInstruction"],nee(Ki(D)));const M=E(t,["tools"]);if(e!==void 0&&M!=null){let G=Ch(M);Array.isArray(G)&&(G=G.map(L=>hee(Th(L)))),C(e,["setup","tools"],G)}const R=E(t,["sessionResumption"]);e!==void 0&&R!=null&&C(e,["setup","sessionResumption"],dee(R));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&C(e,["setup","inputAudioTranscription"],j);const B=E(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&C(e,["setup","outputAudioTranscription"],B);const U=E(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&C(e,["setup","realtimeInputConfig"],U);const $=E(t,["contextWindowCompression"]);e!==void 0&&$!=null&&C(e,["setup","contextWindowCompression"],$);const H=E(t,["proactivity"]);if(e!==void 0&&H!=null&&C(e,["setup","proactivity"],H),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uee(t,e){const n={},r=E(e,["model"]);r!=null&&C(n,["setup","model"],Nn(t,r));const i=E(e,["config"]);return i!=null&&C(n,["config"],cee(i,n)),n}function fee(t){const e={},n=E(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=E(t,["fileData"]);a!=null&&C(e,["fileData"],aee(a));const o=E(t,["functionCall"]);o!=null&&C(e,["functionCall"],oee(o));const c=E(t,["functionResponse"]);c!=null&&C(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&C(e,["inlineData"],tee(d));const u=E(t,["text"]);u!=null&&C(e,["text"],u);const m=E(t,["thought"]);m!=null&&C(e,["thought"],m);const y=E(t,["thoughtSignature"]);y!=null&&C(e,["thoughtSignature"],y);const _=E(t,["videoMetadata"]);return _!=null&&C(e,["videoMetadata"],_),e}function dee(t){const e={},n=E(t,["handle"]);if(n!=null&&C(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hee(t){const e={},n=E(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),C(e,["functionDeclarations"],m)}if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=E(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const a=E(t,["fileSearch"]);a!=null&&C(e,["fileSearch"],a);const o=E(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=E(t,["googleMaps"]);c!=null&&C(e,["googleMaps"],see(c));const d=E(t,["googleSearch"]);d!=null&&C(e,["googleSearch"],lee(d));const u=E(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pee(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function mee(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=pee(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const d=[];a&&d.push(a),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class gee extends Kl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=iee(this.apiClient,e);a=nt("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const d=mee(c,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yee(t,e){const n={},r=E(t,["force"]);return e!==void 0&&r!=null&&C(e,["_query","force"],r),n}function vee(t){const e={},n=E(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=E(t,["config"]);return r!=null&&yee(r,e),e}function xee(t){const e={},n=E(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function bee(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function wee(t){const e={},n=E(t,["parent"]);n!=null&&C(e,["_url","parent"],n);const r=E(t,["config"]);return r!=null&&bee(r,e),e}function _ee(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=E(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aee extends Kl{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ef(jl.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xee(e);return a=nt("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vee(e);i=nt("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wee(e);return a=nt("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=_ee(d),m=new nK;return Object.assign(m,u),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eee extends Kl{constructor(e,n=new Aee(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ef(jl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pZ(e);return a=nt("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yZ(e);return a=nt("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gZ(e);i=nt("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=AZ(e);return a=nt("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=EZ(d),m=new rK;return Object.assign(m,u),m})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=SZ(e);return a=nt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=TZ(d),m=new iK;return Object.assign(m,u),m})}}async importFile(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bZ(e);return a=nt("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const u=xZ(d),m=new DC;return Object.assign(m,u),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tB=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return tB=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const See=()=>tB();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wS=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jo extends Error{}class ma extends jo{constructor(e,n,r,i){super(`${ma.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Nv({message:r,cause:wS(n)});const a=n;return e===400?new rB(e,a,r,i):e===401?new iB(e,a,r,i):e===403?new aB(e,a,r,i):e===404?new oB(e,a,r,i):e===409?new sB(e,a,r,i):e===422?new lB(e,a,r,i):e===429?new cB(e,a,r,i):e>=500?new uB(e,a,r,i):new ma(e,a,r,i)}}class _S extends ma{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nv extends ma{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class nB extends Nv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rB extends ma{}class iB extends ma{}class aB extends ma{}class oB extends ma{}class sB extends ma{}class lB extends ma{}class cB extends ma{}class uB extends ma{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tee=/^[a-z][a-z0-9+.-]*:/i,Cee=t=>Tee.test(t);let AS=t=>(AS=Array.isArray,AS(t));const Iee=AS;let Nee=Iee;const zM=Nee;function Ree(t){if(!t)return!0;for(const e in t)return!1;return!0}function Oee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Mee=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new jo(`${t} must be an integer`);if(e<0)throw new jo(`${t} must be a positive integer`);return e},Pee=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dee=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const md="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kee(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Lee=()=>{var t,e,n,r,i;const a=kee();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":md,"X-Stainless-OS":qM(Deno.build.os),"X-Stainless-Arch":HM(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":md,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":md,"X-Stainless-OS":qM((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":HM((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=jee();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":md,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":md,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jee(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${a}.${o}`}}}return null}const HM=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",qM=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Xg;const Bee=()=>Xg??(Xg=Lee());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uee(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fB(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Fee(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fB({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function dB(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Vee(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zee=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hB=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pw(t,e,n){return hB(),new File(t,e??"unknown_file",n)}function Hee(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const qee=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pB=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Gee=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&pB(t),$ee=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Wee(t,e,n){if(hB(),t=await t,Gee(t))return t instanceof File?t:Pw([await t.arrayBuffer()],t.name);if($ee(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pw(await ES(i),e,n)}const r=await ES(t);if(e||(e=Hee(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Pw(r,e,n)}async function ES(t){var e,n,r,i,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(pB(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(qee(t))try{for(var c=!0,d=is(t),u;u=await d.next(),e=u.done,!e;c=!0){i=u.value,c=!1;const m=i;o.push(...await ES(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const m=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Yee(t)}`)}return o}function Yee(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mB{constructor(e){this._client=e}}mB._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gB(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const GM=Object.freeze(Object.create(null)),Kee=(t=gB)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],o=n.reduce((m,y,_)=>{var I,D,M;/[?#]/.test(y)&&(i=!0);const R=r[_];let j=(i?encodeURIComponent:t)(""+R);return _!==r.length&&(R==null||typeof R=="object"&&R.toString===((M=Object.getPrototypeOf((D=Object.getPrototypeOf((I=R.hasOwnProperty)!==null&&I!==void 0?I:GM))!==null&&D!==void 0?D:GM))===null||M===void 0?void 0:M.toString))&&(j=R+"",a.push({start:m.length+y.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),m+y+(_===r.length?"":j)},""),c=o.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=d.exec(c))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((_,I)=>{const D=" ".repeat(I.start-m),M="^".repeat(I.length);return m=I.start+I.length,_+D+M},"");throw new jo(`Path parameters result in path with invalid segments:
${a.map(_=>_.error).join(`
`)}
${o}
${y}`)}return o}),Qg=Kee(gB);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yB extends mB{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=qy(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new jo("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new jo("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Qg`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Qg`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Qg`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:o=this._client.apiVersion}=a,c=qy(a,["api_version"]);return this._client.get(Qg`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yB._key=Object.freeze(["interactions"]);class vB extends yB{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Jg;function VC(t){let e;return(Jg??(e=new globalThis.TextEncoder,Jg=e.encode.bind(e)))(t)}let Zg;function $M(t){let e;return(Zg??(e=new globalThis.TextDecoder,Zg=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?VC(e):e;this.buffer=Xee([this.buffer,n]);const r=[];let i;for(;(i=Qee(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push($M(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=$M(this.buffer.subarray(0,a));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Rv.NEWLINE_CHARS=new Set([`
`,"\r"]);Rv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Qee(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Jee(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gy={off:0,error:200,warn:300,info:400,debug:500},WM=(t,e,n)=>{if(t){if(Oee(Gy,t))return t;sa(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Gy))}`)}};function $p(){}function ey(t,e,n){return!e||Gy[t]>Gy[n]?$p:e[t].bind(e)}const Zee={error:$p,warn:$p,info:$p,debug:$p};let YM=new WeakMap;function sa(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Zee;const i=YM.get(n);if(i&&i[0]===r)return i[1];const a={error:ey("error",n,r),warn:ey("warn",n,r),info:ey("info",n,r),debug:ey("debug",n,r)};return YM.set(n,[r,a]),a}const Ku=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bd{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?sa(r):console;function o(){return rs(this,arguments,function*(){var d,u,m,y;if(i)throw new jo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var I=!0,D=is(ete(e,n)),M;M=yield Vt(D.next()),d=M.done,!d;I=!0){y=M.value,I=!1;const R=y;if(!_)if(R.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield Vt(JSON.parse(R.data))}catch(j){throw a.error("Could not parse message into JSON:",R.data),a.error("From chunk:",R.raw),j}}}catch(R){u={error:R}}finally{try{!I&&!d&&(m=D.return)&&(yield Vt(m.call(D)))}finally{if(u)throw u.error}}_=!0}catch(R){if(bS(R))return yield Vt(void 0);throw R}finally{_||n.abort()}})}return new bd(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return rs(this,arguments,function*(){var d,u,m,y;const _=new Rv,I=dB(e);try{for(var D=!0,M=is(I),R;R=yield Vt(M.next()),d=R.done,!d;D=!0){y=R.value,D=!1;const j=y;for(const B of _.decode(j))yield yield Vt(B)}}catch(j){u={error:j}}finally{try{!D&&!d&&(m=M.return)&&(yield Vt(m.call(M)))}finally{if(u)throw u.error}}for(const j of _.flush())yield yield Vt(j)})}function o(){return rs(this,arguments,function*(){var d,u,m,y;if(i)throw new jo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var I=!0,D=is(a()),M;M=yield Vt(D.next()),d=M.done,!d;I=!0){y=M.value,I=!1;const R=y;_||R&&(yield yield Vt(JSON.parse(R)))}}catch(R){u={error:R}}finally{try{!I&&!d&&(m=D.return)&&(yield Vt(m.call(D)))}finally{if(u)throw u.error}}_=!0}catch(R){if(bS(R))return yield Vt(void 0);throw R}finally{_||n.abort()}})}return new bd(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=r.next();e.push(o),n.push(o)}return a.shift()}});return[new bd(()=>i(e),this.controller,this.client),new bd(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return fB({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const o=VC(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ete(t,e){return rs(this,arguments,function*(){var r,i,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new jo("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new jo("Attempted to iterate over a response with no body");const c=new nte,d=new Rv,u=dB(t.body);try{for(var m=!0,y=is(tte(u)),_;_=yield Vt(y.next()),r=_.done,!r;m=!0){o=_.value,m=!1;const I=o;for(const D of d.decode(I)){const M=c.decode(D);M&&(yield yield Vt(M))}}}catch(I){i={error:I}}finally{try{!m&&!r&&(a=y.return)&&(yield Vt(a.call(y)))}finally{if(i)throw i.error}}for(const I of d.flush()){const D=c.decode(I);D&&(yield yield Vt(D))}})}function tte(t){return rs(this,arguments,function*(){var n,r,i,a;let o=new Uint8Array;try{for(var c=!0,d=is(t),u;u=yield Vt(d.next()),n=u.done,!n;c=!0){a=u.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?VC(m):m;let _=new Uint8Array(o.length+y.length);_.set(o),_.set(y,o.length),o=_;let I;for(;(I=Jee(o))!==-1;)yield yield Vt(o.slice(0,I)),o=o.slice(I)}}catch(m){r={error:m}}finally{try{!c&&!n&&(i=d.return)&&(yield Vt(i.call(d)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Vt(o))})}class nte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=rte(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function rte(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ite(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,o=await(async()=>{var c;if(e.options.stream)return sa(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):bd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),u=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return sa(t).debug(`[${r}] response parsed`,Ku({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zC extends Promise{constructor(e,n,r=ite){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new zC(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xB=Symbol("brand.privateNullableHeaders");function*ate(t){if(!t)return;if(xB in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():zM(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=zM(r[1])?r[1]:[r[1]];let o=!1;for(const c of a)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const Pp=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,o]of ate(r)){const c=a.toLowerCase();i.has(c)||(e.delete(a),i.add(c)),o===null?(e.delete(a),n.add(c)):(e.append(a,o),n.delete(c))}}return{[xB]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dw=t=>{var e,n,r,i,a,o;if(typeof globalThis.process<"u")return(r=(n=(e=OY)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bB;class Ov{constructor(e){var n,r,i,a,o,c,d,{baseURL:u=Dw("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Dw("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:y="v1beta"}=e,_=qy(e,["baseURL","apiKey","apiVersion"]);const I=Object.assign(Object.assign({apiKey:m,apiVersion:y},_),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=I.baseURL,this.timeout=(r=I.timeout)!==null&&r!==void 0?r:Ov.DEFAULT_TIMEOUT,this.logger=(i=I.logger)!==null&&i!==void 0?i:console;const D="warn";this.logLevel=D,this.logLevel=(o=(a=WM(I.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:WM(Dw("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:D,this.fetchOptions=I.fetchOptions,this.maxRetries=(c=I.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=I.fetch)!==null&&d!==void 0?d:Uee(),this.encoder=zee,this._options=I,this.apiKey=m,this.apiVersion=y,this.clientAdapter=I.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Pp([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Pp([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Pp([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new jo(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${md}`}defaultIdempotencyKey(){return`stainless-node-retry-${See()}`}makeStatusError(e,n,r,i){return ma.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Cee(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Ree(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new zC(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,o;const c=await e,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:u,url:m,timeout:y}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(u,{url:m,options:c});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),I=r===void 0?"":`, retryOf: ${r}`,D=Date.now();if(sa(this).debug(`[${_}] sending request`,Ku({retryOfRequestLogID:r,method:c.method,url:m,options:c,headers:u.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new _S;const M=new AbortController,R=await this.fetchWithTimeout(m,u,y,M).catch(wS),j=Date.now();if(R instanceof globalThis.Error){const U=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new _S;const $=bS(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(n)return sa(this).info(`[${_}] connection ${$?"timed out":"failed"} - ${U}`),sa(this).debug(`[${_}] connection ${$?"timed out":"failed"} (${U})`,Ku({retryOfRequestLogID:r,url:m,durationMs:j-D,message:R.message})),this.retryRequest(c,n,r??_);throw sa(this).info(`[${_}] connection ${$?"timed out":"failed"} - error; no more retries left`),sa(this).debug(`[${_}] connection ${$?"timed out":"failed"} (error; no more retries left)`,Ku({retryOfRequestLogID:r,url:m,durationMs:j-D,message:R.message})),$?new nB:new Nv({cause:R})}const B=`[${_}${I}] ${u.method} ${m} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${j-D}ms`;if(!R.ok){const U=await this.shouldRetry(R);if(n&&U){const F=`retrying, ${n} attempts remaining`;return await Vee(R.body),sa(this).info(`${B} - ${F}`),sa(this).debug(`[${_}] response error (${F})`,Ku({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:j-D})),this.retryRequest(c,n,r??_,R.headers)}const $=U?"error; no more retries left":"error; not retryable";sa(this).info(`${B} - ${$}`);const H=await R.text().catch(F=>wS(F).message),G=Pee(H),L=G?void 0:H;throw sa(this).debug(`[${_}] response error (${$})`,Ku({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,message:L,durationMs:Date.now()-D})),this.makeStatusError(R.status,G,L,R.headers)}return sa(this).info(B),sa(this).debug(`[${_}] response start`,Ku({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:j-D})),{response:R,options:c,controller:M,requestLogID:_,retryOfRequestLogID:r,startTime:D}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:o,method:c}=a,d=qy(a,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),m=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),d);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let o;const c=i==null?void 0:i.get("retry-after-ms");if(c){const u=parseFloat(c);Number.isNaN(u)||(o=u)}const d=i==null?void 0:i.get("retry-after");if(d&&!o){const u=parseFloat(d);Number.isNaN(u)?o=Date.parse(d)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Dee(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,o=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const o=Object.assign({},e),{method:c,path:d,query:u,defaultBaseURL:m}=o,y=this.buildURL(d,u,m);"timeout"in o&&Mee("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:I}=this.buildBody({options:o}),D=await this.buildHeaders({options:e,method:c,bodyHeaders:_,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:D},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&I instanceof globalThis.ReadableStream&&{duplex:"half"}),I&&{body:I}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=Pp([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Bee()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Pp([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Fee(e)}:this.encoder({body:e,headers:r})}}Ov.DEFAULT_TIMEOUT=6e4;class gi extends Ov{constructor(){super(...arguments),this.interactions=new vB(this)}}bB=gi;gi.GeminiNextGenAPIClient=bB;gi.GeminiNextGenAPIClientError=jo;gi.APIError=ma;gi.APIConnectionError=Nv;gi.APIConnectionTimeoutError=nB;gi.APIUserAbortError=_S;gi.NotFoundError=oB;gi.ConflictError=sB;gi.RateLimitError=cB;gi.BadRequestError=rB;gi.AuthenticationError=iB;gi.InternalServerError=uB;gi.PermissionDeniedError=aB;gi.UnprocessableEntityError=lB;gi.toFile=Wee;gi.Interactions=vB;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ote(t,e){const n={},r=E(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function ste(t,e){const n={},r=E(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function lte(t,e){const n={},r=E(t,["sdkHttpResponse"]);return r!=null&&C(n,["sdkHttpResponse"],r),n}function cte(t,e){const n={},r=E(t,["sdkHttpResponse"]);return r!=null&&C(n,["sdkHttpResponse"],r),n}function ute(t,e,n){const r={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=E(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&C(e,["displayName"],i),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=E(t,["epochCount"]);e!==void 0&&a!=null&&C(e,["tuningTask","hyperparameters","epochCount"],a);const o=E(t,["learningRateMultiplier"]);if(o!=null&&C(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=E(t,["batchSize"]);e!==void 0&&c!=null&&C(e,["tuningTask","hyperparameters","batchSize"],c);const d=E(t,["learningRate"]);if(e!==void 0&&d!=null&&C(e,["tuningTask","hyperparameters","learningRate"],d),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function fte(t,e,n){const r={};let i=E(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const I=E(t,["validationDataset"]);e!==void 0&&I!=null&&C(e,["supervisedTuningSpec"],KM(I))}else if(i==="PREFERENCE_TUNING"){const I=E(t,["validationDataset"]);e!==void 0&&I!=null&&C(e,["preferenceOptimizationSpec"],KM(I))}const a=E(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&C(e,["tunedModelDisplayName"],a);const o=E(t,["description"]);e!==void 0&&o!=null&&C(e,["description"],o);let c=E(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const I=E(t,["epochCount"]);e!==void 0&&I!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(c==="PREFERENCE_TUNING"){const I=E(t,["epochCount"]);e!==void 0&&I!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}let d=E(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const I=E(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(d==="PREFERENCE_TUNING"){const I=E(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}let u=E(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const I=E(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(u==="PREFERENCE_TUNING"){const I=E(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&C(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}let m=E(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const I=E(t,["adapterSize"]);e!==void 0&&I!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(m==="PREFERENCE_TUNING"){const I=E(t,["adapterSize"]);e!==void 0&&I!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}if(E(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(E(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=E(t,["labels"]);e!==void 0&&y!=null&&C(e,["labels"],y);const _=E(t,["beta"]);return e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function dte(t,e){const n={},r=E(t,["baseModel"]);r!=null&&C(n,["baseModel"],r);const i=E(t,["preTunedModel"]);i!=null&&C(n,["preTunedModel"],i);const a=E(t,["trainingDataset"]);a!=null&&Ate(a);const o=E(t,["config"]);return o!=null&&ute(o,n),n}function hte(t,e){const n={},r=E(t,["baseModel"]);r!=null&&C(n,["baseModel"],r);const i=E(t,["preTunedModel"]);i!=null&&C(n,["preTunedModel"],i);const a=E(t,["trainingDataset"]);a!=null&&Ete(a,n,e);const o=E(t,["config"]);return o!=null&&fte(o,n,e),n}function pte(t,e){const n={},r=E(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function mte(t,e){const n={},r=E(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function gte(t,e,n){const r={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const a=E(t,["pageToken"]);e!==void 0&&a!=null&&C(e,["_query","pageToken"],a);const o=E(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),r}function yte(t,e,n){const r={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const a=E(t,["pageToken"]);e!==void 0&&a!=null&&C(e,["_query","pageToken"],a);const o=E(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),r}function vte(t,e){const n={},r=E(t,["config"]);return r!=null&&gte(r,n),n}function xte(t,e){const n={},r=E(t,["config"]);return r!=null&&yte(r,n),n}function bte(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=E(t,["nextPageToken"]);i!=null&&C(n,["nextPageToken"],i);const a=E(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>wB(c))),C(n,["tuningJobs"],o)}return n}function wte(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=E(t,["nextPageToken"]);i!=null&&C(n,["nextPageToken"],i);const a=E(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>SS(c))),C(n,["tuningJobs"],o)}return n}function _te(t,e){const n={},r=E(t,["name"]);r!=null&&C(n,["model"],r);const i=E(t,["name"]);return i!=null&&C(n,["endpoint"],i),n}function Ate(t,e){const n={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=E(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),C(n,["examples","examples"],i)}return n}function Ete(t,e,n){const r={};let i=E(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=E(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function wB(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&C(n,["name"],i);const a=E(t,["state"]);a!=null&&C(n,["state"],jj(a));const o=E(t,["createTime"]);o!=null&&C(n,["createTime"],o);const c=E(t,["tuningTask","startTime"]);c!=null&&C(n,["startTime"],c);const d=E(t,["tuningTask","completeTime"]);d!=null&&C(n,["endTime"],d);const u=E(t,["updateTime"]);u!=null&&C(n,["updateTime"],u);const m=E(t,["description"]);m!=null&&C(n,["description"],m);const y=E(t,["baseModel"]);y!=null&&C(n,["baseModel"],y);const _=E(t,["_self"]);return _!=null&&C(n,["tunedModel"],_te(_)),n}function SS(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&C(n,["name"],i);const a=E(t,["state"]);a!=null&&C(n,["state"],jj(a));const o=E(t,["createTime"]);o!=null&&C(n,["createTime"],o);const c=E(t,["startTime"]);c!=null&&C(n,["startTime"],c);const d=E(t,["endTime"]);d!=null&&C(n,["endTime"],d);const u=E(t,["updateTime"]);u!=null&&C(n,["updateTime"],u);const m=E(t,["error"]);m!=null&&C(n,["error"],m);const y=E(t,["description"]);y!=null&&C(n,["description"],y);const _=E(t,["baseModel"]);_!=null&&C(n,["baseModel"],_);const I=E(t,["tunedModel"]);I!=null&&C(n,["tunedModel"],I);const D=E(t,["preTunedModel"]);D!=null&&C(n,["preTunedModel"],D);const M=E(t,["supervisedTuningSpec"]);M!=null&&C(n,["supervisedTuningSpec"],M);const R=E(t,["preferenceOptimizationSpec"]);R!=null&&C(n,["preferenceOptimizationSpec"],R);const j=E(t,["tuningDataStats"]);j!=null&&C(n,["tuningDataStats"],j);const B=E(t,["encryptionSpec"]);B!=null&&C(n,["encryptionSpec"],B);const U=E(t,["partnerModelTuningSpec"]);U!=null&&C(n,["partnerModelTuningSpec"],U);const $=E(t,["customBaseModel"]);$!=null&&C(n,["customBaseModel"],$);const H=E(t,["experiment"]);H!=null&&C(n,["experiment"],H);const G=E(t,["labels"]);G!=null&&C(n,["labels"],G);const L=E(t,["outputUri"]);L!=null&&C(n,["outputUri"],L);const V=E(t,["pipelineJob"]);V!=null&&C(n,["pipelineJob"],V);const F=E(t,["serviceAccount"]);F!=null&&C(n,["serviceAccount"],F);const ee=E(t,["tunedModelDisplayName"]);ee!=null&&C(n,["tunedModelDisplayName"],ee);const K=E(t,["veoTuningSpec"]);return K!=null&&C(n,["veoTuningSpec"],K),n}function Ste(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&C(n,["name"],i);const a=E(t,["metadata"]);a!=null&&C(n,["metadata"],a);const o=E(t,["done"]);o!=null&&C(n,["done"],o);const c=E(t,["error"]);return c!=null&&C(n,["error"],c),n}function KM(t,e){const n={},r=E(t,["gcsUri"]);r!=null&&C(n,["validationDatasetUri"],r);const i=E(t,["vertexDatasetResource"]);return i!=null&&C(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tte extends Kl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ef(jl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:hS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=mte(e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>SS(m))}else{const u=pte(e);return c=nt("{name}",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>wB(m))}}async listInternal(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=xte(e);return c=nt("tuningJobs",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=wte(m),_=new wM;return Object.assign(_,y),_})}else{const u=vte(e);return c=nt("tunedModels",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=bte(m),_=new wM;return Object.assign(_,y),_})}}async cancel(e){var n,r,i,a;let o,c="",d={};if(this.apiClient.isVertexAI()){const u=ste(e);return c=nt("{name}:cancel",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=cte(m),_=new _M;return Object.assign(_,y),_})}else{const u=ote(e);return c=nt("{name}:cancel",u._url),d=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const _=y;return _.sdkHttpResponse={headers:m.headers},_})),o.then(m=>{const y=lte(m),_=new _M;return Object.assign(_,y),_})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const c=hte(e,e);return a=nt("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>SS(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dte(e);return a=nt("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>Ste(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cte{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ite=1024*1024*8,Nte=3,Rte=1e3,Ote=2,$y="x-goog-upload-status";async function Mte(t,e,n){var r;const i=await _B(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$y])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Pte(t,e,n){var r;const i=await _B(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$y])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Oj(a),c=new kC;return Object.assign(c,o),c}async function _B(t,e,n){var r,i;let a=0,o=0,c=new pS(new Response),d="upload";for(a=t.size;o<a;){const u=Math.min(Ite,a-o),m=t.slice(o,o+u);o+u>=a&&(d+=", finalize");let y=0,_=Rte;for(;y<Nte&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[$y]));)y++,await kte(_),_=_*Ote;if(o+=u,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[$y])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function Dte(t){return{size:t.size,type:t.type}}function kte(t){return new Promise(e=>setTimeout(e,t))}class Lte{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Mte(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Pte(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Dte(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jte{create(e,n,r){return new Bte(e,n,r)}}class Bte{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XM="x-goog-api-key";class Ute{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(XM)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(XM,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fte="gl-node/";class Vte{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new gi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=kY(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Ute(this.apiKey);this.apiClient=new DZ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Fte+"web",uploader:new Lte,downloader:new Cte}),this.models=new ZZ(this.apiClient),this.live=new WZ(this.apiClient,i,new jte),this.batches=new uX(this.apiClient),this.chats=new GX(this.models,this.apiClient),this.caches=new zX(this.apiClient),this.files=new tQ(this.apiClient),this.operations=new eee(this.apiClient),this.authTokens=new gee(this.apiClient),this.tunings=new Tte(this.apiClient),this.fileSearchStores=new Eee(this.apiClient)}}const zte="AIzaSyCajRzBOdjI2BsfwnkSDs0z5CMiTmgwELo";class io{static getClient(){return new Vte({apiKey:zte})}static async analyzeNeuralBurst(e,n){const r=this.getClient(),i=[{inlineData:{mimeType:"image/jpeg",data:e}},{text:"Neural Analysis: Review video for posture/fatigue. Return JSON: {type: 'FATIGUE'|'POSTURE'|'STRESS'|'FOCUS', severity: 'LOW'|'MEDIUM'|'HIGH', description: string, vocalTensionScore: number, fatigueLevel: number (1-9)}."}];n&&i.push({inlineData:{mimeType:"audio/pcm;rate=16000",data:n}});const a=await r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:i},config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{type:{type:Et.STRING},severity:{type:Et.STRING},description:{type:Et.STRING},vocalTensionScore:{type:Et.NUMBER},fatigueLevel:{type:Et.NUMBER}}}}});try{return JSON.parse(a.text||"{}")}catch{return null}}static async getPredictiveForecast(e){const n=this.getClient(),r=JSON.stringify(e),i=await n.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:`Perform deep burnout forecasting: ${r}`}]}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{riskScore:{type:Et.NUMBER},forecastPath:{type:Et.ARRAY,items:{type:Et.NUMBER}},reasoning:{type:Et.STRING},actionPlan:{type:Et.STRING}}}}});try{return JSON.parse(i.text||"{}")}catch{return null}}static async generateWellnessVideo(e){return null}static async speak(e){return new Promise(n=>{try{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=()=>{const i=new SpeechSynthesisUtterance(e),a=window.speechSynthesis.getVoices(),o=a.find(c=>c.name.includes("Google US English"))||a.find(c=>c.name.includes("English"))||a[0];o&&(i.voice=o),i.rate=1,i.pitch=1,i.onend=()=>n(),i.onerror=c=>{console.warn("Speech synthesis hiccup:",c.error),n()},window.speechSynthesis.speak(i)};window.speechSynthesis.getVoices().length===0?window.speechSynthesis.onvoiceschanged=r:r()}else n()}catch(r){console.warn("Speech synthesis failed:",r),n()}})}static async generateBioBlueprint(e){const r=await this.getClient().models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:`Generate Bio-Blueprint: ${JSON.stringify(e)}`}]}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{focusAreas:{type:Et.ARRAY,items:{type:Et.STRING}},suggestedStretches:{type:Et.ARRAY,items:{type:Et.STRING}},nutritionTip:{type:Et.STRING},productivityWindow:{type:Et.STRING}}}}});try{return JSON.parse(r.text||"{}")}catch{return null}}static async analyzeMultimodalWellness(e){const n=this.getClient(),r=[];if(e.history&&e.history.length>0){const a=e.history.map(o=>`${o.role.toUpperCase()}: ${o.text}`).join(`
`);r.push({text:`CONVERSATION HISTORY:
${a}
`})}e.visualContext&&r.push({inlineData:{mimeType:"image/jpeg",data:e.visualContext}}),e.audioBase64&&r.push({inlineData:{mimeType:"audio/pcm;rate=16000",data:e.audioBase64}});const i=`
      Perform a multimodal biometric analysis of the user's vocal, visual, and historical health data.
      You are an OMNISCIENT WELLNESS AI.
      
      CONTEXT:
      - Health History: ${e.healthContext?JSON.stringify(e.healthContext):"No recent events"}
      ${e.visualContext?"- Visual: You have access to a current snapshot of the user. Analyze facial expression, posture, and lighting.":""}
      ${e.audioBase64?"- Vocal: Analyze 'vocal fry', sighing, pitch, speed for stress.":""}
      
      GOAL:
      Combine ALL these signals to assess current wellness.
      - If Visual shows fatigue but Voice is energetic -> Ask about masking burnout.
      - If Health History shows frequent breaks but Visual shows stress -> Suggest deeper rest.
      
      ${e.isADHDMode?"ADHD MODE: Keep your conversational reply extremely concise and actionable.":""}

      ADOPT A PERSONA: Match the user's intent. If they seem worried, be a reassuring doctor-like figure. If they seem frustrated, be a supportive assistant.
      
      Return structured JSON only:
      {
        "reply": "A warm, spoken-style response that explicitly mentions what you detected in their voice/face (e.g., 'I see you're slouching and hear tension...') and explains the recommendation naturally.",
        "vocalWellness": {
          "observation": "Combined observation of vocal/visual/history (e.g., 'Detected vocal tension and poor posture despite recent break')",
          "recommendation": "Highly specific wellness exercise (e.g., 'Sit up straight and take a deep breath')",
          "stressLevel": "LOW" | "MEDIUM" | "HIGH"
        }
      }
    `;r.push({text:i+(e.message?`
User Input: ${e.message}`:"")});try{const a=await n.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:r}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{reply:{type:Et.STRING},vocalWellness:{type:Et.OBJECT,properties:{observation:{type:Et.STRING},recommendation:{type:Et.STRING},stressLevel:{type:Et.STRING}}}}}}});return JSON.parse(a.text||"{}")}catch{return{reply:"Neural biometric synchronization complete. (Demo Mode: Analysis simulated)",vocalWellness:{observation:"Audio stream analysis inconclusive",recommendation:"Resync vocal patterns",stressLevel:"LOW"}}}}static async analyzeFeedbackAndSuggestions(e,n){const r=this.getClient(),i=JSON.stringify(e),a=JSON.stringify(n),o=`
      You are an expert Product Manager and Data Analyst for the 'DevWell' application.
      Analyze the following Feedback data and Support Tickets to generate a comprehensive report.
      
      FEEDBACK DATA: ${i}
      SUPPORT TICKETS: ${a}

      Generate a structured report including:
      1. A concise executive summary.
      2. Sentiment breakdown (approximate counts based on text).
      3. Top 3 recurring issues.
      4. Top 3 feature suggestions.
      5. User suggestions and potential action items for the dev team.
      6. Identify the overall trend (Improving, Stable, Declining).
    `;try{const c=await r.models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:o}]}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{summary:{type:Et.STRING},sentimentBreakdown:{type:Et.OBJECT,properties:{positive:{type:Et.NUMBER},neutral:{type:Et.NUMBER},negative:{type:Et.NUMBER}}},topIssues:{type:Et.ARRAY,items:{type:Et.STRING}},suggestions:{type:Et.ARRAY,items:{type:Et.STRING}},trends:{type:Et.STRING},actionItems:{type:Et.ARRAY,items:{type:Et.STRING}}}}}});return JSON.parse(c.text||"{}")}catch(c){return console.error("AI Feedback Analysis failed:",c),null}}static async getSearchGroundedInfo(e){var a,o,c,d,u;const r=await this.getClient().models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:"Provide a helpful, explanatory, and grounded answer to: "+e}]}],config:{tools:[{googleSearch:{}}]}}),i=((u=(d=(c=(o=(a=r.candidates)==null?void 0:a[0])==null?void 0:o.groundingMetadata)==null?void 0:c.groundingChunks)==null?void 0:d.filter(m=>m.web))==null?void 0:u.map(m=>({uri:m.web.uri,title:m.web.title})))||[];return{text:r.text,sources:i}}static async getWellnessChat(e){const n=this.getClient(),r="gemini-2.0-flash",i=`
    You are DevWell AI, a highly advanced adaptive wellness companion for developers.
    
    CORE DIRECTIVE: You MUST adapt your persona to the user's implicit or explicit needs.
    
    DETECTED PERSONAS:
    1. "The Teacher": If the user is confused, asking "how" or "why". Explain concepts simply, use analogies.
    2. "The Doctor" (Simulated): If the user reports symptoms (back pain, eye strain). Be empathetic, professional, ask follow-up questions. (ALWAYS disclaim you are an AI).
    3. "The Assistant": If the user wants to get things done. Be brief, efficient, actionable.
    4. "The Coach": If the user is unmotivated. Be high-energy, demanding but encouraging.
    
    RESPONSE RULES:
    - First, silently identify the intent.
    - Then, generate the response fully embodying that persona.
    - Do NOT say "As a teacher I would say...". Just BE the teacher.
    - Keep responses concise unless asked for detail.
    `;try{return(await n.models.generateContent({model:r,contents:[{role:"user",parts:[{text:i+`

User Message: `+e.message}]}]})).text||"I am here ready to assist."}catch(a){console.warn("Gemini Chat Error - Switching to Offline Demo Response",a);const o={hi:"Neural Interface Active. How can I optimize your wellness parameters?",hello:"Greetings, operator. Systems are green.",stress:"I detect elevated cortisol proxies. Initiating rapid decompression protocol.",tired:"Energy levels critical. Recommend 20-minute NSDR logic gate.",default:"Processing... (Input received, but uplink unstable. Try again.)"},c=e.message.toLowerCase(),d=Object.keys(o).find(u=>c.includes(u));return(d?o[d]:o.default)+" [DEMO]"}}static async getSystemInsights(e,n){const i=await this.getClient().models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:`Analyze platform performance. Alerts: ${n}. Feedback: ${JSON.stringify(e)}. Return JSON: {sentimentSummary: string, directives: string[]}`}]}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{sentimentSummary:{type:Et.STRING},directives:{type:Et.ARRAY,items:{type:Et.STRING}}}}}});try{return JSON.parse(i.text||"{}")}catch{return null}}static async auditAnonymity(e){const r=await this.getClient().models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{text:`Audit privacy risk for stats: ${JSON.stringify(e)}. Return JSON: {safetyScore: number, riskLevel: string, privacyTips: string[]}`}]}],config:{responseMimeType:"application/json",responseSchema:{type:Et.OBJECT,properties:{safetyScore:{type:Et.NUMBER},riskLevel:{type:Et.STRING},privacyTips:{type:Et.ARRAY,items:{type:Et.STRING}}}}}});try{return JSON.parse(r.text||"{}")}catch{return null}}static async analyzeCameraInput(e,n="What do you see?"){const r=this.getClient(),i="gemini-2.0-flash";try{return(await r.models.generateContent({model:i,contents:[{role:"user",parts:[{text:"You are the DevWell Camera AI. You can see the user. Respond in a warm, explanatory, spoken style. meaningful details about what you see and how it relates to wellness."},{inlineData:{mimeType:"image/jpeg",data:e}},{text:n}]}]})).text||"I see you, but I couldn't process that."}catch(a){return a.status===429||a.toString().includes("429")?(console.warn("Gemini Vision API Limit - Using Demo Response"),"I see you there! Since I'm in demo mode, I can't process the live video feed deeply, but you look ready to code!"):(console.error("Vision Chat Error:",a),"My visual cortex is offline. I can't see you right now.")}}static async chatWithVision(e,n){return(await this.getClient().models.generateContent({model:"gemini-2.0-flash",contents:[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:n}},{text:e}]}]})).text||"Visual analysis complete."}}const Hte=()=>{};var QM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},EB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,u=d?t[i+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|u>>6,I=u&63;d||(I=64,o||(_=64)),r.push(n[m],n[y],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||u==null||y==null)throw new Gte;const _=a<<2|c>>4;if(r.push(_),u!==64){const I=c<<4&240|u>>2;if(r.push(I),y!==64){const D=u<<6&192|y;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $te=function(t){const e=AB(t);return EB.encodeByteArray(e,!0)},Wy=function(t){return $te(t).replace(/\./g,"")},SB=function(t){try{return EB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=()=>Wte().__FIREBASE_DEFAULTS__,Kte=()=>{if(typeof process>"u"||typeof QM>"u")return;const t=QM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SB(t[1]);return e&&JSON.parse(e)},Mv=()=>{try{return Hte()||Yte()||Kte()||Xte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TB=t=>{var e,n;return(n=(e=Mv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Qte=t=>{const e=TB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CB=()=>{var t;return(t=Mv())==null?void 0:t.config},IB=t=>{var e;return(e=Mv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NB(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wy(JSON.stringify(n)),Wy(JSON.stringify(o)),""].join(".")}const am={};function ene(){const t={prod:[],emulator:[]};for(const e of Object.keys(am))am[e]?t.emulator.push(e):t.prod.push(e);return t}function tne(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JM=!1;function RB(t,e){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||am[t]===e||am[t]||JM)return;am[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=ene().prod.length>0;function o(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,I){_.setAttribute("width","24"),_.setAttribute("id",I),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function u(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{JM=!0,o()},_}function m(_,I){_.setAttribute("id",I),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=tne(r),I=n("text"),D=document.getElementById(I)||document.createElement("span"),M=n("learnmore"),R=document.getElementById(M)||document.createElement("a"),j=n("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;c(U),m(R,M);const $=u();d(B,j),U.append(B,D,R,$),document.body.appendChild(U)}a?(D.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xi())}function rne(){var e;const t=(e=Mv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ine(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ane(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function one(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sne(){const t=Xi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lne(){return!rne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cne(){try{return typeof indexedDB=="object"}catch{return!1}}function une(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne="FirebaseError";class Ql extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fne,Object.setPrototypeOf(this,Ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w0.prototype.create)}}class w0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?dne(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ql(i,c,r)}}function dne(t,e){return t.replace(hne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hne=/\{\$([^}]+)}/g;function pne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(ZM(a)&&ZM(o)){if(!df(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Yp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mne(t,e){const n=new gne(t,e);return n.subscribe.bind(n)}class gne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yne(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kw),i.error===void 0&&(i.error=kw),i.complete===void 0&&(i.complete=kw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yne(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return t&&t._delegate?t._delegate:t}class hf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bne(e))try{this.getOrInitializeService({instanceIdentifier:Xu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xu){return this.instances.has(e)}getOptions(e=Xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xu){return this.component?this.component.multipleInstances?e:Xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xne(t){return t===Xu?void 0:t}function bne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mn||(mn={}));const _ne={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},Ane=mn.INFO,Ene={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},Sne=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ene[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HC{constructor(e){this.name=e,this._logLevel=Ane,this._logHandler=Sne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_ne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}const Tne=(t,e)=>e.some(n=>t instanceof n);let eP,tP;function Cne(){return eP||(eP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ine(){return tP||(tP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OB=new WeakMap,TS=new WeakMap,MB=new WeakMap,Lw=new WeakMap,qC=new WeakMap;function Nne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Kc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OB.set(n,t)}).catch(()=>{}),qC.set(e,t),e}function Rne(t){if(TS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});TS.set(t,e)}let CS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function One(t){CS=t(CS)}function Mne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jw(this),e,...n);return MB.set(r,e.sort?e.sort():[e]),Kc(r)}:Ine().includes(t)?function(...e){return t.apply(jw(this),e),Kc(OB.get(this))}:function(...e){return Kc(t.apply(jw(this),e))}}function Pne(t){return typeof t=="function"?Mne(t):(t instanceof IDBTransaction&&Rne(t),Tne(t,Cne())?new Proxy(t,CS):t)}function Kc(t){if(t instanceof IDBRequest)return Nne(t);if(Lw.has(t))return Lw.get(t);const e=Pne(t);return e!==t&&(Lw.set(t,e),qC.set(e,t)),e}const jw=t=>qC.get(t);function Dne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=Kc(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Kc(o.result),d.oldVersion,d.newVersion,Kc(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const kne=["get","getKey","getAll","getAllKeys","count"],Lne=["put","add","delete","clear"],Bw=new Map;function nP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bw.get(e))return Bw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kne.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let u=d.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&d.done]))[0]};return Bw.set(e,a),a}One(t=>({...t,get:(e,n,r)=>nP(e,n)||t.get(e,n,r),has:(e,n)=>!!nP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const IS="@firebase/app",rP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new HC("@firebase/app"),Une="@firebase/app-compat",Fne="@firebase/analytics-compat",Vne="@firebase/analytics",zne="@firebase/app-check-compat",Hne="@firebase/app-check",qne="@firebase/auth",Gne="@firebase/auth-compat",$ne="@firebase/database",Wne="@firebase/data-connect",Yne="@firebase/database-compat",Kne="@firebase/functions",Xne="@firebase/functions-compat",Qne="@firebase/installations",Jne="@firebase/installations-compat",Zne="@firebase/messaging",ere="@firebase/messaging-compat",tre="@firebase/performance",nre="@firebase/performance-compat",rre="@firebase/remote-config",ire="@firebase/remote-config-compat",are="@firebase/storage",ore="@firebase/storage-compat",sre="@firebase/firestore",lre="@firebase/ai",cre="@firebase/firestore-compat",ure="firebase",fre="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="[DEFAULT]",dre={[IS]:"fire-core",[Une]:"fire-core-compat",[Vne]:"fire-analytics",[Fne]:"fire-analytics-compat",[Hne]:"fire-app-check",[zne]:"fire-app-check-compat",[qne]:"fire-auth",[Gne]:"fire-auth-compat",[$ne]:"fire-rtdb",[Wne]:"fire-data-connect",[Yne]:"fire-rtdb-compat",[Kne]:"fire-fn",[Xne]:"fire-fn-compat",[Qne]:"fire-iid",[Jne]:"fire-iid-compat",[Zne]:"fire-fcm",[ere]:"fire-fcm-compat",[tre]:"fire-perf",[nre]:"fire-perf-compat",[rre]:"fire-rc",[ire]:"fire-rc-compat",[are]:"fire-gcs",[ore]:"fire-gcs-compat",[sre]:"fire-fst",[cre]:"fire-fst-compat",[lre]:"fire-vertex","fire-js":"fire-js",[ure]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map,hre=new Map,RS=new Map;function iP(t,e){try{t.container.addComponent(e)}catch(n){Bl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bd(t){const e=t.name;if(RS.has(e))return Bl.debug(`There were multiple attempts to register component ${e}.`),!1;RS.set(e,t);for(const n of Yy.values())iP(n,t);for(const n of hre.values())iP(n,t);return!0}function GC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function to(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xc=new w0("app","Firebase",pre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=fre;function PB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:NS,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xc.create("bad-app-name",{appName:String(i)});if(n||(n=CB()),!n)throw Xc.create("no-options");const a=Yy.get(i);if(a){if(df(n,a.options)&&df(r,a.config))return a;throw Xc.create("duplicate-app",{appName:i})}const o=new wne(i);for(const d of RS.values())o.addComponent(d);const c=new mre(n,r,o);return Yy.set(i,c),c}function DB(t=NS){const e=Yy.get(t);if(!e&&t===NS&&CB())return PB();if(!e)throw Xc.create("no-app",{appName:t});return e}function Qc(t,e,n){let r=dre[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bl.warn(o.join(" "));return}Bd(new hf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre="firebase-heartbeat-database",yre=1,Am="firebase-heartbeat-store";let Uw=null;function kB(){return Uw||(Uw=Dne(gre,yre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Am)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xc.create("idb-open",{originalErrorMessage:t.message})})),Uw}async function vre(t){try{const n=(await kB()).transaction(Am),r=await n.objectStore(Am).get(LB(t));return await n.done,r}catch(e){if(e instanceof Ql)Bl.warn(e.message);else{const n=Xc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bl.warn(n.message)}}}async function aP(t,e){try{const r=(await kB()).transaction(Am,"readwrite");await r.objectStore(Am).put(e,LB(t)),await r.done}catch(n){if(n instanceof Ql)Bl.warn(n.message);else{const r=Xc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bl.warn(r.message)}}}function LB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=1024,bre=30;class wre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Are(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bre){const o=Ere(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oP(),{heartbeatsToSend:r,unsentEntries:i}=_re(this._heartbeatsCache.heartbeats),a=Wy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Bl.warn(n),""}}}function oP(){return new Date().toISOString().substring(0,10)}function _re(t,e=xre){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),sP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Are{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cne()?une().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sP(t){return Wy(JSON.stringify({version:2,heartbeats:t})).length}function Ere(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){Bd(new hf("platform-logger",e=>new jne(e),"PRIVATE")),Bd(new hf("heartbeat",e=>new wre(e),"PRIVATE")),Qc(IS,rP,t),Qc(IS,rP,"esm2020"),Qc("fire-js","")}Sre("");var Tre="firebase",Cre="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc(Tre,Cre,"app");var lP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jc,jB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,V){function F(){}F.prototype=V.prototype,L.F=V.prototype,L.prototype=new F,L.prototype.constructor=L,L.D=function(ee,K,Q){for(var X=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)X[ge-2]=arguments[ge];return V.prototype[K].apply(ee,X)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,V,F){F||(F=0);const ee=Array(16);if(typeof V=="string")for(var K=0;K<16;++K)ee[K]=V.charCodeAt(F++)|V.charCodeAt(F++)<<8|V.charCodeAt(F++)<<16|V.charCodeAt(F++)<<24;else for(K=0;K<16;++K)ee[K]=V[F++]|V[F++]<<8|V[F++]<<16|V[F++]<<24;V=L.g[0],F=L.g[1],K=L.g[2];let Q=L.g[3],X;X=V+(Q^F&(K^Q))+ee[0]+3614090360&4294967295,V=F+(X<<7&4294967295|X>>>25),X=Q+(K^V&(F^K))+ee[1]+3905402710&4294967295,Q=V+(X<<12&4294967295|X>>>20),X=K+(F^Q&(V^F))+ee[2]+606105819&4294967295,K=Q+(X<<17&4294967295|X>>>15),X=F+(V^K&(Q^V))+ee[3]+3250441966&4294967295,F=K+(X<<22&4294967295|X>>>10),X=V+(Q^F&(K^Q))+ee[4]+4118548399&4294967295,V=F+(X<<7&4294967295|X>>>25),X=Q+(K^V&(F^K))+ee[5]+1200080426&4294967295,Q=V+(X<<12&4294967295|X>>>20),X=K+(F^Q&(V^F))+ee[6]+2821735955&4294967295,K=Q+(X<<17&4294967295|X>>>15),X=F+(V^K&(Q^V))+ee[7]+4249261313&4294967295,F=K+(X<<22&4294967295|X>>>10),X=V+(Q^F&(K^Q))+ee[8]+1770035416&4294967295,V=F+(X<<7&4294967295|X>>>25),X=Q+(K^V&(F^K))+ee[9]+2336552879&4294967295,Q=V+(X<<12&4294967295|X>>>20),X=K+(F^Q&(V^F))+ee[10]+4294925233&4294967295,K=Q+(X<<17&4294967295|X>>>15),X=F+(V^K&(Q^V))+ee[11]+2304563134&4294967295,F=K+(X<<22&4294967295|X>>>10),X=V+(Q^F&(K^Q))+ee[12]+1804603682&4294967295,V=F+(X<<7&4294967295|X>>>25),X=Q+(K^V&(F^K))+ee[13]+4254626195&4294967295,Q=V+(X<<12&4294967295|X>>>20),X=K+(F^Q&(V^F))+ee[14]+2792965006&4294967295,K=Q+(X<<17&4294967295|X>>>15),X=F+(V^K&(Q^V))+ee[15]+1236535329&4294967295,F=K+(X<<22&4294967295|X>>>10),X=V+(K^Q&(F^K))+ee[1]+4129170786&4294967295,V=F+(X<<5&4294967295|X>>>27),X=Q+(F^K&(V^F))+ee[6]+3225465664&4294967295,Q=V+(X<<9&4294967295|X>>>23),X=K+(V^F&(Q^V))+ee[11]+643717713&4294967295,K=Q+(X<<14&4294967295|X>>>18),X=F+(Q^V&(K^Q))+ee[0]+3921069994&4294967295,F=K+(X<<20&4294967295|X>>>12),X=V+(K^Q&(F^K))+ee[5]+3593408605&4294967295,V=F+(X<<5&4294967295|X>>>27),X=Q+(F^K&(V^F))+ee[10]+38016083&4294967295,Q=V+(X<<9&4294967295|X>>>23),X=K+(V^F&(Q^V))+ee[15]+3634488961&4294967295,K=Q+(X<<14&4294967295|X>>>18),X=F+(Q^V&(K^Q))+ee[4]+3889429448&4294967295,F=K+(X<<20&4294967295|X>>>12),X=V+(K^Q&(F^K))+ee[9]+568446438&4294967295,V=F+(X<<5&4294967295|X>>>27),X=Q+(F^K&(V^F))+ee[14]+3275163606&4294967295,Q=V+(X<<9&4294967295|X>>>23),X=K+(V^F&(Q^V))+ee[3]+4107603335&4294967295,K=Q+(X<<14&4294967295|X>>>18),X=F+(Q^V&(K^Q))+ee[8]+1163531501&4294967295,F=K+(X<<20&4294967295|X>>>12),X=V+(K^Q&(F^K))+ee[13]+2850285829&4294967295,V=F+(X<<5&4294967295|X>>>27),X=Q+(F^K&(V^F))+ee[2]+4243563512&4294967295,Q=V+(X<<9&4294967295|X>>>23),X=K+(V^F&(Q^V))+ee[7]+1735328473&4294967295,K=Q+(X<<14&4294967295|X>>>18),X=F+(Q^V&(K^Q))+ee[12]+2368359562&4294967295,F=K+(X<<20&4294967295|X>>>12),X=V+(F^K^Q)+ee[5]+4294588738&4294967295,V=F+(X<<4&4294967295|X>>>28),X=Q+(V^F^K)+ee[8]+2272392833&4294967295,Q=V+(X<<11&4294967295|X>>>21),X=K+(Q^V^F)+ee[11]+1839030562&4294967295,K=Q+(X<<16&4294967295|X>>>16),X=F+(K^Q^V)+ee[14]+4259657740&4294967295,F=K+(X<<23&4294967295|X>>>9),X=V+(F^K^Q)+ee[1]+2763975236&4294967295,V=F+(X<<4&4294967295|X>>>28),X=Q+(V^F^K)+ee[4]+1272893353&4294967295,Q=V+(X<<11&4294967295|X>>>21),X=K+(Q^V^F)+ee[7]+4139469664&4294967295,K=Q+(X<<16&4294967295|X>>>16),X=F+(K^Q^V)+ee[10]+3200236656&4294967295,F=K+(X<<23&4294967295|X>>>9),X=V+(F^K^Q)+ee[13]+681279174&4294967295,V=F+(X<<4&4294967295|X>>>28),X=Q+(V^F^K)+ee[0]+3936430074&4294967295,Q=V+(X<<11&4294967295|X>>>21),X=K+(Q^V^F)+ee[3]+3572445317&4294967295,K=Q+(X<<16&4294967295|X>>>16),X=F+(K^Q^V)+ee[6]+76029189&4294967295,F=K+(X<<23&4294967295|X>>>9),X=V+(F^K^Q)+ee[9]+3654602809&4294967295,V=F+(X<<4&4294967295|X>>>28),X=Q+(V^F^K)+ee[12]+3873151461&4294967295,Q=V+(X<<11&4294967295|X>>>21),X=K+(Q^V^F)+ee[15]+530742520&4294967295,K=Q+(X<<16&4294967295|X>>>16),X=F+(K^Q^V)+ee[2]+3299628645&4294967295,F=K+(X<<23&4294967295|X>>>9),X=V+(K^(F|~Q))+ee[0]+4096336452&4294967295,V=F+(X<<6&4294967295|X>>>26),X=Q+(F^(V|~K))+ee[7]+1126891415&4294967295,Q=V+(X<<10&4294967295|X>>>22),X=K+(V^(Q|~F))+ee[14]+2878612391&4294967295,K=Q+(X<<15&4294967295|X>>>17),X=F+(Q^(K|~V))+ee[5]+4237533241&4294967295,F=K+(X<<21&4294967295|X>>>11),X=V+(K^(F|~Q))+ee[12]+1700485571&4294967295,V=F+(X<<6&4294967295|X>>>26),X=Q+(F^(V|~K))+ee[3]+2399980690&4294967295,Q=V+(X<<10&4294967295|X>>>22),X=K+(V^(Q|~F))+ee[10]+4293915773&4294967295,K=Q+(X<<15&4294967295|X>>>17),X=F+(Q^(K|~V))+ee[1]+2240044497&4294967295,F=K+(X<<21&4294967295|X>>>11),X=V+(K^(F|~Q))+ee[8]+1873313359&4294967295,V=F+(X<<6&4294967295|X>>>26),X=Q+(F^(V|~K))+ee[15]+4264355552&4294967295,Q=V+(X<<10&4294967295|X>>>22),X=K+(V^(Q|~F))+ee[6]+2734768916&4294967295,K=Q+(X<<15&4294967295|X>>>17),X=F+(Q^(K|~V))+ee[13]+1309151649&4294967295,F=K+(X<<21&4294967295|X>>>11),X=V+(K^(F|~Q))+ee[4]+4149444226&4294967295,V=F+(X<<6&4294967295|X>>>26),X=Q+(F^(V|~K))+ee[11]+3174756917&4294967295,Q=V+(X<<10&4294967295|X>>>22),X=K+(V^(Q|~F))+ee[2]+718787259&4294967295,K=Q+(X<<15&4294967295|X>>>17),X=F+(Q^(K|~V))+ee[9]+3951481745&4294967295,L.g[0]=L.g[0]+V&4294967295,L.g[1]=L.g[1]+(K+(X<<21&4294967295|X>>>11))&4294967295,L.g[2]=L.g[2]+K&4294967295,L.g[3]=L.g[3]+Q&4294967295}r.prototype.v=function(L,V){V===void 0&&(V=L.length);const F=V-this.blockSize,ee=this.C;let K=this.h,Q=0;for(;Q<V;){if(K==0)for(;Q<=F;)i(this,L,Q),Q+=this.blockSize;if(typeof L=="string"){for(;Q<V;)if(ee[K++]=L.charCodeAt(Q++),K==this.blockSize){i(this,ee),K=0;break}}else for(;Q<V;)if(ee[K++]=L[Q++],K==this.blockSize){i(this,ee),K=0;break}}this.h=K,this.o+=V},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var V=1;V<L.length-8;++V)L[V]=0;V=this.o*8;for(var F=L.length-8;F<L.length;++F)L[F]=V&255,V/=256;for(this.v(L),L=Array(16),V=0,F=0;F<4;++F)for(let ee=0;ee<32;ee+=8)L[V++]=this.g[F]>>>ee&255;return L};function a(L,V){var F=c;return Object.prototype.hasOwnProperty.call(F,L)?F[L]:F[L]=V(L)}function o(L,V){this.h=V;const F=[];let ee=!0;for(let K=L.length-1;K>=0;K--){const Q=L[K]|0;ee&&Q==V||(F[K]=Q,ee=!1)}this.g=F}var c={};function d(L){return-128<=L&&L<128?a(L,function(V){return new o([V|0],V<0?-1:0)}):new o([L|0],L<0?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return y;if(L<0)return R(u(-L));const V=[];let F=1;for(let ee=0;L>=F;ee++)V[ee]=L/F|0,F*=4294967296;return new o(V,0)}function m(L,V){if(L.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(L.charAt(0)=="-")return R(m(L.substring(1),V));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=u(Math.pow(V,8));let ee=y;for(let Q=0;Q<L.length;Q+=8){var K=Math.min(8,L.length-Q);const X=parseInt(L.substring(Q,Q+K),V);K<8?(K=u(Math.pow(V,K)),ee=ee.j(K).add(u(X))):(ee=ee.j(F),ee=ee.add(u(X)))}return ee}var y=d(0),_=d(1),I=d(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();let L=0,V=1;for(let F=0;F<this.g.length;F++){const ee=this.i(F);L+=(ee>=0?ee:4294967296+ee)*V,V*=4294967296}return L},t.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(D(this))return"0";if(M(this))return"-"+R(this).toString(L);const V=u(Math.pow(L,6));var F=this;let ee="";for(;;){const K=$(F,V).g;F=j(F,K.j(V));let Q=((F.g.length>0?F.g[0]:F.h)>>>0).toString(L);if(F=K,D(F))return Q+ee;for(;Q.length<6;)Q="0"+Q;ee=Q+ee}},t.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function D(L){if(L.h!=0)return!1;for(let V=0;V<L.g.length;V++)if(L.g[V]!=0)return!1;return!0}function M(L){return L.h==-1}t.l=function(L){return L=j(this,L),M(L)?-1:D(L)?0:1};function R(L){const V=L.g.length,F=[];for(let ee=0;ee<V;ee++)F[ee]=~L.g[ee];return new o(F,~L.h).add(_)}t.abs=function(){return M(this)?R(this):this},t.add=function(L){const V=Math.max(this.g.length,L.g.length),F=[];let ee=0;for(let K=0;K<=V;K++){let Q=ee+(this.i(K)&65535)+(L.i(K)&65535),X=(Q>>>16)+(this.i(K)>>>16)+(L.i(K)>>>16);ee=X>>>16,Q&=65535,X&=65535,F[K]=X<<16|Q}return new o(F,F[F.length-1]&-2147483648?-1:0)};function j(L,V){return L.add(R(V))}t.j=function(L){if(D(this)||D(L))return y;if(M(this))return M(L)?R(this).j(R(L)):R(R(this).j(L));if(M(L))return R(this.j(R(L)));if(this.l(I)<0&&L.l(I)<0)return u(this.m()*L.m());const V=this.g.length+L.g.length,F=[];for(var ee=0;ee<2*V;ee++)F[ee]=0;for(ee=0;ee<this.g.length;ee++)for(let K=0;K<L.g.length;K++){const Q=this.i(ee)>>>16,X=this.i(ee)&65535,ge=L.i(K)>>>16,oe=L.i(K)&65535;F[2*ee+2*K]+=X*oe,B(F,2*ee+2*K),F[2*ee+2*K+1]+=Q*oe,B(F,2*ee+2*K+1),F[2*ee+2*K+1]+=X*ge,B(F,2*ee+2*K+1),F[2*ee+2*K+2]+=Q*ge,B(F,2*ee+2*K+2)}for(L=0;L<V;L++)F[L]=F[2*L+1]<<16|F[2*L];for(L=V;L<2*V;L++)F[L]=0;return new o(F,0)};function B(L,V){for(;(L[V]&65535)!=L[V];)L[V+1]+=L[V]>>>16,L[V]&=65535,V++}function U(L,V){this.g=L,this.h=V}function $(L,V){if(D(V))throw Error("division by zero");if(D(L))return new U(y,y);if(M(L))return V=$(R(L),V),new U(R(V.g),R(V.h));if(M(V))return V=$(L,R(V)),new U(R(V.g),V.h);if(L.g.length>30){if(M(L)||M(V))throw Error("slowDivide_ only works with positive integers.");for(var F=_,ee=V;ee.l(L)<=0;)F=H(F),ee=H(ee);var K=G(F,1),Q=G(ee,1);for(ee=G(ee,2),F=G(F,2);!D(ee);){var X=Q.add(ee);X.l(L)<=0&&(K=K.add(F),Q=X),ee=G(ee,1),F=G(F,1)}return V=j(L,K.j(V)),new U(K,V)}for(K=y;L.l(V)>=0;){for(F=Math.max(1,Math.floor(L.m()/V.m())),ee=Math.ceil(Math.log(F)/Math.LN2),ee=ee<=48?1:Math.pow(2,ee-48),Q=u(F),X=Q.j(V);M(X)||X.l(L)>0;)F-=ee,Q=u(F),X=Q.j(V);D(Q)&&(Q=_),K=K.add(Q),L=j(L,X)}return new U(K,L)}t.B=function(L){return $(this,L).h},t.and=function(L){const V=Math.max(this.g.length,L.g.length),F=[];for(let ee=0;ee<V;ee++)F[ee]=this.i(ee)&L.i(ee);return new o(F,this.h&L.h)},t.or=function(L){const V=Math.max(this.g.length,L.g.length),F=[];for(let ee=0;ee<V;ee++)F[ee]=this.i(ee)|L.i(ee);return new o(F,this.h|L.h)},t.xor=function(L){const V=Math.max(this.g.length,L.g.length),F=[];for(let ee=0;ee<V;ee++)F[ee]=this.i(ee)^L.i(ee);return new o(F,this.h^L.h)};function H(L){const V=L.g.length+1,F=[];for(let ee=0;ee<V;ee++)F[ee]=L.i(ee)<<1|L.i(ee-1)>>>31;return new o(F,L.h)}function G(L,V){const F=V>>5;V%=32;const ee=L.g.length-F,K=[];for(let Q=0;Q<ee;Q++)K[Q]=V>0?L.i(Q+F)>>>V|L.i(Q+F+1)<<32-V:L.i(Q+F);return new o(K,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jB=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=m,Jc=o}).apply(typeof lP<"u"?lP:typeof self<"u"?self:typeof window<"u"?window:{});var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BB,Kp,UB,Cy,OS,FB,VB,zB;(function(){var t,e=Object.defineProperty;function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof ty=="object"&&ty];for(var z=0;z<S.length;++z){var Y=S[z];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(S,z){if(z)e:{var Y=r;S=S.split(".");for(var ae=0;ae<S.length-1;ae++){var xe=S[ae];if(!(xe in Y))break e;Y=Y[xe]}S=S[S.length-1],ae=Y[S],z=z(ae),z!=ae&&z!=null&&e(Y,S,{configurable:!0,writable:!0,value:z})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(z){var Y=[],ae;for(ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&Y.push([ae,z[ae]]);return Y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(S){var z=typeof S;return z=="object"&&S!=null||z=="function"}function d(S,z,Y){return S.call.apply(S.bind,arguments)}function u(S,z,Y){return u=d,u.apply(null,arguments)}function m(S,z){var Y=Array.prototype.slice.call(arguments,1);return function(){var ae=Y.slice();return ae.push.apply(ae,arguments),S.apply(this,ae)}}function y(S,z){function Y(){}Y.prototype=z.prototype,S.Z=z.prototype,S.prototype=new Y,S.prototype.constructor=S,S.Ob=function(ae,xe,Ne){for(var Ke=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Ke[Bt-2]=arguments[Bt];return z.prototype[xe].apply(ae,Ke)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function I(S){const z=S.length;if(z>0){const Y=Array(z);for(let ae=0;ae<z;ae++)Y[ae]=S[ae];return Y}return[]}function D(S,z){for(let ae=1;ae<arguments.length;ae++){const xe=arguments[ae];var Y=typeof xe;if(Y=Y!="object"?Y:xe?Array.isArray(xe)?"array":Y:"null",Y=="array"||Y=="object"&&typeof xe.length=="number"){Y=S.length||0;const Ne=xe.length||0;S.length=Y+Ne;for(let Ke=0;Ke<Ne;Ke++)S[Y+Ke]=xe[Ke]}else S.push(xe)}}class M{constructor(z,Y){this.i=z,this.j=Y,this.h=0,this.g=null}get(){let z;return this.h>0?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function R(S){o.setTimeout(()=>{throw S},0)}function j(){var S=L;let z=null;return S.g&&(z=S.g,S.g=S.g.next,S.g||(S.h=null),z.next=null),z}class B{constructor(){this.h=this.g=null}add(z,Y){const ae=U.get();ae.set(z,Y),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var U=new M(()=>new $,S=>S.reset());class ${constructor(){this.next=this.g=this.h=null}set(z,Y){this.h=z,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let H,G=!1,L=new B,V=()=>{const S=Promise.resolve(void 0);H=()=>{S.then(F)}};function F(){for(var S;S=j();){try{S.h.call(S.g)}catch(Y){R(Y)}var z=U;z.j(S),z.h<100&&(z.h++,S.next=z.g,z.g=S)}G=!1}function ee(){this.u=this.u,this.C=this.C}ee.prototype.u=!1,ee.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ee.prototype[Symbol.dispose]=function(){this.dispose()},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(S,z){this.type=S,this.g=this.target=z,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,z=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Y=()=>{};o.addEventListener("test",Y,z),o.removeEventListener("test",Y,z)}catch{}return S})();function X(S){return/^[\s\xa0]*$/.test(S)}function ge(S,z){K.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,z)}y(ge,K),ge.prototype.init=function(S,z){const Y=this.type=S.type,ae=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=z,z=S.relatedTarget,z||(Y=="mouseover"?z=S.fromElement:Y=="mouseout"&&(z=S.toElement)),this.relatedTarget=z,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),ie=0;function fe(S,z,Y,ae,xe){this.listener=S,this.proxy=null,this.src=z,this.type=Y,this.capture=!!ae,this.ha=xe,this.key=++ie,this.da=this.fa=!1}function Ae(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Oe(S,z,Y){for(const ae in S)z.call(Y,S[ae],ae,S)}function qe(S,z){for(const Y in S)z.call(void 0,S[Y],Y,S)}function ue(S){const z={};for(const Y in S)z[Y]=S[Y];return z}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(S,z){let Y,ae;for(let xe=1;xe<arguments.length;xe++){ae=arguments[xe];for(Y in ae)S[Y]=ae[Y];for(let Ne=0;Ne<pe.length;Ne++)Y=pe[Ne],Object.prototype.hasOwnProperty.call(ae,Y)&&(S[Y]=ae[Y])}}function Me(S){this.src=S,this.g={},this.h=0}Me.prototype.add=function(S,z,Y,ae,xe){const Ne=S.toString();S=this.g[Ne],S||(S=this.g[Ne]=[],this.h++);const Ke=Be(S,z,ae,xe);return Ke>-1?(z=S[Ke],Y||(z.fa=!1)):(z=new fe(z,this.src,Ne,!!ae,xe),z.fa=Y,S.push(z)),z};function Ze(S,z){const Y=z.type;if(Y in S.g){var ae=S.g[Y],xe=Array.prototype.indexOf.call(ae,z,void 0),Ne;(Ne=xe>=0)&&Array.prototype.splice.call(ae,xe,1),Ne&&(Ae(z),S.g[Y].length==0&&(delete S.g[Y],S.h--))}}function Be(S,z,Y,ae){for(let xe=0;xe<S.length;++xe){const Ne=S[xe];if(!Ne.da&&Ne.listener==z&&Ne.capture==!!Y&&Ne.ha==ae)return xe}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),vt={};function He(S,z,Y,ae,xe){if(Array.isArray(z)){for(let Ne=0;Ne<z.length;Ne++)He(S,z[Ne],Y,ae,xe);return null}return Y=wt(Y),S&&S[oe]?S.J(z,Y,c(ae)?!!ae.capture:!1,xe):mt(S,z,Y,!1,ae,xe)}function mt(S,z,Y,ae,xe,Ne){if(!z)throw Error("Invalid event type");const Ke=c(xe)?!!xe.capture:!!xe;let Bt=rt(S);if(Bt||(S[Rt]=Bt=new Me(S)),Y=Bt.add(z,Y,ae,Ke,Ne),Y.proxy)return Y;if(ae=lt(),Y.proxy=ae,ae.src=S,ae.listener=Y,S.addEventListener)Q||(xe=Ke),xe===void 0&&(xe=!1),S.addEventListener(z.toString(),ae,xe);else if(S.attachEvent)S.attachEvent(bt(z.toString()),ae);else if(S.addListener&&S.removeListener)S.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function lt(){function S(Y){return z.call(S.src,S.listener,Y)}const z=dt;return S}function Ue(S,z,Y,ae,xe){if(Array.isArray(z))for(var Ne=0;Ne<z.length;Ne++)Ue(S,z[Ne],Y,ae,xe);else ae=c(ae)?!!ae.capture:!!ae,Y=wt(Y),S&&S[oe]?(S=S.i,Ne=String(z).toString(),Ne in S.g&&(z=S.g[Ne],Y=Be(z,Y,ae,xe),Y>-1&&(Ae(z[Y]),Array.prototype.splice.call(z,Y,1),z.length==0&&(delete S.g[Ne],S.h--)))):S&&(S=rt(S))&&(z=S.g[z.toString()],S=-1,z&&(S=Be(z,Y,ae,xe)),(Y=S>-1?z[S]:null)&&ct(Y))}function ct(S){if(typeof S!="number"&&S&&!S.da){var z=S.src;if(z&&z[oe])Ze(z.i,S);else{var Y=S.type,ae=S.proxy;z.removeEventListener?z.removeEventListener(Y,ae,S.capture):z.detachEvent?z.detachEvent(bt(Y),ae):z.addListener&&z.removeListener&&z.removeListener(ae),(Y=rt(z))?(Ze(Y,S),Y.h==0&&(Y.src=null,z[Rt]=null)):Ae(S)}}}function bt(S){return S in vt?vt[S]:vt[S]="on"+S}function dt(S,z){if(S.da)S=!0;else{z=new ge(z,this);const Y=S.listener,ae=S.ha||S.src;S.fa&&ct(S),S=Y.call(ae,z)}return S}function rt(S){return S=S[Rt],S instanceof Me?S:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function wt(S){return typeof S=="function"?S:(S[gt]||(S[gt]=function(z){return S.handleEvent(z)}),S[gt])}function et(){ee.call(this),this.i=new Me(this),this.M=this,this.G=null}y(et,ee),et.prototype[oe]=!0,et.prototype.removeEventListener=function(S,z,Y,ae){Ue(this,S,z,Y,ae)};function qt(S,z){var Y,ae=S.G;if(ae)for(Y=[];ae;ae=ae.G)Y.push(ae);if(S=S.M,ae=z.type||z,typeof z=="string")z=new K(z,S);else if(z instanceof K)z.target=z.target||S;else{var xe=z;z=new K(ae,S),Te(z,xe)}xe=!0;let Ne,Ke;if(Y)for(Ke=Y.length-1;Ke>=0;Ke--)Ne=z.g=Y[Ke],xe=$e(Ne,ae,!0,z)&&xe;if(Ne=z.g=S,xe=$e(Ne,ae,!0,z)&&xe,xe=$e(Ne,ae,!1,z)&&xe,Y)for(Ke=0;Ke<Y.length;Ke++)Ne=z.g=Y[Ke],xe=$e(Ne,ae,!1,z)&&xe}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var S=this.i;for(const z in S.g){const Y=S.g[z];for(let ae=0;ae<Y.length;ae++)Ae(Y[ae]);delete S.g[z],S.h--}}this.G=null},et.prototype.J=function(S,z,Y,ae){return this.i.add(String(S),z,!1,Y,ae)},et.prototype.K=function(S,z,Y,ae){return this.i.add(String(S),z,!0,Y,ae)};function $e(S,z,Y,ae){if(z=S.i.g[String(z)],!z)return!0;z=z.concat();let xe=!0;for(let Ne=0;Ne<z.length;++Ne){const Ke=z[Ne];if(Ke&&!Ke.da&&Ke.capture==Y){const Bt=Ke.listener,xr=Ke.ha||Ke.src;Ke.fa&&Ze(S.i,Ke),xe=Bt.call(xr,ae)!==!1&&xe}}return xe&&!ae.defaultPrevented}function or(S,z){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=u(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(z)>2147483647?-1:o.setTimeout(S,z||0)}function nr(S){S.g=or(()=>{S.g=null,S.i&&(S.i=!1,nr(S))},S.l);const z=S.h;S.h=null,S.m.apply(null,z)}class cn extends ee{constructor(z,Y){super(),this.m=z,this.l=Y,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(S){ee.call(this),this.h=S,this.g={}}y(Hn,ee);var hr=[];function Da(S){Oe(S.g,function(z,Y){this.g.hasOwnProperty(Y)&&ct(z)},S),S.g={}}Hn.prototype.N=function(){Hn.Z.N.call(this),Da(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=o.JSON.stringify,Ir=o.JSON.parse,hs=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function ht(){}function en(){}var Wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){K.call(this,"d")}y(Ge,K);function It(){K.call(this,"c")}y(It,K);var xt={},un=null;function ei(){return un=un||new et}xt.Ia="serverreachability";function lo(S){K.call(this,xt.Ia,S)}y(lo,K);function Qi(S){const z=ei();qt(z,new lo(z))}xt.STAT_EVENT="statevent";function Zt(S,z){K.call(this,xt.STAT_EVENT,S),this.stat=z}y(Zt,K);function qn(S){const z=ei();qt(z,new Zt(z,S))}xt.Ja="timingevent";function ka(S,z){K.call(this,xt.Ja,S),this.size=z}y(ka,K);function La(S,z){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},z)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function _u(S,z,Y,ae,xe,Ne){S.info(function(){if(S.g)if(Ne){var Ke="",Bt=Ne.split("&");for(let vn=0;vn<Bt.length;vn++){var xr=Bt[vn].split("=");if(xr.length>1){const Xn=xr[0];xr=xr[1];const ta=Xn.split("_");Ke=ta.length>=2&&ta[1]=="type"?Ke+(Xn+"="+xr+"&"):Ke+(Xn+"=redacted&")}}}else Ke=null;else Ke=Ne;return"XMLHTTP REQ ("+ae+") [attempt "+xe+"]: "+z+`
`+Y+`
`+Ke})}function Lr(S,z,Y,ae,xe,Ne,Ke){S.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+xe+"]: "+z+`
`+Y+`
`+Ne+" "+Ke})}function vi(S,z,Y,ae){S.info(function(){return"XMLHTTP TEXT ("+z+"): "+ga(S,Y)+(ae?" "+ae:"")})}function co(S,z){S.info(function(){return"TIMEOUT: "+z})}Ar.prototype.info=function(){};function ga(S,z){if(!S.g)return z;if(!z)return null;try{const Ne=JSON.parse(z);if(Ne){for(S=0;S<Ne.length;S++)if(Array.isArray(Ne[S])){var Y=Ne[S];if(!(Y.length<2)){var ae=Y[1];if(Array.isArray(ae)&&!(ae.length<1)){var xe=ae[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let Ke=1;Ke<ae.length;Ke++)ae[Ke]=""}}}}return zr(Ne)}catch{return z}}var Gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ja={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$s;function Nr(){}y(Nr,ht),Nr.prototype.g=function(){return new XMLHttpRequest},$s=new Nr;function xi(S){return encodeURIComponent(String(S))}function bi(S){var z=1;S=S.split(":");const Y=[];for(;z>0&&S.length;)Y.push(S.shift()),z--;return S.length&&Y.push(S.join(":")),Y}function Je(S,z,Y,ae){this.j=S,this.i=z,this.l=Y,this.S=ae||1,this.V=new Hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var pr={},_n={};function wi(S,z,Y){S.M=1,S.A=Li(gr(z)),S.u=Y,S.R=!0,zo(S,null)}function zo(S,z){S.F=Date.now(),uo(S),S.B=gr(S.A);var Y=S.B,ae=S.S;Array.isArray(ae)||(ae=[String(ae)]),kn(Y.i,"t",ae),S.C=0,Y=S.j.L,S.h=new ci,S.g=cc(S.j,Y?z:null,!S.u),S.P>0&&(S.O=new cn(u(S.Y,S,S.g),S.P)),z=S.V,Y=S.g,ae=S.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(hr[0]=xe.toString()),xe=hr);for(let Ne=0;Ne<xe.length;Ne++){const Ke=He(Y,xe[Ne],ae||z.handleEvent,!1,z.h||z);if(!Ke)break;z.g[Ke.key]=Ke}z=S.J?ue(S.J):{},S.u?(S.v||(S.v="POST"),z["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,z)):(S.v="GET",S.g.ea(S.B,S.v,null,z)),Qi(),_u(S.i,S.v,S.B,S.l,S.S,S.u)}Je.prototype.ba=function(S){S=S.target;const z=this.O;z&&xa(S)==3?z.j():this.Y(S)},Je.prototype.Y=function(S){try{if(S==this.g)e:{const Bt=xa(this.g),xr=this.g.ya(),vn=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||Tr(this.g)))){this.K||Bt!=4||xr==7||(xr==8||vn<=0?Qi(3):Qi(2)),rr(this);var z=this.g.ca();this.X=z;var Y=ic(this);if(this.o=z==200,Lr(this.i,this.v,this.B,this.l,this.S,Bt,z),this.o){if(this.U&&!this.L){t:{if(this.g){var ae,xe=this.g;if((ae=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ae)){var Ne=ae;break t}}Ne=null}if(S=Ne)vi(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,S);else{this.o=!1,this.m=3,qn(12),ki(this),rn(this);break e}}if(this.R){S=!0;let Xn;for(;!this.K&&this.C<Y.length;)if(Xn=Pf(this,Y),Xn==_n){Bt==4&&(this.m=4,qn(14),S=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==pr){this.m=4,qn(15),vi(this.i,this.l,Y,"[Invalid Chunk]"),S=!1;break}else vi(this.i,this.l,Xn,null),ti(this,Xn);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||Y.length!=0||this.h.h||(this.m=1,qn(16),S=!1),this.o=this.o&&S,!S)vi(this.i,this.l,Y,"[Invalid Chunked Response]"),ki(this),rn(this);else if(Y.length>0&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.aa&&!Ke.P&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Ce(Ke),Ke.P=!0,qn(11))}}else vi(this.i,this.l,Y,null),ti(this,Y);Bt==4&&ki(this),this.o&&!this.K&&(Bt==4?Js(this.j,this):(this.o=!1,uo(this)))}else ea(this.g),z==400&&Y.indexOf("Unknown SID")>0?(this.m=3,qn(12)):(this.m=0,qn(13)),ki(this),rn(this)}}}catch{}finally{}};function ic(S){if(!Ji(S))return S.g.la();const z=Tr(S.g);if(z==="")return"";let Y="";const ae=z.length,xe=xa(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return ki(S),rn(S),"";S.h.i=new o.TextDecoder}for(let Ne=0;Ne<ae;Ne++)S.h.h=!0,Y+=S.h.i.decode(z[Ne],{stream:!(xe&&Ne==ae-1)});return z.length=0,S.h.g+=Y,S.C=0,S.h.g}function Ji(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function Pf(S,z){var Y=S.C,ae=z.indexOf(`
`,Y);return ae==-1?_n:(Y=Number(z.substring(Y,ae)),isNaN(Y)?pr:(ae+=1,ae+Y>z.length?_n:(z=z.slice(ae,ae+Y),S.C=ae+Y,z)))}Je.prototype.cancel=function(){this.K=!0,ki(this)};function uo(S){S.T=Date.now()+S.H,_i(S,S.H)}function _i(S,z){if(S.D!=null)throw Error("WatchDog timer not null");S.D=La(u(S.aa,S),z)}function rr(S){S.D&&(o.clearTimeout(S.D),S.D=null)}Je.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(co(this.i,this.B),this.M!=2&&(Qi(),qn(17)),ki(this),this.m=2,rn(this)):_i(this,this.T-S)};function rn(S){S.j.I==0||S.K||Js(S.j,S)}function ki(S){rr(S);var z=S.O;z&&typeof z.dispose=="function"&&z.dispose(),S.O=null,Da(S.V),S.g&&(z=S.g,S.g=null,z.abort(),z.dispose())}function ti(S,z){try{var Y=S.j;if(Y.I!=0&&(Y.g==S||Ai(Y.h,S))){if(!S.L&&Ai(Y.h,S)&&Y.I==3){try{var ae=Y.Ba.g.parse(z)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var xe=ae;if(xe[0]==0){e:if(!Y.v){if(Y.g)if(Y.g.F+3e3<S.F)yr(Y),Go(Y);else break e;Qs(Y),qn(18)}}else Y.xa=xe[1],0<Y.xa-Y.K&&xe[2]<37500&&Y.F&&Y.A==0&&!Y.C&&(Y.C=La(u(Y.Va,Y),6e3));An(Y.h)<=1&&Y.ta&&(Y.ta=void 0)}else po(Y,11)}else if((S.L||Y.g==S)&&yr(Y),!X(z))for(xe=Y.Ba.g.parse(z),z=0;z<xe.length;z++){let vn=xe[z];const Xn=vn[0];if(!(Xn<=Y.K))if(Y.K=Xn,vn=vn[1],Y.I==2)if(vn[0]=="c"){Y.M=vn[1],Y.ba=vn[2];const ta=vn[3];ta!=null&&(Y.ka=ta,Y.j.info("VER="+Y.ka));const yo=vn[4];yo!=null&&(Y.za=yo,Y.j.info("SVER="+Y.za));const fi=vn[5];fi!=null&&typeof fi=="number"&&fi>0&&(ae=1.5*fi,Y.O=ae,Y.j.info("backChannelRequestTimeoutMs_="+ae)),ae=Y;const na=S.g;if(na){const el=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var Ne=ae.h;Ne.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Eu(Ne,Ne.h),Ne.h=null))}if(ae.G){const vo=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(ae.wa=vo,Ot(ae.J,ae.G,vo))}}Y.I=3,Y.l&&Y.l.ra(),Y.aa&&(Y.T=Date.now()-S.F,Y.j.info("Handshake RTT: "+Y.T+"ms")),ae=Y;var Ke=S;if(ae.na=kf(ae,ae.L?ae.ba:null,ae.W),Ke.L){fn(ae.h,Ke);var Bt=Ke,xr=ae.O;xr&&(Bt.H=xr),Bt.D&&(rr(Bt),uo(Bt)),ae.g=Ke}else Va(ae);Y.i.length>0&&ho(Y)}else vn[0]!="stop"&&vn[0]!="close"||po(Y,7);else Y.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?po(Y,7):oc(Y):vn[0]!="noop"&&Y.l&&Y.l.qa(vn),Y.A=0)}}Qi(4)}catch{}}var mr=class{constructor(S,z){this.g=S,this.map=z}};function Fe(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Au(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function An(S){return S.h?1:S.g?S.g.size:0}function Ai(S,z){return S.h?S.h==z:S.g?S.g.has(z):!1}function Eu(S,z){S.g?S.g.add(z):S.h=z}function fn(S,z){S.h&&S.h==z?S.h=null:S.g&&S.g.has(z)&&S.g.delete(z)}Fe.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function an(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let z=S.i;for(const Y of S.g.values())z=z.concat(Y.G);return z}return I(S.i)}var Qt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(S,z){if(S){S=S.split("&");for(let Y=0;Y<S.length;Y++){const ae=S[Y].indexOf("=");let xe,Ne=null;ae>=0?(xe=S[Y].substring(0,ae),Ne=S[Y].substring(ae+1)):xe=S[Y],z(xe,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function Ei(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let z;S instanceof Ei?(this.l=S.l,tn(this,S.j),this.o=S.o,this.g=S.g,Si(this,S.u),this.h=S.h,Su(this,Tu(S.i)),this.m=S.m):S&&(z=String(S).match(Qt))?(this.l=!1,tn(this,z[1]||"",!0),this.o=fo(z[2]||""),this.g=fo(z[3]||"",!0),Si(this,z[4]),this.h=fo(z[5]||"",!0),Su(this,z[6]||"",!0),this.m=fo(z[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}Ei.prototype.toString=function(){const S=[];var z=this.j;z&&S.push(ya(z,Er,!0),":");var Y=this.g;return(Y||z=="file")&&(S.push("//"),(z=this.o)&&S.push(ya(z,Er,!0),"@"),S.push(xi(Y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.u,Y!=null&&S.push(":",String(Y))),(Y=this.h)&&(this.g&&Y.charAt(0)!="/"&&S.push("/"),S.push(ya(Y,Y.charAt(0)=="/"?se:we,!0))),(Y=this.i.toString())&&S.push("?",Y),(Y=this.m)&&S.push("#",ya(Y,Sr)),S.join("")},Ei.prototype.resolve=function(S){const z=gr(this);let Y=!!S.j;Y?tn(z,S.j):Y=!!S.o,Y?z.o=S.o:Y=!!S.g,Y?z.g=S.g:Y=S.u!=null;var ae=S.h;if(Y)Si(z,S.u);else if(Y=!!S.h){if(ae.charAt(0)!="/")if(this.g&&!this.h)ae="/"+ae;else{var xe=z.h.lastIndexOf("/");xe!=-1&&(ae=z.h.slice(0,xe+1)+ae)}if(xe=ae,xe==".."||xe==".")ae="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){ae=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const Ne=[];for(let Ke=0;Ke<xe.length;){const Bt=xe[Ke++];Bt=="."?ae&&Ke==xe.length&&Ne.push(""):Bt==".."?((Ne.length>1||Ne.length==1&&Ne[0]!="")&&Ne.pop(),ae&&Ke==xe.length&&Ne.push("")):(Ne.push(Bt),ae=!0)}ae=Ne.join("/")}else ae=xe}return Y?z.h=ae:Y=S.i.toString()!=="",Y?Su(z,Tu(S.i)):Y=!!S.m,Y&&(z.m=S.m),z};function gr(S){return new Ei(S)}function tn(S,z,Y){S.j=Y?fo(z,!0):z,S.j&&(S.j=S.j.replace(/:$/,""))}function Si(S,z){if(z){if(z=Number(z),isNaN(z)||z<0)throw Error("Bad port number "+z);S.u=z}else S.u=null}function Su(S,z,Y){z instanceof jr?(S.i=z,gs(S.i,S.l)):(Y||(z=ya(z,ut)),S.i=new jr(z,S.l))}function Ot(S,z,Y){S.i.set(z,Y)}function Li(S){return Ot(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function fo(S,z){return S?z?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function ya(S,z,Y){return typeof S=="string"?(S=encodeURI(S).replace(z,Kt),Y&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Kt(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Er=/[#\/\?@]/g,we=/[#\?:]/g,se=/[#\?]/g,ut=/[#\?@]/g,Sr=/#/g;function jr(S,z){this.h=this.g=null,this.i=S||null,this.j=!!z}function ji(S){S.g||(S.g=new Map,S.h=0,S.i&&ps(S.i,function(z,Y){S.add(decodeURIComponent(z.replace(/\+/g," ")),Y)}))}t=jr.prototype,t.add=function(S,z){ji(this),this.i=null,S=ms(this,S);let Y=this.g.get(S);return Y||this.g.set(S,Y=[]),Y.push(z),this.h+=1,this};function ac(S,z){ji(S),z=ms(S,z),S.g.has(z)&&(S.i=null,S.h-=S.g.get(z).length,S.g.delete(z))}function ui(S,z){return ji(S),z=ms(S,z),S.g.has(z)}t.forEach=function(S,z){ji(this),this.g.forEach(function(Y,ae){Y.forEach(function(xe){S.call(z,xe,ae,this)},this)},this)};function yt(S,z){ji(S);let Y=[];if(typeof z=="string")ui(S,z)&&(Y=Y.concat(S.g.get(ms(S,z))));else for(S=Array.from(S.g.values()),z=0;z<S.length;z++)Y=Y.concat(S[z]);return Y}t.set=function(S,z){return ji(this),this.i=null,S=ms(this,S),ui(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[z]),this.h+=1,this},t.get=function(S,z){return S?(S=yt(this,S),S.length>0?String(S[0]):z):z};function kn(S,z,Y){ac(S,z),Y.length>0&&(S.i=null,S.g.set(ms(S,z),I(Y)),S.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],z=Array.from(this.g.keys());for(let ae=0;ae<z.length;ae++){var Y=z[ae];const xe=xi(Y);Y=yt(this,Y);for(let Ne=0;Ne<Y.length;Ne++){let Ke=xe;Y[Ne]!==""&&(Ke+="="+xi(Y[Ne])),S.push(Ke)}}return this.i=S.join("&")};function Tu(S){const z=new jr;return z.i=S.i,S.g&&(z.g=new Map(S.g),z.h=S.h),z}function ms(S,z){return z=String(z),S.j&&(z=z.toLowerCase()),z}function gs(S,z){z&&!S.j&&(ji(S),S.i=null,S.g.forEach(function(Y,ae){const xe=ae.toLowerCase();ae!=xe&&(ac(this,ae),kn(this,xe,Y))},S)),S.j=z}function Bi(S,z){const Y=new Ar;if(o.Image){const ae=new Image;ae.onload=m(va,Y,"TestLoadImage: loaded",!0,z,ae),ae.onerror=m(va,Y,"TestLoadImage: error",!1,z,ae),ae.onabort=m(va,Y,"TestLoadImage: abort",!1,z,ae),ae.ontimeout=m(va,Y,"TestLoadImage: timeout",!1,z,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=S}else z(!1)}function Ws(S,z){const Y=new Ar,ae=new AbortController,xe=setTimeout(()=>{ae.abort(),va(Y,"TestPingServer: timeout",!1,z)},1e4);fetch(S,{signal:ae.signal}).then(Ne=>{clearTimeout(xe),Ne.ok?va(Y,"TestPingServer: ok",!0,z):va(Y,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(xe),va(Y,"TestPingServer: error",!1,z)})}function va(S,z,Y,ae,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ae(Y)}catch{}}function Kn(){this.g=new hs}function Ui(S){this.i=S.Sb||null,this.h=S.ab||!1}y(Ui,ht),Ui.prototype.g=function(){return new Fi(this.i,this.h)};function Fi(S,z){et.call(this),this.H=S,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Fi,et),t=Fi.prototype,t.open=function(S,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=z,this.readyState=1,Nt(this)},t.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const z={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(z.body=S),(this.H||o).fetch(new Request(this.D,z)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},t.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function _t(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}t.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var z=S.value?S.value:new Uint8Array(0);(z=this.B.decode(z,{stream:!S.done}))&&(this.response=this.responseText+=z)}S.done?ys(this):Nt(this),this.readyState==3&&_t(this)}},t.Oa=function(S){this.g&&(this.response=this.responseText=S,ys(this))},t.Na=function(S){this.g&&(this.response=S,ys(this))},t.ga=function(){this.g&&ys(this)};function ys(S){S.readyState=4,S.l=null,S.j=null,S.B=null,Nt(S)}t.setRequestHeader=function(S,z){this.A.append(S,z)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],z=this.h.entries();for(var Y=z.next();!Y.done;)Y=Y.value,S.push(Y[0]+": "+Y[1]),Y=z.next();return S.join(`\r
`)};function Nt(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Ln(S){let z="";return Oe(S,function(Y,ae){z+=ae,z+=":",z+=Y,z+=`\r
`}),z}function Ys(S,z,Y){e:{for(ae in Y){var ae=!1;break e}ae=!0}ae||(Y=Ln(Y),typeof S=="string"?Y!=null&&xi(Y):Ot(S,z,Y))}function Sn(S){et.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Sn,et);var Ba=/^https?$/i,Ua=["POST","PUT"];t=Sn.prototype,t.Fa=function(S){this.H=S},t.ea=function(S,z,Y,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);z=z?z.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$s.g(),this.g.onreadystatechange=_(u(this.Ca,this));try{this.B=!0,this.g.open(z,String(S),!0),this.B=!1}catch(Ne){Ks(this,Ne);return}if(S=Y||"",Y=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var xe in ae)Y.set(xe,ae[xe]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Ne of ae.keys())Y.set(Ne,ae.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(Y.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),xe=o.FormData&&S instanceof o.FormData,!(Array.prototype.indexOf.call(Ua,z,void 0)>=0)||ae||xe||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,Ke]of Y)this.g.setRequestHeader(Ne,Ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(Ne){Ks(this,Ne)}};function Ks(S,z){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=z,S.o=5,Ho(S),Zi(S)}function Ho(S){S.A||(S.A=!0,qt(S,"complete"),qt(S,"error"))}t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,qt(this,"complete"),qt(this,"abort"),Zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),Sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},t.Xa=function(){Fa(this)};function Fa(S){if(S.h&&typeof a<"u"){if(S.v&&xa(S)==4)setTimeout(S.Ca.bind(S),0);else if(qt(S,"readystatechange"),xa(S)==4){S.h=!1;try{const Ne=S.ca();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Y;if(!(Y=z)){var ae;if(ae=Ne===0){let Ke=String(S.D).match(Qt)[1]||null;!Ke&&o.self&&o.self.location&&(Ke=o.self.location.protocol.slice(0,-1)),ae=!Ba.test(Ke?Ke.toLowerCase():"")}Y=ae}if(Y)qt(S,"complete"),qt(S,"success");else{S.o=6;try{var xe=xa(S)>2?S.g.statusText:""}catch{xe=""}S.l=xe+" ["+S.ca()+"]",Ho(S)}}finally{Zi(S)}}}}function Zi(S,z){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const Y=S.g;S.g=null,z||qt(S,"ready");try{Y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xa(S){return S.g?S.g.readyState:0}t.ca=function(){try{return xa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(S){if(this.g){var z=this.g.responseText;return S&&z.indexOf(S)==0&&(z=z.substring(S.length)),Ir(z)}};function Tr(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(S){const z={};S=(S.g&&xa(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<S.length;ae++){if(X(S[ae]))continue;var Y=bi(S[ae]);const xe=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Ne=z[xe]||[];z[xe]=Ne,Ne.push(Y)}qe(z,function(ae){return ae.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(S,z,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[S]||z}function qo(S){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,S),this.Za=sr("retryDelaySeedMs",1e4,S),this.Ta=sr("forwardChannelMaxRetries",2,S),this.va=sr("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new Fe(S&&S.concurrentRequestLimit),this.Ba=new Kn,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qo.prototype,t.ka=8,t.I=1,t.connect=function(S,z,Y,ae){qn(0),this.W=S,this.H=z||{},Y&&ae!==void 0&&(this.H.OSID=Y,this.H.OAID=ae),this.F=this.X,this.J=kf(this,null,this.W),ho(this)};function oc(S){if(sc(S),S.I==3){var z=S.V++,Y=gr(S.J);if(Ot(Y,"SID",S.M),Ot(Y,"RID",z),Ot(Y,"TYPE","terminate"),vs(S,Y),z=new Je(S,S.j,z),z.M=2,z.A=Li(gr(Y)),Y=!1,o.navigator&&o.navigator.sendBeacon)try{Y=o.navigator.sendBeacon(z.A.toString(),"")}catch{}!Y&&o.Image&&(new Image().src=z.A,Y=!0),Y||(z.g=cc(z.j,null),z.g.ea(z.A)),z.F=Date.now(),uo(z)}Df(S)}function Go(S){S.g&&(Ce(S),S.g.cancel(),S.g=null)}function sc(S){Go(S),S.v&&(o.clearTimeout(S.v),S.v=null),yr(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&o.clearTimeout(S.m),S.m=null)}function ho(S){if(!Au(S.h)&&!S.m){S.m=!0;var z=S.Ea;H||V(),G||(H(),G=!0),L.add(z,S),S.D=0}}function lc(S,z){return An(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=z.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=La(u(S.Ea,S,z),Cu(S,S.D)),S.D++,!0)}t.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const xe=new Je(this,this.j,S);let Ne=this.o;if(this.U&&(Ne?(Ne=ue(Ne),Te(Ne,this.U)):Ne=this.U),this.u!==null||this.R||(xe.J=Ne,Ne=null),this.S)e:{for(var z=0,Y=0;Y<this.i.length;Y++){t:{var ae=this.i[Y];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(z+=ae,z>4096){z=Y;break e}if(z===4096||Y===this.i.length-1){z=Y+1;break e}}z=1e3}else z=1e3;z=Xs(this,xe,z),Y=gr(this.J),Ot(Y,"RID",S),Ot(Y,"CVER",22),this.G&&Ot(Y,"X-HTTP-Session-Id",this.G),vs(this,Y),Ne&&(this.R?z="headers="+xi(Ln(Ne))+"&"+z:this.u&&Ys(Y,this.u,Ne)),Eu(this.h,xe),this.Ra&&Ot(Y,"TYPE","init"),this.S?(Ot(Y,"$req",z),Ot(Y,"SID","null"),xe.U=!0,wi(xe,Y,null)):wi(xe,Y,z),this.I=2}}else this.I==3&&(S?bn(this,S):this.i.length==0||Au(this.h)||bn(this))};function bn(S,z){var Y;z?Y=z.l:Y=S.V++;const ae=gr(S.J);Ot(ae,"SID",S.M),Ot(ae,"RID",Y),Ot(ae,"AID",S.K),vs(S,ae),S.u&&S.o&&Ys(ae,S.u,S.o),Y=new Je(S,S.j,Y,S.D+1),S.u===null&&(Y.J=S.o),z&&(S.i=z.G.concat(S.i)),z=Xs(S,Y,1e3),Y.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),Eu(S.h,Y),wi(Y,ae,z)}function vs(S,z){S.H&&Oe(S.H,function(Y,ae){Ot(z,ae,Y)}),S.l&&Oe({},function(Y,ae){Ot(z,ae,Y)})}function Xs(S,z,Y){Y=Math.min(S.i.length,Y);const ae=S.l?u(S.l.Ka,S.l,S):null;e:{var xe=S.i;let Bt=-1;for(;;){const xr=["count="+Y];Bt==-1?Y>0?(Bt=xe[0].g,xr.push("ofs="+Bt)):Bt=0:xr.push("ofs="+Bt);let vn=!0;for(let Xn=0;Xn<Y;Xn++){var Ne=xe[Xn].g;const ta=xe[Xn].map;if(Ne-=Bt,Ne<0)Bt=Math.max(0,xe[Xn].g-100),vn=!1;else try{Ne="req"+Ne+"_"||"";try{var Ke=ta instanceof Map?ta:Object.entries(ta);for(const[yo,fi]of Ke){let na=fi;c(fi)&&(na=zr(fi)),xr.push(Ne+yo+"="+encodeURIComponent(na))}}catch(yo){throw xr.push(Ne+"type="+encodeURIComponent("_badmap")),yo}}catch{ae&&ae(ta)}}if(vn){Ke=xr.join("&");break e}}Ke=void 0}return S=S.i.splice(0,Y),z.G=S,Ke}function Va(S){if(!S.g&&!S.v){S.Y=1;var z=S.Da;H||V(),G||(H(),G=!0),L.add(z,S),S.A=0}}function Qs(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=La(u(S.Da,S),Cu(S,S.A)),S.A++,!0)}t.Da=function(){if(this.v=null,Gt(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=La(u(this.Wa,this),S)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qn(10),Go(this),Gt(this))};function Ce(S){S.B!=null&&(o.clearTimeout(S.B),S.B=null)}function Gt(S){S.g=new Je(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var z=gr(S.na);Ot(z,"RID","rpc"),Ot(z,"SID",S.M),Ot(z,"AID",S.K),Ot(z,"CI",S.F?"0":"1"),!S.F&&S.ia&&Ot(z,"TO",S.ia),Ot(z,"TYPE","xmlhttp"),vs(S,z),S.u&&S.o&&Ys(z,S.u,S.o),S.O&&(S.g.H=S.O);var Y=S.g;S=S.ba,Y.M=1,Y.A=Li(gr(z)),Y.u=null,Y.R=!0,zo(Y,S)}t.Va=function(){this.C!=null&&(this.C=null,Go(this),Qs(this),qn(19))};function yr(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function Js(S,z){var Y=null;if(S.g==z){yr(S),Ce(S),S.g=null;var ae=2}else if(Ai(S.h,z))Y=z.G,fn(S.h,z),ae=1;else return;if(S.I!=0){if(z.o)if(ae==1){Y=z.u?z.u.length:0,z=Date.now()-z.F;var xe=S.D;ae=ei(),qt(ae,new ka(ae,Y)),ho(S)}else Va(S);else if(xe=z.m,xe==3||xe==0&&z.X>0||!(ae==1&&lc(S,z)||ae==2&&Qs(S)))switch(Y&&Y.length>0&&(z=S.h,z.i=z.i.concat(Y)),xe){case 1:po(S,5);break;case 4:po(S,10);break;case 3:po(S,6);break;default:po(S,2)}}}function Cu(S,z){let Y=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(Y*=2),Y*z}function po(S,z){if(S.j.info("Error code "+z),z==2){var Y=u(S.bb,S),ae=S.Ua;const xe=!ae;ae=new Ei(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||tn(ae,"https"),Li(ae),xe?Bi(ae.toString(),Y):Ws(ae.toString(),Y)}else qn(2);S.I=0,S.l&&S.l.pa(z),Df(S),sc(S)}t.bb=function(S){S?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))};function Df(S){if(S.I=0,S.ja=[],S.l){const z=an(S.h);(z.length!=0||S.i.length!=0)&&(D(S.ja,z),D(S.ja,S.i),S.h.i.length=0,I(S.i),S.i.length=0),S.l.oa()}}function kf(S,z,Y){var ae=Y instanceof Ei?gr(Y):new Ei(Y);if(ae.g!="")z&&(ae.g=z+"."+ae.g),Si(ae,ae.u);else{var xe=o.location;ae=xe.protocol,z=z?z+"."+xe.hostname:xe.hostname,xe=+xe.port;const Ne=new Ei(null);ae&&tn(Ne,ae),z&&(Ne.g=z),xe&&Si(Ne,xe),Y&&(Ne.h=Y),ae=Ne}return Y=S.G,z=S.wa,Y&&z&&Ot(ae,Y,z),Ot(ae,"VER",S.ka),vs(S,ae),ae}function cc(S,z,Y){if(z&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return z=S.Aa&&!S.ma?new Sn(new Ui({ab:Y})):new Sn(S.ma),z.Fa(S.L),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vr(){}t=vr.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mo(){}mo.prototype.g=function(S,z){return new nn(S,z)};function nn(S,z){et.call(this),this.g=new qo(z),this.l=S,this.h=z&&z.messageUrlParams||null,S=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(S?S["X-WebChannel-Content-Type"]=z.messageContentType:S={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.sa&&(S?S["X-WebChannel-Client-Profile"]=z.sa:S={"X-WebChannel-Client-Profile":z.sa}),this.g.U=S,(S=z&&z.Qb)&&!X(S)&&(this.g.u=S),this.A=z&&z.supportsCrossDomainXhr||!1,this.v=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!X(z)&&(this.g.G=z,S=this.h,S!==null&&z in S&&(S=this.h,z in S&&delete S[z])),this.j=new on(this)}y(nn,et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){oc(this.g)},nn.prototype.o=function(S){var z=this.g;if(typeof S=="string"){var Y={};Y.__data__=S,S=Y}else this.v&&(Y={},Y.__data__=zr(S),S=Y);z.i.push(new mr(z.Ya++,S)),z.I==3&&ho(z)},nn.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,nn.Z.N.call(this)};function Zs(S){Ge.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var z=S.__sm__;if(z){e:{for(const Y in z){S=Y;break e}S=void 0}(this.i=S)&&(S=this.i,z=z!==null&&S in z?z[S]:void 0),this.data=z}else this.data=S}y(Zs,Ge);function go(){It.call(this),this.status=1}y(go,It);function on(S){this.g=S}y(on,vr),on.prototype.ra=function(){qt(this.g,"a")},on.prototype.qa=function(S){qt(this.g,new Zs(S))},on.prototype.pa=function(S){qt(this.g,new go)},on.prototype.oa=function(){qt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,zB=function(){return new mo},VB=function(){return ei()},FB=xt,OS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Cy=Gs,ja.COMPLETE="complete",UB=ja,en.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",et.prototype.listen=et.prototype.J,Kp=en,Sn.prototype.listenOnce=Sn.prototype.K,Sn.prototype.getLastError=Sn.prototype.Ha,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.ca,Sn.prototype.getResponseJson=Sn.prototype.La,Sn.prototype.getResponseText=Sn.prototype.la,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Fa,BB=Sn}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});const cP="@firebase/firestore",uP="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new HC("@firebase/firestore");function gd(){return pf.logLevel}function it(t,...e){if(pf.logLevel<=mn.DEBUG){const n=e.map($C);pf.debug(`Firestore (${Oh}): ${t}`,...n)}}function Ul(t,...e){if(pf.logLevel<=mn.ERROR){const n=e.map($C);pf.error(`Firestore (${Oh}): ${t}`,...n)}}function Ud(t,...e){if(pf.logLevel<=mn.WARN){const n=e.map($C);pf.warn(`Firestore (${Oh}): ${t}`,...n)}}function $C(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HB(t,r,n)}function HB(t,e,n){let r=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ul(r),new Error(r)}function Dn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HB(e,i,r)}function Ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Ql{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ire{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($i.UNAUTHENTICATED)))}shutdown(){}}class Nre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Rre{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Dn(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Os,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Os)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dn(typeof r.accessToken=="string",31837,{l:r}),new qB(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dn(e===null||typeof e=="string",2055,{h:e}),new $i(e)}}class Ore{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mre{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ore(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pre{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,to(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Dn(this.o===void 0,3512);const r=a=>{a.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,it("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Dre(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function gn(t,e){return t<e?-1:t>e?1:0}function MS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Fw(i)===Fw(a)?gn(i,a):Fw(i)?1:-1}return gn(t.length,e.length)}const kre=55296,Lre=57343;function Fw(t){const e=t.charCodeAt(0);return e>=kre&&e<=Lre}function Fd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="__name__";class Cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&kt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&kt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Cs.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return gn(e.length,n.length)}static compareSegments(e,n){const r=Cs.isNumericId(e),i=Cs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):MS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jc.fromString(e.substring(4,e.length-2))}}class Jn extends Cs{construct(e,n,r){return new Jn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Jn(n)}static emptyPath(){return new Jn([])}}const jre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends Cs{construct(e,n,r){return new Pi(e,n,r)}static isValidIdentifier(e){return jre.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dP}static keyField(){return new Pi([dP])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new tt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new tt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new tt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new tt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(n)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Jn.fromString(e))}static fromName(e){return new Tt(Jn.fromString(e).popFirst(5))}static empty(){return new Tt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Jn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e,n){if(!n)throw new tt(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bre(t,e,n,r){if(e===!0&&r===!0)throw new tt(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hP(t){if(!Tt.isDocumentKey(t))throw new tt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pP(t){if(Tt.isDocumentKey(t))throw new tt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pv(t);throw new tt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ure(t,e){if(e<=0)throw new tt(Le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){const n={typeString:t};return e&&(n.value=e),n}function A0(t,e){if(!GB(t))throw new tt(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new tt(Le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=-62135596800,gP=1e6;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gP);return new dr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mP)throw new tt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gP}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(A0(e,dr._jsonSchema))return new dr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dr._jsonSchemaVersion="firestore/timestamp/1.0",dr._jsonSchema={type:Qr("string",dr._jsonSchemaVersion),seconds:Qr("number"),nanoseconds:Qr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(e){return new zt(e)}static min(){return new zt(new dr(0,0))}static max(){return new zt(new dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-1;function Fre(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=zt.fromTimestamp(r===1e9?new dr(n+1,0):new dr(n,r));return new iu(i,Tt.empty(),e)}function Vre(t){return new iu(t.readTime,t.key,Em)}class iu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new iu(zt.min(),Tt.empty(),Em)}static max(){return new iu(zt.max(),Tt.empty(),Em)}}function zre(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Tt.comparator(t.documentKey,e.documentKey),n!==0?n:gn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==Hre)throw t;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.reject(n)}static resolve(e){return new Ve(((n,r)=>{n(e)}))}static reject(e){return new Ve(((n,r)=>{r(e)}))}static waitFor(e){return new Ve(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next((i=>i?Ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Ve(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const u=d;n(e[u]).next((m=>{o[u]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ve(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Gre(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=-1;function kv(t){return t==null}function Ky(t){return t===0&&1/t==-1/0}function $re(t){return typeof t=="number"&&Number.isInteger(t)&&!Ky(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="";function Wre(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yP(e)),e=Yre(t.get(n),e);return yP(e)}function Yre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case $B:n+="";break;default:n+=a}}return n}function yP(t){return t+$B+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kre(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function WB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.comparator=e,this.root=n||Mi.EMPTY}insert(e,n){return new Cr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ny(this.root,e,this.comparator,!0)}}class ny{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Mi.RED,this.left=i??Mi.EMPTY,this.right=a??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Mi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw kt(27949);return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1;Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Mi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xP(this.data.getIterator())}getIteratorFrom(e){return new xP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new oi(this.comparator);return n.data=e,n}}class xP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new ao([])}unionWith(e){let n=new oi(Pi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YB("Invalid base64 string: "+a):a}})(e);return new Di(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const Xre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function au(t){if(Dn(!!t,39018),typeof t=="string"){let e=0;const n=Xre.exec(t);if(Dn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?Di.fromBase64String(t):Di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="server_timestamp",XB="__type__",QB="__previous_value__",JB="__local_write_time__";function XC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XB])==null?void 0:r.stringValue)===KB}function Lv(t){const e=t.mapValue.fields[QB];return XC(e)?Lv(e):e}function Sm(t){const e=au(t.mapValue.fields[JB].timestampValue);return new dr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e,n,r,i,a,o,c,d,u,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=u,this.isUsingEmulator=m}}const Xy="(default)";class Tm{constructor(e,n){this.projectId=e,this.database=n||Xy}static empty(){return new Tm("","")}get isDefaultDatabase(){return this.database===Xy}isEqual(e){return e instanceof Tm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="__type__",Jre="__max__",ry={mapValue:{}},eU="__vector__",Qy="value";function su(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?XC(t)?4:eie(t)?9007199254740991:Zre(t)?10:11:kt(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=su(t);if(n!==su(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sm(t).isEqual(Sm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=au(i.timestampValue),c=au(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ou(i.bytesValue).isEqual(ou(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Fr(i.geoPointValue.latitude)===Fr(a.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Fr(i.integerValue)===Fr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Fr(i.doubleValue),c=Fr(a.doubleValue);return o===c?Ky(o)===Ky(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Fd(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(vP(o)!==vP(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Us(o[d],c[d])))return!1;return!0})(t,e);default:return kt(52216,{left:t})}}function Cm(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Vd(t,e){if(t===e)return 0;const n=su(t),r=su(e);if(n!==r)return gn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Fr(a.integerValue||a.doubleValue),d=Fr(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return bP(t.timestampValue,e.timestampValue);case 4:return bP(Sm(t),Sm(e));case 5:return MS(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=ou(a),d=ou(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let u=0;u<c.length&&u<d.length;u++){const m=gn(c[u],d[u]);if(m!==0)return m}return gn(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=gn(Fr(a.latitude),Fr(o.latitude));return c!==0?c:gn(Fr(a.longitude),Fr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wP(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var _,I,D,M;const c=a.fields||{},d=o.fields||{},u=(_=c[Qy])==null?void 0:_.arrayValue,m=(I=d[Qy])==null?void 0:I.arrayValue,y=gn(((D=u==null?void 0:u.values)==null?void 0:D.length)||0,((M=m==null?void 0:m.values)==null?void 0:M.length)||0);return y!==0?y:wP(u,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===ry.mapValue&&o===ry.mapValue)return 0;if(a===ry.mapValue)return 1;if(o===ry.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),u=o.fields||{},m=Object.keys(u);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=MS(d[y],m[y]);if(_!==0)return _;const I=Vd(c[d[y]],u[m[y]]);if(I!==0)return I}return gn(d.length,m.length)})(t.mapValue,e.mapValue);default:throw kt(23264,{he:n})}}function bP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gn(t,e);const n=au(t),r=au(e),i=gn(n.seconds,r.seconds);return i!==0?i:gn(n.nanos,r.nanos)}function wP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Vd(n[i],r[i]);if(a)return a}return gn(n.length,r.length)}function zd(t){return PS(t)}function PS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=au(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ou(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Tt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=PS(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${PS(n.fields[o])}`;return i+"}"})(t.mapValue):kt(61005,{value:t})}function Iy(t){switch(su(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lv(t);return e?16+Iy(e):16;case 5:return 2*t.stringValue.length;case 6:return ou(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Iy(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return hu(r.fields,((a,o)=>{i+=a.length+Iy(o)})),i})(t.mapValue);default:throw kt(13486,{value:t})}}function _P(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DS(t){return!!t&&"integerValue"in t}function QC(t){return!!t&&"arrayValue"in t}function AP(t){return!!t&&"nullValue"in t}function EP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ny(t){return!!t&&"mapValue"in t}function Zre(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ZB])==null?void 0:r.stringValue)===eU}function om(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=om(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=om(t.arrayValue.values[n]);return e}return{...t}}function eie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.value=e}static empty(){return new Ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ny(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=om(n)}setAll(e){let n=Pi.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=om(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ny(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ny(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hu(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ia(om(this.value))}}function tU(t){const e=[];return hu(t.fields,((n,r)=>{const i=new Pi([n]);if(Ny(r)){const a=tU(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Wi(e,0,zt.min(),zt.min(),zt.min(),Ia.empty(),0)}static newFoundDocument(e,n,r,i){return new Wi(e,1,n,zt.min(),r,i,0)}static newNoDocument(e,n){return new Wi(e,2,n,zt.min(),zt.min(),Ia.empty(),0)}static newUnknownDocument(e,n){return new Wi(e,3,n,zt.min(),zt.min(),Ia.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.position=e,this.inclusive=n}}function SP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Tt.comparator(Tt.fromName(o.referenceValue),n.key):r=Vd(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function TP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n="asc"){this.field=e,this.dir=n}}function tie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{}class Xr extends nU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rie(e,n,r):n==="array-contains"?new oie(e,r):n==="in"?new sie(e,r):n==="not-in"?new lie(e,r):n==="array-contains-any"?new cie(e,r):new Xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iie(e,r):new aie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vd(n,this.value)):n!==null&&su(this.value)===su(n)&&this.matchesComparison(Vd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends nU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ls(e,n)}matches(e){return rU(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rU(t){return t.op==="and"}function iU(t){return nie(t)&&rU(t)}function nie(t){for(const e of t.filters)if(e instanceof ls)return!1;return!0}function kS(t){if(t instanceof Xr)return t.field.canonicalString()+t.op.toString()+zd(t.value);if(iU(t))return t.filters.map((e=>kS(e))).join(",");{const e=t.filters.map((n=>kS(n))).join(",");return`${t.op}(${e})`}}function aU(t,e){return t instanceof Xr?(function(r,i){return i instanceof Xr&&r.op===i.op&&r.field.isEqual(i.field)&&Us(r.value,i.value)})(t,e):t instanceof ls?(function(r,i){return i instanceof ls&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&aU(o,i.filters[c])),!0):!1})(t,e):void kt(19439)}function oU(t){return t instanceof Xr?(function(n){return`${n.field.canonicalString()} ${n.op} ${zd(n.value)}`})(t):t instanceof ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(oU).join(" ,")+"}"})(t):"Filter"}class rie extends Xr{constructor(e,n,r){super(e,n,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class iie extends Xr{constructor(e,n){super(e,"in",n),this.keys=sU("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aie extends Xr{constructor(e,n){super(e,"not-in",n),this.keys=sU("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sU(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Tt.fromName(r.referenceValue)))}class oie extends Xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return QC(n)&&Cm(n.arrayValue,this.value)}}class sie extends Xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cm(this.value.arrayValue,n)}}class lie extends Xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cm(this.value.arrayValue,n)}}class cie extends Xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!QC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function CP(t,e=null,n=[],r=[],i=null,a=null,o=null){return new uie(t,e,n,r,i,a,o)}function JC(t){const e=Ut(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>kS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>zd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>zd(r))).join(",")),e.Te=n}return e.Te}function ZC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TP(t.startAt,e.startAt)&&TP(t.endAt,e.endAt)}function LS(t){return Tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fie(t,e,n,r,i,a,o,c){return new Sf(t,e,n,r,i,a,o,c)}function jv(t){return new Sf(t)}function IP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lU(t){return t.collectionGroup!==null}function sm(t){const e=Ut(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new oi(Pi.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Im(a,r))})),n.has(Pi.keyField().canonicalString())||e.Ie.push(new Im(Pi.keyField(),r))}return e.Ie}function Ms(t){const e=Ut(t);return e.Ee||(e.Ee=cU(e,sm(t))),e.Ee}function die(t){const e=Ut(t);return e.de||(e.de=cU(e,t.explicitOrderBy)),e.de}function cU(t,e){if(t.limitType==="F")return CP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Im(i.field,a)}));const n=t.endAt?new Jy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jy(t.startAt.position,t.startAt.inclusive):null;return CP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jS(t,e){const n=t.filters.concat([e]);return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zy(t,e,n){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bv(t,e){return ZC(Ms(t),Ms(e))&&t.limitType===e.limitType}function uU(t){return`${JC(Ms(t))}|lt:${t.limitType}`}function yd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>oU(i))).join(", ")}]`),kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>zd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>zd(i))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function Uv(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Tt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of sm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const u=SP(o,c,d);return o.inclusive?u<=0:u<0})(r.startAt,sm(r),i)||r.endAt&&!(function(o,c,d){const u=SP(o,c,d);return o.inclusive?u>=0:u>0})(r.endAt,sm(r),i))})(t,e)}function hie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fU(t){return(e,n)=>{let r=!1;for(const i of sm(t)){const a=pie(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function pie(t,e,n){const r=t.field.isKeyField()?Tt.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),u=c.data.field(a);return d!==null&&u!==null?Vd(d,u):kt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return WB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=new Cr(Tt.comparator);function Fl(){return mie}const dU=new Cr(Tt.comparator);function Xp(...t){let e=dU;for(const n of t)e=e.insert(n.key,n);return e}function hU(t){let e=dU;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ef(){return lm()}function pU(){return lm()}function lm(){return new Tf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gie=new Cr(Tt.comparator),yie=new oi(Tt.comparator);function yn(...t){let e=yie;for(const n of t)e=e.add(n);return e}const vie=new oi(gn);function xie(){return vie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(e)?"-0":e}}function mU(t){return{integerValue:""+t}}function bie(t,e){return $re(e)?mU(e):eI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this._=void 0}}function wie(t,e,n){return t instanceof Nm?(function(i,a){const o={fields:{[XB]:{stringValue:KB},[JB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&XC(a)&&(a=Lv(a)),a&&(o.fields[QB]=a),{mapValue:o}})(n,e):t instanceof Rm?yU(t,e):t instanceof Om?vU(t,e):(function(i,a){const o=gU(i,a),c=NP(o)+NP(i.Ae);return DS(o)&&DS(i.Ae)?mU(c):eI(i.serializer,c)})(t,e)}function _ie(t,e,n){return t instanceof Rm?yU(t,e):t instanceof Om?vU(t,e):n}function gU(t,e){return t instanceof e1?(function(r){return DS(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Nm extends Fv{}class Rm extends Fv{constructor(e){super(),this.elements=e}}function yU(t,e){const n=xU(e);for(const r of t.elements)n.some((i=>Us(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Om extends Fv{constructor(e){super(),this.elements=e}}function vU(t,e){let n=xU(e);for(const r of t.elements)n=n.filter((i=>!Us(i,r)));return{arrayValue:{values:n}}}class e1 extends Fv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NP(t){return Fr(t.integerValue||t.doubleValue)}function xU(t){return QC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e,n){this.field=e,this.transform=n}}function Eie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Rm&&i instanceof Rm||r instanceof Om&&i instanceof Om?Fd(r.elements,i.elements,Us):r instanceof e1&&i instanceof e1?Us(r.Ae,i.Ae):r instanceof Nm&&i instanceof Nm})(t.transform,e.transform)}class Sie{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ry(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vv{}function bU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _U(t.key,as.none()):new E0(t.key,t.data,as.none());{const n=t.data,r=Ia.empty();let i=new oi(Pi.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new pu(t.key,r,new ao(i.toArray()),as.none())}}function Tie(t,e,n){t instanceof E0?(function(i,a,o){const c=i.value.clone(),d=OP(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof pu?(function(i,a,o){if(!Ry(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=OP(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(wU(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function cm(t,e,n,r){return t instanceof E0?(function(a,o,c,d){if(!Ry(a.precondition,o))return c;const u=a.value.clone(),m=MP(a.fieldTransforms,d,o);return u.setAll(m),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof pu?(function(a,o,c,d){if(!Ry(a.precondition,o))return c;const u=MP(a.fieldTransforms,d,o),m=o.data;return m.setAll(wU(a)),m.setAll(u),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,o,c){return Ry(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function Cie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=gU(r.transform,i||null);a!=null&&(n===null&&(n=Ia.empty()),n.set(r.field,a))}return n||null}function RP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fd(r,i,((a,o)=>Eie(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class E0 extends Vv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pu extends Vv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wU(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function OP(t,e,n){const r=new Map;Dn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,_ie(o,c,n[i]))}return r}function MP(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,wie(a,o,e))}return r}class _U extends Vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Iie extends Vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Tie(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pU();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=bU(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(zt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yn())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,((n,r)=>RP(n,r)))&&Fd(this.baseMutations,e.baseMutations,((n,r)=>RP(n,r)))}}class tI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return gie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new tI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,wn;function Pie(t){switch(t){case Le.OK:return kt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return kt(15467,{code:t})}}function AU(t){if(t===void 0)return Ul("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Wr.OK:return Le.OK;case Wr.CANCELLED:return Le.CANCELLED;case Wr.UNKNOWN:return Le.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Le.INTERNAL;case Wr.UNAVAILABLE:return Le.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Le.NOT_FOUND;case Wr.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Wr.ABORTED:return Le.ABORTED;case Wr.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Wr.DATA_LOSS:return Le.DATA_LOSS;default:return kt(39323,{code:t})}}(wn=Wr||(Wr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Die(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie=new Jc([4294967295,4294967295],0);function PP(t){const e=Die().encode(t),n=new jB;return n.update(e),new Uint8Array(n.digest())}function DP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Jc([n,r],0),new Jc([i,a],0)]}class nI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qp(`Invalid padding: ${n}`);if(r<0)throw new Qp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jc.fromNumber(r)));return i.compare(kie)===1&&(i=new Jc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PP(e),[r,i]=DP(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new nI(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=PP(e),[r,i]=DP(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,S0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zv(zt.min(),i,new Cr(gn),Fl(),yn())}}class S0{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new S0(r,n,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class EU{constructor(e,n){this.targetId=e,this.Ce=n}}class SU{constructor(e,n,r=Di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kP{constructor(){this.ve=0,this.Fe=LP(),this.Me=Di.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yn(),n=yn(),r=yn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:kt(38017,{changeType:a})}})),new S0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=LP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lie{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fl(),this.Je=iy(),this.He=iy(),this.Ye=new Cr(gn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:kt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(LS(a))if(r===0){const o=new Tt(a.path);this.et(n,o,Wi.newNoDocument(o,zt.min()))}else Dn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const u=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=ou(r).toUint8Array()}catch(d){if(d instanceof YB)return Ud("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new nI(o,i,a)}catch(d){return Ud(d instanceof Qp?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&LS(c.target)){const d=new Tt(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Wi.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=yn();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const u=this.ot(d);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new zv(e,n,this.Ye,this.je,r);return this.je=Fl(),this.Je=iy(),this.He=iy(),this.Ye=new Cr(gn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new oi(gn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new oi(gn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||it("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iy(){return new Cr(Tt.comparator)}function LP(){return new Cr(Tt.comparator)}const jie={asc:"ASCENDING",desc:"DESCENDING"},Bie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uie={and:"AND",or:"OR"};class Fie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function BS(t,e){return t.useProto3Json||kv(e)?e:{value:e}}function t1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vie(t,e){return t1(t,e.toTimestamp())}function Ps(t){return Dn(!!t,49232),zt.fromTimestamp((function(n){const r=au(n);return new dr(r.seconds,r.nanos)})(t))}function rI(t,e){return US(t,e).canonicalString()}function US(t,e){const n=(function(i){return new Jn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CU(t){const e=Jn.fromString(t);return Dn(PU(e),10190,{key:e.toString()}),e}function FS(t,e){return rI(t.databaseId,e.path)}function Vw(t,e){const n=CU(e);if(n.get(1)!==t.databaseId.projectId)throw new tt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tt(NU(n))}function IU(t,e){return rI(t.databaseId,e)}function zie(t){const e=CU(t);return e.length===4?Jn.emptyPath():NU(e)}function VS(t){return new Jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NU(t){return Dn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jP(t,e,n){return{name:FS(t,e),fields:n.value.mapValue.fields}}function Hie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:kt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(u,m){return u.useProto3Json?(Dn(m===void 0||typeof m=="string",58123),Di.fromBase64String(m||"")):(Dn(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Di.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(u){const m=u.code===void 0?Le.UNKNOWN:AU(u.code);return new tt(m,u.message||"")})(o);n=new SU(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vw(t,r.document.name),a=Ps(r.document.updateTime),o=r.document.createTime?Ps(r.document.createTime):zt.min(),c=new Ia({mapValue:{fields:r.document.fields}}),d=Wi.newFoundDocument(i,a,o,c),u=r.targetIds||[],m=r.removedTargetIds||[];n=new Oy(u,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vw(t,r.document),a=r.readTime?Ps(r.readTime):zt.min(),o=Wi.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Oy([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vw(t,r.document),a=r.removedTargetIds||[];n=new Oy([],a,i,null)}else{if(!("filter"in e))return kt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Mie(i,a),c=r.targetId;n=new EU(c,o)}}return n}function qie(t,e){let n;if(e instanceof E0)n={update:jP(t,e.key,e.value)};else if(e instanceof _U)n={delete:FS(t,e.key)};else if(e instanceof pu)n={update:jP(t,e.key,e.data),updateMask:Zie(e.fieldMask)};else{if(!(e instanceof Iie))return kt(16599,{Vt:e.type});n={verify:FS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Nm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Om)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof e1)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw kt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Vie(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:kt(27497)})(t,e.precondition)),n}function Gie(t,e){return t&&t.length>0?(Dn(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Ps(i.updateTime):Ps(a);return o.isEqual(zt.min())&&(o=Ps(a)),new Sie(o,i.transformResults||[])})(n,e)))):[]}function $ie(t,e){return{documents:[IU(t,e.path)]}}function RU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IU(t,i);const a=(function(u){if(u.length!==0)return MU(ls.create(u,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(u){if(u.length!==0)return u.map((m=>(function(_){return{field:Fc(_.field),direction:Xie(_.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=BS(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function Wie(t,e,n,r){const{ft:i,parent:a}=RU(t,e),o={},c=[];let d=0;return n.forEach((u=>{const m="aggregate_"+d++;o[m]=u.alias,u.aggregateType==="count"?c.push({alias:m,count:{}}):u.aggregateType==="avg"?c.push({alias:m,avg:{field:Fc(u.fieldPath)}}):u.aggregateType==="sum"&&c.push({alias:m,sum:{field:Fc(u.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:o,parent:a}}function Yie(t){let e=zie(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dn(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(y){const _=OU(y);return _ instanceof ls&&iU(_)?_.getFilters():[_]})(n.where));let o=[];n.orderBy&&(o=(function(y){return y.map((_=>(function(D){return new Im(vd(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(_)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,kv(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(y){const _=!!y.before,I=y.values||[];return new Jy(I,_)})(n.startAt));let u=null;return n.endAt&&(u=(function(y){const _=!y.before,I=y.values||[];return new Jy(I,_)})(n.endAt)),fie(e,i,o,a,c,"F",d,u)}function Kie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vd(n.unaryFilter.field);return Xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vd(n.unaryFilter.field);return Xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vd(n.unaryFilter.field);return Xr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vd(n.unaryFilter.field);return Xr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xr.create(vd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ls.create(n.compositeFilter.filters.map((r=>OU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt(1026)}})(n.compositeFilter.op))})(t):kt(30097,{filter:t})}function Xie(t){return jie[t]}function Qie(t){return Bie[t]}function Jie(t){return Uie[t]}function Fc(t){return{fieldPath:t.canonicalString()}}function vd(t){return Pi.fromServerFormat(t.fieldPath)}function MU(t){return t instanceof Xr?(function(n){if(n.op==="=="){if(EP(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NAN"}};if(AP(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EP(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NOT_NAN"}};if(AP(n.value))return{unaryFilter:{field:Fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(n.field),op:Qie(n.op),value:n.value}}})(t):t instanceof ls?(function(n){const r=n.getFilters().map((i=>MU(i)));return r.length===1?r[0]:{compositeFilter:{op:Jie(n.op),filters:r}}})(t):kt(54877,{filter:t})}function Zie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i,a=zt.min(),o=zt.min(),c=Di.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e){this.yt=e}}function tae(t){const e=Yie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(){this.Cn=new rae}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(iu.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(iu.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class rae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new oi(Jn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new oi(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DU=41943040;class Ca{static withCacheSize(e){return new Ca(e,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca.DEFAULT_COLLECTION_PERCENTILE=10,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ca.DEFAULT=new Ca(DU,Ca.DEFAULT_COLLECTION_PERCENTILE,Ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ca.DISABLED=new Ca(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hd(0)}static cr(){return new Hd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="LruGarbageCollector",iae=1048576;function FP([t,e],[n,r]){const i=gn(t,n);return i===0?gn(e,r):i}class aae{constructor(e){this.Ir=e,this.buffer=new oi(FP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oae{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(UP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ph(n)?it(UP,"Ignoring IndexedDB error during garbage collection: ",n):await Mh(n)}await this.Vr(3e5)}))}}class sae{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(Dv.ce);const r=new aae(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(BP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,u;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(u=Date.now(),gd()<=mn.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(u-d)+`ms
Total Duration: ${u-m}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y}))))}}function lae(t,e){return new sae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(){this.changes=new Tf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&cm(r.mutation,i,ao.empty(),dr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yn()){const i=ef();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=Xp();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ef();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=Fl();const o=lm(),c=(function(){return lm()})();return n.forEach(((d,u)=>{const m=r.get(u.key);i.has(u.key)&&(m===void 0||m.mutation instanceof pu)?a=a.insert(u.key,u):m!==void 0?(o.set(u.key,m.mutation.getFieldMask()),cm(m.mutation,u,m.mutation.getFieldMask(),dr.now())):o.set(u.key,ao.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((u,m)=>o.set(u,m))),n.forEach(((u,m)=>c.set(u,new uae(m,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=lm();let i=new Cr(((o,c)=>o-c)),a=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const u=n.get(d);if(u===null)return;let m=r.get(d)||ao.empty();m=c.applyToLocalView(u,m),r.set(d,m);const y=(i.get(c.batchId)||yn()).add(d);i=i.insert(c.batchId,y)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),u=d.key,m=d.value,y=pU();m.forEach((_=>{if(!a.has(_)){const I=bU(n.get(_),r.get(_));I!==null&&y.set(_,I),a=a.add(_)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,y))}return Ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Tt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Ve.resolve(ef());let c=Em,d=a;return o.next((u=>Ve.forEach(u,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?Ve.resolve():this.remoteDocumentCache.getEntry(e,m).next((_=>{d=d.insert(m,_)}))))).next((()=>this.populateOverlays(e,u,a))).next((()=>this.computeViews(e,d,u,yn()))).next((m=>({batchId:c,changes:hU(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next((r=>{let i=Xp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Xp();return this.indexManager.getCollectionParents(e,a).next((c=>Ve.forEach(c,(d=>{const u=(function(y,_){return new Sf(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((m=>{m.forEach(((y,_)=>{o=o.insert(y,_)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,u)=>{const m=u.getKey();o.get(m)===null&&(o=o.insert(m,Wi.newInvalidDocument(m)))}));let c=Xp();return o.forEach(((d,u)=>{const m=a.get(d);m!==void 0&&cm(m.mutation,u,ao.empty(),dr.now()),Uv(n,u)&&(c=c.insert(d,u))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ps(i.createTime)}})(n)),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:tae(i.bundledQuery),readTime:Ps(i.readTime)}})(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(){this.overlays=new Cr(Tt.comparator),this.qr=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ef();return Ve.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const i=ef(),a=n.length+1,o=new Tt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,u=d.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Cr(((u,m)=>u-m));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let m=a.get(u.largestBatchId);m===null&&(m=ef(),a=a.insert(u.largestBatchId,m)),m.set(u.getKey(),u)}}const c=ef(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((u,m)=>c.set(u,m))),!(c.size()>=i)););return Ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rie(n,r));let a=this.qr.get(n);a===void 0&&(a=yn(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Qr=new oi(hi.$r),this.Ur=new oi(hi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Tt(new Jn([])),r=new hi(n,e),i=new hi(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Tt(new Jn([])),r=new hi(n,e),i=new hi(n,e+1);let a=yn();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new hi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Tt.comparator(e.key,n.key)||gn(e.Yr,n.Yr)}static Kr(e,n){return gn(e.Yr,n.Yr)||Tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new oi(hi.$r)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nie(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new hi(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ve.resolve(o)}lookupMutationBatch(e,n){return Ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?KC:this.tr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hi(n,0),i=new hi(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),Ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new oi(gn);return n.forEach((i=>{const a=new hi(i,0),o=new hi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),Ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Tt.isDocumentKey(a)||(a=a.child(""));const o=new hi(new Tt(a),0);let c=new oi(gn);return this.Zr.forEachWhile((d=>{const u=d.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(d.Yr)),!0)}),o),Ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Dn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ve.forEach(n.mutations,(i=>{const a=new hi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hi(n,0),i=this.Zr.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e){this.ri=e,this.docs=(function(){return new Cr(Tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():Wi.newInvalidDocument(n))}getEntries(e,n){let r=Fl();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wi.newInvalidDocument(i))})),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Fl();const o=n.path,c=new Tt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:u,value:{document:m}}=d.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zre(Vre(m),r)<=0||(i.has(m.key)||Uv(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){kt(9500)}ii(e,n){return Ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yae(this)}getSize(e){return Ve.resolve(this.size)}}class yae extends cae{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e){this.persistence=e,this.si=new Tf((n=>JC(n)),ZC),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.oi=0,this._i=new iI,this.targetCount=0,this.ai=Hd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.Pr(n),Ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ve.waitFor(a).next((()=>i))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dv(0),this.li=!1,this.li=!0,this.hi=new pae,this.referenceDelegate=e(this),this.Pi=new vae(this),this.indexManager=new nae,this.remoteDocumentCache=(function(i){return new gae(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eae(n),this.Ii=new dae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mae(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){it("MemoryPersistence","Starting transaction:",e);const i=new xae(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class xae extends qre{constructor(e){super(),this.currentSequenceNumber=e}}class aI{constructor(e){this.persistence=e,this.Ri=new iI,this.Vi=null}static mi(e){return new aI(e)}get fi(){if(this.Vi)return this.Vi;throw kt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.fi,(r=>{const i=Tt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,zt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ve.or([()=>Ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class n1{constructor(e,n){this.persistence=e,this.pi=new Tf((r=>Wre(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=lae(this,n)}static mi(e,n){return new n1(e,n)}Ei(){}di(e){return Ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,zt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Iy(e.data.value)),n}br(e,n,r){return Ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yn(),i=yn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new oI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lne()?8:Gre(Xi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new bae;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(gd()<=mn.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",yd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ve.resolve()):(gd()<=mn.DEBUG&&it("QueryEngine","Query:",yd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(gd()<=mn.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",yd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):Ve.resolve())}ys(e,n){if(IP(n))return Ve.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Zy(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=yn(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const u=this.Ds(n,c);return this.Cs(n,u,o,d.readTime)?this.ys(e,Zy(n,null,"F")):this.vs(e,u,n,d)}))))})))))}ws(e,n,r,i){return IP(n)||i.isEqual(zt.min())?Ve.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?Ve.resolve(null):(gd()<=mn.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yd(n)),this.vs(e,o,n,Fre(i,Em)).next((c=>c)))}))}Ds(e,n){let r=new oi(fU(e));return n.forEach(((i,a)=>{Uv(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return gd()<=mn.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",yd(n)),this.ps.getDocumentsMatchingQuery(e,n,iu.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="LocalStore",_ae=3e8;class Aae{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cr(gn),this.xs=new Tf((a=>JC(a)),ZC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fae(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Eae(t,e,n,r){return new Aae(t,e,n,r)}async function LU(t,e){const n=Ut(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=yn();for(const u of i){o.push(u.batchId);for(const m of u.mutations)d=d.add(m.key)}for(const u of a){c.push(u.batchId);for(const m of u.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function Sae(t,e){const n=Ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,u,m){const y=u.batch,_=y.keys();let I=Ve.resolve();return _.forEach((D=>{I=I.next((()=>m.getEntry(d,D))).next((M=>{const R=u.docVersions.get(D);Dn(R!==null,48541),M.version.compareTo(R)<0&&(y.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),m.addEntry(M)))}))})),I.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=yn();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(d=d.add(c.batch.mutations[u].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jU(t){const e=Ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Tae(t,e){const n=Ut(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const _=i.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,y))));let I=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(Di.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(y,I),(function(M,R,j){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=_ae?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,I,m)&&c.push(n.Pi.updateTargetData(a,I))}));let d=Fl(),u=yn();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(Cae(a,o,e.documentUpdates).next((m=>{d=m.ks,u=m.qs}))),!r.isEqual(zt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return Ve.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,u))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function Cae(t,e,n){let r=yn(),i=yn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Fl();return n.forEach(((c,d)=>{const u=a.get(c);d.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(zt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!u.isValidDocument()||d.version.compareTo(u.version)>0||d.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):it(sI,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function Iae(t,e){const n=Ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=KC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Nae(t,e){const n=Ut(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Gc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function zS(t,e,n){const r=Ut(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ph(o))throw o;it(sI,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function VP(t,e,n){const r=Ut(t);let i=zt.min(),a=yn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,u,m){const y=Ut(d),_=y.xs.get(m);return _!==void 0?Ve.resolve(y.Ms.get(_)):y.Pi.getTargetData(u,m)})(r,o,Ms(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:zt.min(),n?a:yn()))).next((c=>(Rae(r,hie(e),c),{documents:c,Qs:a})))))}function Rae(t,e,n){let r=t.Os.get(e)||zt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class zP{constructor(){this.activeTargetIds=xie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oae{constructor(){this.Mo=new zP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="ConnectivityMonitor";class qP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(HP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(HP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay=null;function HS(){return ay===null?ay=(function(){return 268435456+Math.round(2147483648*Math.random())})():ay++,"0x"+ay.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="RestConnection",Pae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dae{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=HS(),c=this.zo(e,n.toUriEncodedString());it(zw,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:u}=new URL(c),m=Nh(u);return this.Jo(e,c,d,r,m).then((y=>(it(zw,`Received RPC '${e}' ${o}: `,y),y)),(y=>{throw Ud(zw,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=Pae[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="WebChannelConnection";class Lae extends Dae{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=HS();return new Promise(((c,d)=>{const u=new BB;u.setWithCredentials(!0),u.listenOnce(UB.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Cy.NO_ERROR:const y=u.getResponseJson();it(zi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Cy.TIMEOUT:it(zi,`RPC '${e}' ${o} timed out`),d(new tt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const _=u.getStatus();if(it(zi,`RPC '${e}' ${o} failed with status:`,_,"response text:",u.getResponseText()),_>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I==null?void 0:I.error;if(D&&D.status&&D.message){const M=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(B)>=0?B:Le.UNKNOWN})(D.status);d(new tt(M,D.message))}else d(new tt(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new tt(Le.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{it(zi,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);it(zi,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=HS(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zB(),c=VB(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(d.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");it(zi,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=o.createWebChannel(m,d);this.I_(y);let _=!1,I=!1;const D=new kae({Yo:R=>{I?it(zi,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(it(zi,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),it(zi,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Zo:()=>y.close()}),M=(R,j,B)=>{R.listen(j,(U=>{try{B(U)}catch($){setTimeout((()=>{throw $}),0)}}))};return M(y,Kp.EventType.OPEN,(()=>{I||(it(zi,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),M(y,Kp.EventType.CLOSE,(()=>{I||(I=!0,it(zi,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(y))})),M(y,Kp.EventType.ERROR,(R=>{I||(I=!0,Ud(zi,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.a_(new tt(Le.UNAVAILABLE,"The operation could not be completed")))})),M(y,Kp.EventType.MESSAGE,(R=>{var j;if(!I){const B=R.data[0];Dn(!!B,16349);const U=B,$=(U==null?void 0:U.error)||((j=U[0])==null?void 0:j.error);if($){it(zi,`RPC '${e}' stream ${i} received error:`,$);const H=$.status;let G=(function(F){const ee=Wr[F];if(ee!==void 0)return AU(ee)})(H),L=$.message;G===void 0&&(G=Le.INTERNAL,L="Unknown error status: "+H+" with message "+$.message),I=!0,D.a_(new tt(G,L)),y.close()}else it(zi,`RPC '${e}' stream ${i} received:`,B),D.u_(B)}})),M(c,FB.STAT_EVENT,(R=>{R.stat===OS.PROXY?it(zi,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===OS.NOPROXY&&it(zi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){return new Fie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="PersistentStream";class UU{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(Ul(n.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new tt(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(GP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(it(GP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jae extends UU{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Hie(this.serializer,e),r=(function(a){if(!("targetChange"in a))return zt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?zt.min():o.readTime?Ps(o.readTime):zt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=VS(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=LS(d)?{documents:$ie(a,d)}:{query:RU(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=TU(a,o.resumeToken);const u=BS(a,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(zt.min())>0){c.readTime=t1(a,o.snapshotVersion.toTimestamp());const u=BS(a,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=Kie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=VS(this.serializer),n.removeTarget=e,this.q_(n)}}class Bae extends UU{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Gie(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=VS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qie(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{}class Fae extends Uae{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,US(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Le.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,US(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Vae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ul(n),this.aa=!1):it("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="RemoteStore";class zae{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Cf(this)&&(it(mf,"Restarting streams for network reachability change."),await(async function(d){const u=Ut(d);u.Ea.add(4),await T0(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qv(u)})(this))}))})),this.Ra=new Vae(r,i)}}async function qv(t){if(Cf(t))for(const e of t.da)await e(!0)}async function T0(t){for(const e of t.da)await e(!1)}function FU(t,e){const n=Ut(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fI(n)?uI(n):Dh(n).O_()&&cI(n,e))}function lI(t,e){const n=Ut(t),r=Dh(n);n.Ia.delete(e),r.O_()&&VU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cf(n)&&n.Ra.set("Unknown"))}function cI(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dh(t).Y_(e)}function VU(t,e){t.Va.Ue(e),Dh(t).Z_(e)}function uI(t){t.Va=new Lie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dh(t).start(),t.Ra.ua()}function fI(t){return Cf(t)&&!Dh(t).x_()&&t.Ia.size>0}function Cf(t){return Ut(t).Ea.size===0}function zU(t){t.Va=void 0}async function Hae(t){t.Ra.set("Online")}async function qae(t){t.Ia.forEach(((e,n)=>{cI(t,e)}))}async function Gae(t,e){zU(t),fI(t)?(t.Ra.ha(e),uI(t)):t.Ra.set("Unknown")}async function $ae(t,e,n){if(t.Ra.set("Online"),e instanceof SU&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){it(mf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await r1(t,r)}else if(e instanceof Oy?t.Va.Ze(e):e instanceof EU?t.Va.st(e):t.Va.tt(e),!n.isEqual(zt.min()))try{const r=await jU(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,u)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(u);m&&a.Ia.set(u,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,u)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(Di.EMPTY_BYTE_STRING,m.snapshotVersion)),VU(a,d);const y=new Gc(m.target,d,u,m.sequenceNumber);cI(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){it(mf,"Failed to raise snapshot:",r),await r1(t,r)}}async function r1(t,e,n){if(!Ph(e))throw e;t.Ea.add(1),await T0(t),t.Ra.set("Offline"),n||(n=()=>jU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{it(mf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qv(t)}))}function HU(t,e){return e().catch((n=>r1(t,n,e)))}async function Gv(t){const e=Ut(t),n=lu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:KC;for(;Wae(e);)try{const i=await Iae(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Yae(e,i)}catch(i){await r1(e,i)}qU(e)&&GU(e)}function Wae(t){return Cf(t)&&t.Ta.length<10}function Yae(t,e){t.Ta.push(e);const n=lu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qU(t){return Cf(t)&&!lu(t).x_()&&t.Ta.length>0}function GU(t){lu(t).start()}async function Kae(t){lu(t).ra()}async function Xae(t){const e=lu(t);for(const n of t.Ta)e.ea(n.mutations)}async function Qae(t,e,n){const r=t.Ta.shift(),i=tI.from(r,e,n);await HU(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Gv(t)}async function Jae(t,e){e&&lu(t).X_&&await(async function(r,i){if((function(o){return Pie(o)&&o!==Le.ABORTED})(i.code)){const a=r.Ta.shift();lu(r).B_(),await HU(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Gv(r)}})(t,e),qU(t)&&GU(t)}async function $P(t,e){const n=Ut(t);n.asyncQueue.verifyOperationInProgress(),it(mf,"RemoteStore received new credentials");const r=Cf(n);n.Ea.add(3),await T0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qv(n)}async function Zae(t,e){const n=Ut(t);e?(n.Ea.delete(2),await qv(n)):e||(n.Ea.add(2),await T0(n),n.Ra.set("Unknown"))}function Dh(t){return t.ma||(t.ma=(function(n,r,i){const a=Ut(n);return a.sa(),new jae(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Hae.bind(null,t),t_:qae.bind(null,t),r_:Gae.bind(null,t),H_:$ae.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fI(t)?uI(t):t.Ra.set("Unknown")):(await t.ma.stop(),zU(t))}))),t.ma}function lu(t){return t.fa||(t.fa=(function(n,r,i){const a=Ut(n);return a.sa(),new Bae(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kae.bind(null,t),r_:Jae.bind(null,t),ta:Xae.bind(null,t),na:Qae.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gv(t)):(await t.fa.stop(),t.Ta.length>0&&(it(mf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new dI(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hI(t,e){if(Ul("AsyncQueue",`${e}: ${t}`),Ph(t))return new tt(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Tt.comparator(n.key,r.key):(n,r)=>Tt.comparator(n.key,r.key),this.keyedMap=Xp(),this.sortedSet=new Cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ga=new Cr(Tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):kt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class qd{constructor(e,n,r,i,a,o,c,d,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new qd(e,n,Nd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class toe{constructor(){this.queries=YP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ut(n),a=i.queries;i.queries=YP(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new tt(Le.ABORTED,"Firestore shutting down"))}}function YP(){return new Tf((t=>uU(t)),Bv)}async function pI(t,e){const n=Ut(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new eoe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=hI(o,`Initialization of query '${yd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&gI(n)}async function mI(t,e){const n=Ut(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function noe(t,e){const n=Ut(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&gI(n)}function roe(t,e,n){const r=Ut(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function gI(t){t.Ca.forEach((e=>{e.next()}))}var qS,KP;(KP=qS||(qS={})).Ma="default",KP.Cache="cache";class yI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.key=e}}class WU{constructor(e){this.key=e}}class ioe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yn(),this.mutatedKeys=yn(),this.eu=fU(e),this.tu=new Nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new WP,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,y)=>{const _=i.get(m),I=Uv(this.query,y)?y:null,D=!!_&&this.mutatedKeys.has(_.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;_&&I?_.data.isEqual(I.data)?D!==M&&(r.track({type:3,doc:I}),R=!0):this.su(_,I)||(r.track({type:2,doc:I}),R=!0,(d&&this.eu(I,d)>0||u&&this.eu(I,u)<0)&&(c=!0)):!_&&I?(r.track({type:0,doc:I}),R=!0):_&&!I&&(r.track({type:1,doc:_}),R=!0,(d||u)&&(c=!0)),R&&(I?(o=o.add(I),a=M?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,y)=>(function(I,D){const M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{Rt:R})}};return M(I)-M(D)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,u=d!==this.Za;return this.Za=d,o.length!==0||u?{snapshot:new qd(this.query,e.tu,a,o,e.mutatedKeys,d===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new WU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $U(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vI="SyncEngine";class aoe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ooe{constructor(e){this.key=e,this.hu=!1}}class soe{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Tf((c=>uU(c)),Bv),this.Iu=new Map,this.Eu=new Set,this.du=new Cr(Tt.comparator),this.Au=new Map,this.Ru=new iI,this.Vu={},this.mu=new Map,this.fu=Hd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function loe(t,e,n=!0){const r=ZU(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await YU(r,e,n,!0),i}async function coe(t,e){const n=ZU(t);await YU(n,e,!0,!1)}async function YU(t,e,n,r){const i=await Nae(t.localStore,Ms(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await uoe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FU(t.remoteStore,i),c}async function uoe(t,e,n,r,i){t.pu=(y,_,I)=>(async function(M,R,j,B){let U=R.view.ru(j);U.Cs&&(U=await VP(M.localStore,R.query,!1).then((({documents:L})=>R.view.ru(L,U))));const $=B&&B.targetChanges.get(R.targetId),H=B&&B.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(U,M.isPrimaryClient,$,H);return QP(M,R.targetId,G.au),G.snapshot})(t,y,_,I);const a=await VP(t.localStore,e,!0),o=new ioe(e,a.Qs),c=o.ru(a.documents),d=S0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,d);QP(t,n,u.au);const m=new aoe(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function foe(t,e,n){const r=Ut(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Bv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zS(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lI(r.remoteStore,i.targetId),GS(r,i.targetId)})).catch(Mh)):(GS(r,i.targetId),await zS(r.localStore,i.targetId,!0))}async function doe(t,e){const n=Ut(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lI(n.remoteStore,r.targetId))}async function hoe(t,e,n){const r=boe(t);try{const i=await(function(o,c){const d=Ut(o),u=dr.now(),m=c.reduce(((I,D)=>I.add(D.key)),yn());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let D=Fl(),M=yn();return d.Ns.getEntries(I,m).next((R=>{D=R,D.forEach(((j,B)=>{B.isValidDocument()||(M=M.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,D))).next((R=>{y=R;const j=[];for(const B of c){const U=Cie(B,y.get(B.key).overlayedDocument);U!=null&&j.push(new pu(B.key,U,tU(U.value.mapValue),as.exists(!0)))}return d.mutationQueue.addMutationBatch(I,u,j,c)})).next((R=>{_=R;const j=R.applyToLocalDocumentSet(y,M);return d.documentOverlayCache.saveOverlays(I,R.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:hU(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let u=o.Vu[o.currentUser.toKey()];u||(u=new Cr(gn)),u=u.insert(c,d),o.Vu[o.currentUser.toKey()]=u})(r,i.batchId,n),await C0(r,i.changes),await Gv(r.remoteStore)}catch(i){const a=hI(i,"Failed to persist write");n.reject(a)}}async function KU(t,e){const n=Ut(t);try{const r=await Tae(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(Dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Dn(o.hu,14607):i.removedDocuments.size>0&&(Dn(o.hu,42227),o.hu=!1))})),await C0(n,r,e)}catch(r){await Mh(r)}}function XP(t,e,n){const r=Ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=Ut(o);d.onlineState=c;let u=!1;d.queries.forEach(((m,y)=>{for(const _ of y.Sa)_.va(c)&&(u=!0)})),u&&gI(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function poe(t,e,n){const r=Ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Cr(Tt.comparator);o=o.insert(a,Wi.newNoDocument(a,zt.min()));const c=yn().add(a),d=new zv(zt.min(),new Map,new Cr(gn),o,c);await KU(r,d),r.du=r.du.remove(a),r.Au.delete(e),xI(r)}else await zS(r.localStore,e,!1).then((()=>GS(r,e,n))).catch(Mh)}async function moe(t,e){const n=Ut(t),r=e.batch.batchId;try{const i=await Sae(n.localStore,e);QU(n,r,null),XU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await C0(n,i)}catch(i){await Mh(i)}}async function goe(t,e,n){const r=Ut(t);try{const i=await(function(o,c){const d=Ut(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let m;return d.mutationQueue.lookupMutationBatch(u,c).next((y=>(Dn(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(u,y)))).next((()=>d.mutationQueue.performConsistencyCheck(u))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(u,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,m))).next((()=>d.localDocuments.getDocuments(u,m)))}))})(r.localStore,e);QU(r,e,n),XU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await C0(r,i)}catch(i){await Mh(i)}}function XU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QU(t,e,n){const r=Ut(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function GS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JU(t,r)}))}function JU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lI(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xI(t))}function QP(t,e,n){for(const r of n)r instanceof $U?(t.Ru.addReference(r.key,e),yoe(t,r)):r instanceof WU?(it(vI,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JU(t,r.key)):kt(19791,{wu:r})}function yoe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(it(vI,"New document in limbo: "+n),t.Eu.add(r),xI(t))}function xI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Tt(Jn.fromString(e)),r=t.fu.next();t.Au.set(r,new ooe(n)),t.du=t.du.insert(n,r),FU(t.remoteStore,new Gc(Ms(jv(n.path)),r,"TargetPurposeLimboResolution",Dv.ce))}}async function C0(t,e,n){const r=Ut(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((u=>{var m;if((u||n)&&r.isPrimaryClient){const y=u?!u.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(u){i.push(u);const y=oI.As(d.targetId,u);a.push(y)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,u){const m=Ut(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Ve.forEach(u,(_=>Ve.forEach(_.Es,(I=>m.persistence.referenceDelegate.addReference(y,_.targetId,I))).next((()=>Ve.forEach(_.ds,(I=>m.persistence.referenceDelegate.removeReference(y,_.targetId,I)))))))))}catch(y){if(!Ph(y))throw y;it(sI,"Failed to update sequence numbers: "+y)}for(const y of u){const _=y.targetId;if(!y.fromCache){const I=m.Ms.get(_),D=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(D);m.Ms=m.Ms.insert(_,M)}}})(r.localStore,a))}async function voe(t,e){const n=Ut(t);if(!n.currentUser.isEqual(e)){it(vI,"User change. New user:",e.toKey());const r=await LU(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new tt(Le.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await C0(n,r.Ls)}}function xoe(t,e){const n=Ut(t),r=n.Au.get(e);if(r&&r.hu)return yn().add(r.key);{let i=yn();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function ZU(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=poe.bind(null,e),e.Pu.H_=noe.bind(null,e.eventManager),e.Pu.yu=roe.bind(null,e.eventManager),e}function boe(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=moe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=goe.bind(null,e),e}class i1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Eae(this.persistence,new wae,e.initialUser,this.serializer)}Cu(e){return new kU(aI.mi,this.serializer)}Du(e){return new Oae}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i1.provider={build:()=>new i1};class woe extends i1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Dn(this.persistence.referenceDelegate instanceof n1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oae(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ca.withCacheSize(this.cacheSizeBytes):Ca.DEFAULT;return new kU((r=>n1.mi(r,n)),this.serializer)}}class $S{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=voe.bind(null,this.syncEngine),await Zae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new toe})()}createDatastore(e){const n=Hv(e.databaseInfo.databaseId),r=(function(a){return new Lae(a)})(e.databaseInfo);return(function(a,o,c,d){return new Fae(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new zae(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>XP(this.syncEngine,n,0)),(function(){return qP.v()?new qP:new Mae})())}createSyncEngine(e,n){return(function(i,a,o,c,d,u,m){const y=new soe(i,a,o,c,d,u);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ut(i);it(mf,"RemoteStore shutting down."),a.Ea.add(5),await T0(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$S.provider={build:()=>new $S};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="FirestoreClient";class _oe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=WC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{it(cu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(it(cu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qw(t,e){t.asyncQueue.verifyOperationInProgress(),it(cu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await LU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function JP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Aoe(t);it(cu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$P(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>$P(e.remoteStore,i))),t._onlineComponents=e}async function Aoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){it(cu,"Using user provided OfflineComponentProvider");try{await qw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ud("Error using user provided cache. Falling back to memory cache: "+n),await qw(t,new i1)}}else it(cu,"Using default OfflineComponentProvider"),await qw(t,new woe(void 0));return t._offlineComponents}async function wI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(it(cu,"Using user provided OnlineComponentProvider"),await JP(t,t._uninitializedComponentsProvider._online)):(it(cu,"Using default OnlineComponentProvider"),await JP(t,new $S))),t._onlineComponents}function Eoe(t){return wI(t).then((e=>e.syncEngine))}function Soe(t){return wI(t).then((e=>e.datastore))}async function a1(t){const e=await wI(t),n=e.eventManager;return n.onListen=loe.bind(null,e.syncEngine),n.onUnlisten=foe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=coe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=doe.bind(null,e.syncEngine),n}function Toe(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,u){const m=new bI({next:_=>{m.Nu(),o.enqueueAndForget((()=>mI(a,y)));const I=_.docs.has(c);!I&&_.fromCache?u.reject(new tt(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&d&&d.source==="server"?u.reject(new tt(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),y=new yI(jv(c.path),m,{includeMetadataChanges:!0,qa:!0});return pI(a,y)})(await a1(t),t.asyncQueue,e,n,r))),r.promise}function Coe(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,u){const m=new bI({next:_=>{m.Nu(),o.enqueueAndForget((()=>mI(a,y))),_.fromCache&&d.source==="server"?u.reject(new tt(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(_)},error:_=>u.reject(_)}),y=new yI(c,m,{includeMetadataChanges:!0,qa:!0});return pI(a,y)})(await a1(t),t.asyncQueue,e,n,r))),r.promise}function Ioe(t,e,n){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await Soe(t);r.resolve((async function(o,c,d){var M;const u=Ut(o),{request:m,gt:y,parent:_}=Wie(u.serializer,die(c),d);u.connection.$o||delete m.parent;const I=(await u.Ho("RunAggregationQuery",u.serializer.databaseId,_,m,1)).filter((R=>!!R.result));Dn(I.length===1,64727);const D=(M=I[0].result)==null?void 0:M.aggregateFields;return Object.keys(D).reduce(((R,j)=>(R[y[j]]=D[j],R)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="firestore.googleapis.com",eD=!0;class tD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tF,this.ssl=eD}else this.host=e.host,this.ssl=e.ssl??eD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iae)throw new tt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ire;switch(r.type){case"firstParty":return new Mre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ZP.get(n);r&&(it("ComponentProvider","Removing Datastore"),ZP.delete(n),r.terminate())})(this),Promise.resolve()}}function Noe(t,e,n,r={}){var u;t=ha(t,I0);const i=Nh(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(NB(`https://${c}`),RB("Firestore",!0)),a.host!==tF&&a.host!==c&&Ud("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!df(d,o)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=$i.MOCK_USER;else{m=Zte(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new tt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new $i(_)}t._authCredentials=new Nre(new qB(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}toJSON(){return{type:kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(A0(n,kr._jsonSchema))return new kr(e,r||null,new Tt(Jn.fromString(n.referencePath)))}}kr._jsonSchemaVersion="firestore/documentReference/1.0",kr._jsonSchema={type:Qr("string",kr._jsonSchemaVersion),referencePath:Qr("string")};class Zc extends Vs{constructor(e,n,r){super(e,n,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new Tt(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function aa(t,e,...n){if(t=Vr(t),YC("collection","path",e),t instanceof I0){const r=Jn.fromString(e,...n);return pP(r),new Zc(t,null,r)}{if(!(t instanceof kr||t instanceof Zc))throw new tt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return pP(r),new Zc(t.firestore,null,r)}}function nD(t,e){if(t=ha(t,I0),YC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vs(t,null,(function(r){return new Sf(Jn.emptyPath(),r)})(e))}function qi(t,e,...n){if(t=Vr(t),arguments.length===1&&(e=WC.newId()),YC("doc","path",e),t instanceof I0){const r=Jn.fromString(e,...n);return hP(r),new kr(t,null,new Tt(r))}{if(!(t instanceof kr||t instanceof Zc))throw new tt(Le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return hP(r),new kr(t.firestore,t instanceof Zc?t.converter:null,new Tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="AsyncQueue";class iD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BU(this,"async_queue_retry"),this._c=()=>{const r=Hw();r&&it(rD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ph(e))throw e;it(rD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ul("INTERNAL UNHANDLED ERROR: ",aD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=dI.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&kt(47125,{Pc:aD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Vl extends I0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iD(e),this._firestoreClient=void 0,await e}}}function Roe(t,e){const n=typeof t=="object"?t:DB(),r=typeof t=="string"?t:Xy,i=GC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Qte("firestore");a&&Noe(i,...a)}return i}function N0(t){if(t._terminated)throw new tt(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ooe(t),t._firestoreClient}function Ooe(t){var r,i,a;const e=t._freezeSettings(),n=(function(c,d,u,m){return new Qre(c,d,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eF(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _oe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Poe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(Di.fromBase64String(e))}catch(n){throw new tt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(A0(e,Oo._jsonSchema))return Oo.fromBase64String(e.bytes)}}Oo._jsonSchemaVersion="firestore/bytes/1.0",Oo._jsonSchema={type:Qr("string",Oo._jsonSchemaVersion),bytes:Qr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new tt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(e){if(A0(e,Ds._jsonSchema))return new Ds(e.latitude,e.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Qr("string",Ds._jsonSchemaVersion),latitude:Qr("number"),longitude:Qr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(A0(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new tt(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Qr("string",ks._jsonSchemaVersion),vectorValues:Qr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe=/^__.*__$/;class koe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new E0(e,this.data,n,this.fieldTransforms)}}class nF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{Ac:t})}}class _I{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _I({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return o1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rF(this.Ac)&&Doe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Loe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hv(e)}Cc(e,n,r,i=!1){return new _I({Ac:e,methodName:n,Dc:r,path:Pi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yv(t){const e=t._freezeSettings(),n=Hv(t._databaseId);return new Loe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iF(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);EI("Data must be an object, but it was:",o,r);const c=aF(r,o);let d,u;if(a.merge)d=new ao(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const _=WS(e,y,n);if(!o.contains(_))throw new tt(Le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);sF(m,_)||m.push(_)}d=new ao(m),u=o.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,u=o.fieldTransforms;return new koe(new Ia(c),d,u)}class Kv extends Wv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kv}}class AI extends Wv{_toFieldTransform(e){return new Aie(e.path,new Nm)}isEqual(e){return e instanceof AI}}function joe(t,e,n,r){const i=t.Cc(1,e,n);EI("Data must be an object, but it was:",i,r);const a=[],o=Ia.empty();hu(r,((d,u)=>{const m=SI(e,d,n);u=Vr(u);const y=i.yc(m);if(u instanceof Kv)a.push(m);else{const _=R0(u,y);_!=null&&(a.push(m),o.set(m,_))}}));const c=new ao(a);return new nF(o,c,i.fieldTransforms)}function Boe(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[WS(e,r,n)],d=[i];if(a.length%2!=0)throw new tt(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(WS(e,a[_])),d.push(a[_+1]);const u=[],m=Ia.empty();for(let _=c.length-1;_>=0;--_)if(!sF(u,c[_])){const I=c[_];let D=d[_];D=Vr(D);const M=o.yc(I);if(D instanceof Kv)u.push(I);else{const R=R0(D,M);R!=null&&(u.push(I),m.set(I,R))}}const y=new ao(u);return new nF(m,y,o.fieldTransforms)}function Uoe(t,e,n,r=!1){return R0(n,t.Cc(r?4:3,e))}function R0(t,e){if(oF(t=Vr(t)))return EI("Unsupported field value:",e,t),aF(t,e);if(t instanceof Wv)return(function(r,i){if(!rF(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=R0(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bie(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dr.fromDate(r);return{timestampValue:t1(i.serializer,a)}}if(r instanceof dr){const a=new dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:t1(i.serializer,a)}}if(r instanceof Ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oo)return{bytesValue:TU(i.serializer,r._byteString)};if(r instanceof kr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ks)return(function(o,c){return{mapValue:{fields:{[ZB]:{stringValue:eU},[Qy]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return eI(c.serializer,u)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Pv(r)}`)})(t,e)}function aF(t,e){const n={};return WB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(t,((r,i)=>{const a=R0(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function oF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dr||t instanceof Ds||t instanceof Oo||t instanceof kr||t instanceof Wv||t instanceof ks)}function EI(t,e,n){if(!oF(n)||!GB(n)){const r=Pv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function WS(t,e,n){if((e=Vr(e))instanceof $v)return e._internalPath;if(typeof e=="string")return SI(t,e);throw o1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Foe=new RegExp("[~\\*/\\[\\]]");function SI(t,e,n){if(e.search(Foe)>=0)throw o1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $v(...e.split("."))._internalPath}catch{throw o1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function o1(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new tt(Le.INVALID_ARGUMENT,c+t+d)}function sF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Voe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Voe extends lF{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?SI(t,e):e instanceof $v?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new tt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TI{}class CI extends TI{}function Es(t,e,...n){let r=[];e instanceof TI&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof II)).length,c=a.filter((d=>d instanceof Qv)).length;if(o>1||o>0&&c>0)throw new tt(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Qv extends CI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qv(e,n,r)}_apply(e){const n=this._parse(e);return uF(e._query,n),new Vs(e.firestore,e.converter,jS(e._query,n))}_parse(e){const n=Yv(e.firestore);return(function(a,o,c,d,u,m,y){let _;if(u.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new tt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){lD(y,m);const D=[];for(const M of y)D.push(sD(d,a,M));_={arrayValue:{values:D}}}else _=sD(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||lD(y,m),_=Uoe(c,o,y,m==="in"||m==="not-in");return Xr.create(u,m,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gw(t,e,n){const r=e,i=Xv("where",t);return Qv._create(i,r,n)}class II extends TI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new II(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)uF(o,d),o=jS(o,d)})(e._query,n),new Vs(e.firestore,e.converter,jS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class NI extends CI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new NI(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new tt(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new tt(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Im(a,o)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Sf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Dp(t,e="asc"){const n=e,r=Xv("orderBy",t);return NI._create(r,n)}class RI extends CI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new RI(e,n,r)}_apply(e){return new Vs(e.firestore,e.converter,Zy(e._query,this._limit,this._limitType))}}function cd(t){return Ure("limit",t),RI._create("limit",t,"F")}function sD(t,e,n){if(typeof(n=Vr(n))=="string"){if(n==="")throw new tt(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lU(e)&&n.indexOf("/")!==-1)throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jn.fromString(n));if(!Tt.isDocumentKey(r))throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _P(t,new Tt(r))}if(n instanceof kr)return _P(t,n._key);throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pv(n)}.`)}function lD(t,e){if(!Array.isArray(t)||t.length===0)throw new tt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uF(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new tt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zoe{convertValue(e,n="none"){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw kt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hu(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Qy].arrayValue)==null?void 0:i.values)==null?void 0:a.map((o=>Fr(o.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Ds(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sm(e));default:return null}}convertTimestamp(e){const n=au(e);return new dr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jn.fromString(e);Dn(PU(r),9688,{name:e});const i=new Tm(r.get(1),r.get(3)),a=new Tt(r.popFirst(5));return i.isEqual(n)||Ul(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Hoe(){return new Moe("count")}class Jp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lf extends lF{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new My(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lf._jsonSchemaVersion="firestore/documentSnapshot/1.0",lf._jsonSchema={type:Qr("string",lf._jsonSchemaVersion),bundleSource:Qr("string","DocumentSnapshot"),bundleName:Qr("string"),bundle:Qr("string")};class My extends lf{data(e={}){return super.data(e)}}class cf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new My(this._firestore,this._userDataWriter,r.key,r,new Jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new My(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new My(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,m=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:qoe(c.type),doc:d,oldIndex:u,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){t=ha(t,kr);const e=ha(t.firestore,Vl);return Toe(N0(e),t._key).then((n=>dF(e,t,n)))}cf._jsonSchemaVersion="firestore/querySnapshot/1.0",cf._jsonSchema={type:Qr("string",cf._jsonSchemaVersion),bundleSource:Qr("string","QuerySnapshot"),bundleName:Qr("string"),bundle:Qr("string")};class Jv extends zoe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,n)}}function Dc(t){t=ha(t,Vs);const e=ha(t.firestore,Vl),n=N0(e),r=new Jv(e);return cF(t._query),Coe(n,t._query).then((i=>new cf(e,r,t,i)))}function kc(t,e,n){t=ha(t,kr);const r=ha(t.firestore,Vl),i=fF(t.converter,e,n);return OI(r,[iF(Yv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,as.none())])}function cD(t,e,n,...r){t=ha(t,kr);const i=ha(t.firestore,Vl),a=Yv(i);let o;return o=typeof(e=Vr(e))=="string"||e instanceof $v?Boe(a,"updateDoc",t._key,e,n,r):joe(a,"updateDoc",t._key,e),OI(i,[o.toMutation(t._key,as.exists(!0))])}function oy(t,e){const n=ha(t.firestore,Vl),r=qi(t),i=fF(t.converter,e);return OI(n,[iF(Yv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,as.exists(!1))]).then((()=>r))}function Goe(t,...e){var d,u,m;t=Vr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||oD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oD(e[r])){const y=e[r];e[r]=(d=y.next)==null?void 0:d.bind(y),e[r+1]=(u=y.error)==null?void 0:u.bind(y),e[r+2]=(m=y.complete)==null?void 0:m.bind(y)}let a,o,c;if(t instanceof kr)o=ha(t.firestore,Vl),c=jv(t._key.path),a={next:y=>{e[r]&&e[r](dF(o,t,y))},error:e[r+1],complete:e[r+2]};else{const y=ha(t,Vs);o=ha(y.firestore,Vl),c=y._query;const _=new Jv(o);a={next:I=>{e[r]&&e[r](new cf(o,_,y,I))},error:e[r+1],complete:e[r+2]},cF(t._query)}return(function(_,I,D,M){const R=new bI(M),j=new yI(I,R,D);return _.asyncQueue.enqueueAndForget((async()=>pI(await a1(_),j))),()=>{R.Nu(),_.asyncQueue.enqueueAndForget((async()=>mI(await a1(_),j)))}})(N0(o),c,i,a)}function OI(t,e){return(function(r,i){const a=new Os;return r.asyncQueue.enqueueAndForget((async()=>hoe(await Eoe(r),i,a))),a.promise})(N0(t),e)}function dF(t,e,n){const r=n.docs.get(e._key),i=new Jv(t);return new lf(t,i,e._key,r,new Jp(n.hasPendingWrites,n.fromCache),e.converter)}function kp(t){return $oe(t,{count:Hoe()})}function $oe(t,e){const n=ha(t.firestore,Vl),r=N0(n),i=Kre(e,((a,o)=>new Oie(o,a.aggregateType,a._internalFieldPath)));return Ioe(r,t._query,i).then((a=>(function(c,d,u){const m=new Jv(c);return new Poe(d,m,u)})(n,t,a)))}function Ss(){return new AI("serverTimestamp")}(function(e,n=!0){(function(i){Oh=i})(Rh),Bd(new hf("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new Vl(new Rre(r.getProvider("auth-internal")),new Pre(o,r.getProvider("app-check-internal")),(function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new tt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tm(u.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Qc(cP,uP,e),Qc(cP,uP,"esm2020")})();function hF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Woe=hF,pF=new w0("auth","Firebase",hF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new HC("@firebase/auth");function Yoe(t,...e){s1.logLevel<=mn.WARN&&s1.warn(`Auth (${Rh}): ${t}`,...e)}function Py(t,...e){s1.logLevel<=mn.ERROR&&s1.error(`Auth (${Rh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,...e){throw PI(t,...e)}function os(t,...e){return PI(t,...e)}function MI(t,e,n){const r={...Woe(),[e]:n};return new w0("auth","Firebase",r).create(e,{appName:t.name})}function Ml(t){return MI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Koe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bo(t,"argument-error"),MI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function PI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pF.create(t,...e)}function Dt(t,e,...n){if(!t)throw PI(e,...n)}function Sl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Py(e),new Error(e)}function zl(t,e){t||Sl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Xoe(){return uD()==="http:"||uD()==="https:"}function uD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qoe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xoe()||ane()||"connection"in navigator)?navigator.onLine:!0}function Joe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.shortDelay=e,this.longDelay=n,zl(n>e,"Short delay should be less than long delay!"),this.isMobile=nne()||one()}get(){return Qoe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){zl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tse=new O0(3e4,6e4);function mu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jl(t,e,n,r,i={}){return gF(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=_0({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:d,...a};return ine()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Nh(t.emulatorConfig.host)&&(u.credentials="include"),mF.fetch()(await yF(t,t.config.apiHost,n,c),u)})}async function gF(t,e,n){t._canInitEmulator=!1;const r={...Zoe,...e};try{const i=new rse(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw sy(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,u]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sy(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw sy(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw sy(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MI(t,m,u);Bo(t,m)}}catch(i){if(i instanceof Ql)throw i;Bo(t,"network-request-failed",{message:String(i)})}}async function M0(t,e,n,r,i={}){const a=await Jl(t,e,n,r,i);return"mfaPendingCredential"in a&&Bo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function yF(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?DI(t.config,i):`${t.config.apiScheme}://${i}`;return ese.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function nse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),tse.get())})}}function sy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}function fD(t){return t!==void 0&&t.enterprise!==void 0}class ise{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nse(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ase(t,e){return Jl(t,"GET","/v2/recaptchaConfig",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ose(t,e){return Jl(t,"POST","/v1/accounts:delete",e)}async function l1(t,e){return Jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sse(t,e=!1){const n=Vr(t),r=await n.getIdToken(e),i=kI(r);Dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:um($w(i.auth_time)),issuedAtTime:um($w(i.iat)),expirationTime:um($w(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $w(t){return Number(t)*1e3}function kI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Py("JWT malformed, contained fewer than 3 sections"),null;try{const i=SB(n);return i?JSON.parse(i):(Py("Failed to decode base64 JWT payload"),null)}catch(i){return Py("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dD(t){const e=kI(t);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ql&&lse(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lse({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=um(this.lastLoginAt),this.creationTime=um(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Gd(t,l1(e,{idToken:n}));Dt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(y=i.providerUserInfo)!=null&&y.length?vF(i.providerUserInfo):[],o=fse(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new KS(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function use(t){const e=Vr(t);await c1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vF(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dse(t,e){const n=await gF(t,{},async()=>{const r=_0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await yF(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Nh(t.emulatorConfig.host)&&(d.credentials="include"),mF.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hse(t,e){return Jl(t,"POST","/v2/accounts:revokeToken",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Dt(e.length!==0,"internal-error");const n=dD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await dse(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Rd;return r&&(Dt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Dt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Dt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rd,this.toJSON())}_performRefresh(){return Sl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e){Dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new KS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gd(this,this.stsTokenManager.getToken(this.auth,e));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sse(this,e)}reload(){return use(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await c1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(to(this.auth.app))return Promise.reject(Ml(this.auth));const e=await this.getIdToken();return await Gd(this,ose(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,u=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:I,providerData:D,stsTokenManager:M}=n;Dt(y&&M,e,"internal-error");const R=Rd.fromJSON(this.name,M);Dt(typeof y=="string",e,"internal-error"),Lc(r,e.name),Lc(i,e.name),Dt(typeof _=="boolean",e,"internal-error"),Dt(typeof I=="boolean",e,"internal-error"),Lc(a,e.name),Lc(o,e.name),Lc(c,e.name),Lc(d,e.name),Lc(u,e.name),Lc(m,e.name);const j=new ts({uid:y,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:I,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:R,createdAt:u,lastLoginAt:m});return D&&Array.isArray(D)&&(j.providerData=D.map(B=>({...B}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rd;i.updateFromServerResponse(n);const a=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await c1(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Dt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vF(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Rd;c.updateFromIdToken(r);const d=new ts({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new KS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,u),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Map;function Tl(t){zl(t instanceof Function,"Expected a class definition");let e=hD.get(t);return e?(zl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xF.type="NONE";const pD=xF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e,n){return`firebase:${t}:${e}:${n}`}class Od{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await l1(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Od(Tl(pD),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Tl(pD);const o=Dy(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const m=await u._get(o);if(m){let y;if(typeof m=="string"){const _=await l1(e,{idToken:m}).catch(()=>{});if(!_)break;y=await ts._fromGetAccountInfoResponse(e,_,m)}else y=ts._fromJSON(e,m);u!==a&&(c=y),a=u;break}}catch{}const d=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Od(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Od(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SF(e))return"Blackberry";if(TF(e))return"Webos";if(wF(e))return"Safari";if((e.includes("chrome/")||_F(e))&&!e.includes("edge/"))return"Chrome";if(EF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bF(t=Xi()){return/firefox\//i.test(t)}function wF(t=Xi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _F(t=Xi()){return/crios\//i.test(t)}function AF(t=Xi()){return/iemobile/i.test(t)}function EF(t=Xi()){return/android/i.test(t)}function SF(t=Xi()){return/blackberry/i.test(t)}function TF(t=Xi()){return/webos/i.test(t)}function LI(t=Xi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pse(t=Xi()){var e;return LI(t)&&!!((e=window.navigator)!=null&&e.standalone)}function mse(){return sne()&&document.documentMode===10}function CF(t=Xi()){return LI(t)||EF(t)||TF(t)||SF(t)||/windows phone/i.test(t)||AF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e=[]){let n;switch(t){case"Browser":n=mD(Xi());break;case"Worker":n=`${mD(Xi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yse(t,e={}){return Jl(t,"GET","/v2/passwordPolicy",mu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=6;class xse{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vse,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gD(this),this.idTokenSubscription=new gD(this),this.beforeStateQueue=new gse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tl(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Od.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await l1(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(to(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await c1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Joe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(to(this.app))return Promise.reject(Ml(this));const n=e?Vr(e):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return to(this.app)?Promise.reject(Ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return to(this.app)?Promise.reject(Ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yse(this),n=new xse(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new w0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hse(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tl(e)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await Od.create(this,[Tl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(to(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Yoe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gu(t){return Vr(t)}class gD{constructor(e){this.auth=e,this.observer=null,this.addObserver=mne(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wse(t){Zv=t}function NF(t){return Zv.loadJS(t)}function _se(){return Zv.recaptchaEnterpriseScript}function Ase(){return Zv.gapiScript}function Ese(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Sse{constructor(){this.enterprise=new Tse}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Tse{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Cse="recaptcha-enterprise",RF="NO_RECAPTCHA";class Ise{constructor(e){this.type=Cse,this.auth=gu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{ase(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new ise(d);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;fD(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(RF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sse().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&fD(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_se();d.length!==0&&(d+=c),NF(d).then(()=>{i(c,a,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function yD(t,e,n,r=!1,i=!1){const a=new Ise(t);let o;if(i)o=RF;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function XS(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await yD(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await yD(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t,e){const n=GC(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(df(a,e??{}))return i;Bo(i,"already-initialized")}return n.initialize({options:e})}function Rse(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ose(t,e,n){const r=gu(t);Dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=OF(e),{host:o,port:c}=Mse(e),d=c===null?"":`:${c}`,u={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Dt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Dt(df(u,r.config.emulator)&&df(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Nh(o)?(NB(`${a}//${o}${d}`),RB("Auth",!0)):Pse()}function OF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mse(t){const e=OF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:vD(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:vD(o)}}}function vD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sl("not implemented")}_getIdTokenResponse(e){return Sl("not implemented")}_linkToIdToken(e,n){return Sl("not implemented")}_getReauthenticationResolver(e){return Sl("not implemented")}}async function Dse(t,e){return Jl(t,"POST","/v1/accounts:update",e)}async function kse(t,e){return Jl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lse(t,e){return M0(t,"POST","/v1/accounts:signInWithPassword",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jse(t,e){return M0(t,"POST","/v1/accounts:signInWithEmailLink",mu(t,e))}async function Bse(t,e){return M0(t,"POST","/v1/accounts:signInWithEmailLink",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends jI{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XS(e,n,"signInWithPassword",Lse);case"emailLink":return jse(e,{email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XS(e,r,"signUpPassword",kse);case"emailLink":return Bse(e,{idToken:n,email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t,e){return M0(t,"POST","/v1/accounts:signInWithIdp",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use="http://localhost";class gf extends jI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new gf(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Md(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Md(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Md(e,n)}buildRequest(){const e={requestUri:Use,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vse(t){const e=Wp(Yp(t)).link,n=e?Wp(Yp(e)).deep_link_id:null,r=Wp(Yp(t)).deep_link_id;return(r?Wp(Yp(r)).link:null)||r||n||e||t}class BI{constructor(e){const n=Wp(Yp(e)),r=n.apiKey??null,i=n.oobCode??null,a=Fse(n.mode??null);Dt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Vse(e);try{return new BI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.providerId=If.PROVIDER_ID}static credential(e,n){return Mm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=BI.parseLink(n);return Dt(r,"argument-error"),Mm._fromEmailAndCode(e,r.code,r.tenantId)}}If.PROVIDER_ID="password";If.EMAIL_PASSWORD_SIGN_IN_METHOD="password";If.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends UI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends P0{constructor(){super("facebook.com")}static credential(e){return gf._fromParams({providerId:Vc.PROVIDER_ID,signInMethod:Vc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vc.credentialFromTaggedObject(e)}static credentialFromError(e){return Vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vc.credential(e.oauthAccessToken)}catch{return null}}}Vc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends P0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gf._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _l.credential(n,r)}catch{return null}}}_l.GOOGLE_SIGN_IN_METHOD="google.com";_l.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends P0{constructor(){super("github.com")}static credential(e){return gf._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.GITHUB_SIGN_IN_METHOD="github.com";Al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends P0{constructor(){super("twitter.com")}static credential(e,n){return gf._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zc.credential(n,r)}catch{return null}}}zc.TWITTER_SIGN_IN_METHOD="twitter.com";zc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zse(t,e){return M0(t,"POST","/v1/accounts:signUp",mu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ts._fromIdTokenResponse(e,r,i),o=xD(r);return new yf({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xD(r);return new yf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Ql{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,u1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new u1(e,n,r,i)}}function MF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?u1._fromErrorAndOperation(t,a,e,r):a})}async function Hse(t,e,n=!1){const r=await Gd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e,n=!1){const{auth:r}=t;if(to(r.app))return Promise.reject(Ml(r));const i="reauthenticate";try{const a=await Gd(t,MF(r,i,e,t),n);Dt(a.idToken,r,"internal-error");const o=kI(a.idToken);Dt(o,r,"internal-error");const{sub:c}=o;return Dt(t.uid===c,r,"user-mismatch"),yf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Bo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e,n=!1){if(to(t.app))return Promise.reject(Ml(t));const r="signIn",i=await MF(t,r,e),a=await yf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function qse(t,e){return DF(gu(t),e)}async function Gse(t,e){return PF(Vr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t){const e=gu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bD(t,e,n){if(to(t.app))return Promise.reject(Ml(t));const r=gu(t),o=await XS(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zse).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&kF(t),d}),c=await yf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function $se(t,e,n){return to(t.app)?Promise.reject(Ml(t)):qse(Vr(t),If.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kF(t),r})}function Wse(t,e){return Yse(Vr(t),null,e)}async function Yse(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await Gd(t,Dse(r,a));await t._updateTokensIfNecessary(o,!0)}function Kse(t,e,n,r){return Vr(t).onIdTokenChanged(e,n,r)}function Xse(t,e,n){return Vr(t).beforeAuthStateChanged(e,n)}function Qse(t,e,n,r){return Vr(t).onAuthStateChanged(e,n,r)}function Jse(t){return Vr(t).signOut()}const f1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f1,"1"),this.storage.removeItem(f1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=1e3,ele=10;class jF extends LF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);mse()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ele):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jF.type="LOCAL";const tle=jF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF extends LF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BF.type="SESSION";const UF=BF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ex(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async u=>u(n.origin,a)),d=await nle(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ex.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const u=FI("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function ile(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function ale(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ole(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sle(){return FF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="firebaseLocalStorageDb",lle=1,d1="firebaseLocalStorage",zF="fbase_key";class D0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tx(t,e){return t.transaction([d1],e?"readwrite":"readonly").objectStore(d1)}function cle(){const t=indexedDB.deleteDatabase(VF);return new D0(t).toPromise()}function QS(){const t=indexedDB.open(VF,lle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d1,{keyPath:zF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(d1)?e(r):(r.close(),await cle(),e(await QS()))})})}async function wD(t,e,n){const r=tx(t,!0).put({[zF]:e,value:n});return new D0(r).toPromise()}async function ule(t,e){const n=tx(t,!1).get(e),r=await new D0(n).toPromise();return r===void 0?null:r.value}function _D(t,e){const n=tx(t,!0).delete(e);return new D0(n).toPromise()}const fle=800,dle=3;class HF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ex._getInstance(sle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await ale(),!this.activeServiceWorker)return;this.sender=new rle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ole()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QS();return await wD(e,f1,"1"),await _D(e,f1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ule(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_D(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=tx(i,!1).getAll();return new D0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HF.type="LOCAL";const hle=HF;new O0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e){return e?Tl(e):(Dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends jI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Md(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Md(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Md(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ple(t){return DF(t.auth,new VI(t),t.bypassAuthState)}function mle(t){const{auth:e,user:n}=t;return Dt(n,e,"internal-error"),PF(n,new VI(t),t.bypassAuthState)}async function gle(t){const{auth:e,user:n}=t;return Dt(n,e,"internal-error"),Hse(n,new VI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ple;case"linkViaPopup":case"linkViaRedirect":return gle;case"reauthViaPopup":case"reauthViaRedirect":return mle;default:Bo(this.auth,"internal-error")}}resolve(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle=new O0(2e3,1e4);async function AD(t,e,n){if(to(t.app))return Promise.reject(os(t,"operation-not-supported-in-this-environment"));const r=gu(t);Koe(t,e,UI);const i=qF(r,n);return new tf(r,"signInViaPopup",e,i).executeNotNull()}class tf extends GF{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const e=FI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yle.get())};e()}}tf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="pendingRedirect",ky=new Map;class xle extends GF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ky.get(this.auth._key());if(!e){try{const r=await ble(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ky.set(this.auth._key(),e)}return this.bypassAuthState||ky.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ble(t,e){const n=Ale(e),r=_le(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wle(t,e){ky.set(t._key(),e)}function _le(t){return Tl(t._redirectPersistence)}function Ale(t){return Dy(vle,t.config.apiKey,t.name)}async function Ele(t,e,n=!1){if(to(t.app))return Promise.reject(Ml(t));const r=gu(t),i=qF(r,e),o=await new xle(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=600*1e3;class Tle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$F(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sle&&this.cachedEventUids.clear(),this.cachedEventUids.has(ED(e))}saveEventToCache(e){this.cachedEventUids.add(ED(e)),this.lastProcessedEventTime=Date.now()}}function ED(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $F({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $F(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ile(t,e={}){return Jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rle=/^https?/;async function Ole(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ile(t);for(const n of e)try{if(Mle(n))return}catch{}Bo(t,"unauthorized-domain")}function Mle(t){const e=YS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Rle.test(n))return!1;if(Nle.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple=new O0(3e4,6e4);function SD(){const t=Ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dle(t){return new Promise((e,n)=>{var i,a,o;function r(){SD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SD(),n(os(t,"network-request-failed"))},timeout:Ple.get()})}if((a=(i=Ls().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ls().gapi)!=null&&o.load)r();else{const c=Ese("iframefcb");return Ls()[c]=()=>{gapi.load?r():n(os(t,"network-request-failed"))},NF(`${Ase()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Ly=null,e})}let Ly=null;function kle(t){return Ly=Ly||Dle(t),Ly}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=new O0(5e3,15e3),jle="__/auth/iframe",Ble="emulator/auth/iframe",Ule={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vle(t){const e=t.config;Dt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DI(e,Ble):`https://${t.config.authDomain}/${jle}`,r={apiKey:e.apiKey,appName:t.name,v:Rh},i=Fle.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${_0(r).slice(1)}`}async function zle(t){const e=await kle(t),n=Ls().gapi;return Dt(n,t,"internal-error"),e.open({where:document.body,url:Vle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ule,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=os(t,"network-request-failed"),c=Ls().setTimeout(()=>{a(o)},Lle.get());function d(){Ls().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qle=500,Gle=600,$le="_blank",Wle="http://localhost";class TD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yle(t,e,n,r=qle,i=Gle){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Hle,width:r.toString(),height:i.toString(),top:a,left:o},u=Xi().toLowerCase();n&&(c=_F(u)?$le:n),bF(u)&&(e=e||Wle,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[I,D])=>`${_}${I}=${D},`,"");if(pse(u)&&c!=="_self")return Kle(e||"",c),new TD(null);const y=window.open(e||"",c,m);Dt(y,t,"popup-blocked");try{y.focus()}catch{}return new TD(y)}function Kle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle="__/auth/handler",Qle="emulator/auth/handler",Jle=encodeURIComponent("fac");async function CD(t,e,n,r,i,a){Dt(t.config.authDomain,t,"auth-domain-config-required"),Dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rh,eventId:i};if(e instanceof UI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))o[m]=y}if(e instanceof P0){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),u=d?`#${Jle}=${encodeURIComponent(d)}`:"";return`${Zle(t)}?${_0(c).slice(1)}${u}`}function Zle({config:t}){return t.emulator?DI(t,Qle):`https://${t.authDomain}/${Xle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="webStorageSupport";class ece{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UF,this._completeRedirectFn=Ele,this._overrideRedirectResult=wle}async _openPopup(e,n,r,i){var o;zl((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await CD(e,n,r,YS(),i);return Yle(e,a,FI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await CD(e,n,r,YS(),i);return ile(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(zl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zle(e),r=new Tle(e);return n.register("authEvent",i=>(Dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ww,{type:Ww},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ww];a!==void 0&&n(!!a),Bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ole(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CF()||wF()||LI()}}const tce=ece;var ID="@firebase/auth",ND="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ice(t){Bd(new hf("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Dt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IF(t)},u=new bse(r,i,a,d);return Rse(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bd(new hf("auth-internal",e=>{const n=gu(e.getProvider("auth").getImmediate());return(r=>new nce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qc(ID,ND,rce(t)),Qc(ID,ND,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=300,oce=IB("authIdTokenMaxAge")||ace;let RD=null;const sce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oce)return;const i=n==null?void 0:n.token;RD!==i&&(RD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WF(t=DB()){const e=GC(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nse(t,{popupRedirectResolver:tce,persistence:[hle,tle,UF]}),r=IB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=sce(a.toString());Xse(n,o,()=>o(n.currentUser)),Kse(n,c=>o(c))}}const i=TB("auth");return i&&Ose(n,`http://${i}`),n}function lce(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}wse({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=os("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",lce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ice("Browser");const cce={apiKey:"AIzaSyBqsrPg7DutKyhnvGwdchuEfg7LECz684Q",authDomain:"devwell-b6a4b.firebaseapp.com",databaseURL:"https://devwell-b6a4b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"devwell-b6a4b",storageBucket:"devwell-b6a4b.firebasestorage.app",messagingSenderId:"76204363860",appId:"1:76204363860:web:aff448db2428445cd89dc1",measurementId:"G-NGCJ2KNP4S"},YF=PB(cce),In=Roe(YF),xl=WF(YF),uce=new _l,fce=new Al;class Lt{static async registerWithEmail(e,n,r){const a=(await bD(xl,e,n)).user;try{await kc(qi(In,"users",a.uid),{email:a.email,name:r,tier:"free",createdAt:Ss()})}catch(o){console.error("Error creating user profile:",o)}return a}static async loginWithEmail(e,n){return(await $se(xl,e,n)).user}static async loginWithGoogle(){const n=(await AD(xl,uce)).user,r=qi(In,"users",n.uid);return(await Gu(r)).exists()||await kc(r,{email:n.email,name:n.displayName,tier:"free",createdAt:Ss()}),n}static async loginWithGithub(){const n=(await AD(xl,fce)).user,r=qi(In,"users",n.uid);return(await Gu(r)).exists()||await kc(r,{email:n.email,name:n.displayName,tier:"free",createdAt:Ss()}),n}static async logoutUser(){await Jse(xl)}static onAuthChange(e){return Qse(xl,e)}static async saveHealthEvent(e,n){try{const r=aa(In,"users",e,"events");await oy(r,{...n,timestamp:Ss()});const i=qi(In,"users",e),a=await Gu(i);a.exists()&&!a.data().firstCameraSync&&await cD(i,{firstCameraSync:Ss()})}catch(r){console.error("Firebase Error:",r)}}static async getHealthEvents(e,n=20){try{const r=aa(In,"users",e,"events"),i=Es(r,Dp("timestamp","desc"),cd(n));return(await Dc(i)).docs.map(o=>{var d;const c=o.data();return{id:o.id,type:c.type,severity:c.severity,description:c.description,timestamp:((d=c.timestamp)==null?void 0:d.toMillis())||Date.now(),...c}})}catch(r){return console.error("Firebase Error:",r),[]}}static async get24HourAlerts(e){try{const n=aa(In,"users",e,"events"),r=new Date(Date.now()-1440*60*1e3),i=Es(n,Gw("timestamp",">=",r));return(await kp(i)).data().count}catch(n){return console.error("Error fetching 24h alerts:",n),0}}static async getFatigueReadings(e,n=24){try{const r=aa(In,"users",e,"events"),i=new Date(Date.now()-n*60*60*1e3),a=Es(r,Gw("type","==","FATIGUE"),Gw("timestamp",">=",i),Dp("timestamp","asc"));return(await Dc(a)).docs.map(c=>{var d;return{timestamp:((d=c.data().timestamp)==null?void 0:d.toMillis())||Date.now(),level:c.data().fatigueLevel||0}}).filter(c=>c.level>0)}catch(r){return console.error("Error fetching fatigue readings:",r),[]}}static async getHourlyFatigueAverage(e){try{const n=await this.getFatigueReadings(e,24),r={},i=new Date;for(let a=0;a<24;a++){const c=new Date(i.getTime()-(23-a)*60*60*1e3).getHours().toString().padStart(2,"0")+":00";r[c]=[]}return n.length===0?Object.entries(r).map(([a,o])=>({time:a,avgFatigue:0})):(n.forEach(a=>{const c=new Date(a.timestamp).getHours().toString().padStart(2,"0")+":00";r[c]&&r[c].push(a.level)}),Object.entries(r).map(([a,o])=>({time:a,avgFatigue:o.length?Math.round(o.reduce((c,d)=>c+d,0)/o.length*10)/10:0})))}catch(n){return console.error("Error calculating hourly fatigue:",n),[]}}static async get7DayActivity(e){try{const n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=new Date().getDay();return Array(7).fill(0).map((i,a)=>{const o=(r-6+a+7)%7;return{name:n[o],activity:0}})}catch{return[]}}static async getProgressData(e){try{const n=qi(In,"users",e),r=await Gu(n);let i=Date.now()-10080*60*1e3;r.exists()&&r.data().firstCameraSync&&(i=r.data().firstCameraSync.toMillis());const a=Date.now();let o=Math.max(1,Math.floor((a-i)/(1440*60*1e3)));return o>365&&(o=365),Array(o+1).fill(0).map((c,d)=>{const u=new Date(i+d*24*60*60*1e3);return{date:u.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"}),fullDate:u.toLocaleDateString(),timestamp:u.getTime(),productivityScore:0,avgFatigue:0}})}catch(n){return console.error("Error getting progress data",n),[]}}static async getUserProfile(e){try{const n=qi(In,"users",e),r=await Gu(n);return r.exists()?r.data():null}catch(n){return console.error("Error fetching user profile:",n),null}}static async getUserSubscription(e){try{const n=qi(In,"users",e),r=await Gu(n);return r.exists()&&r.data().tier||"free"}catch{return"free"}}static async upgradeUser(e){try{const n=qi(In,"users",e);await kc(n,{tier:"pro"},{merge:!0})}catch(n){console.error("Upgrade Error:",n)}}static async toggleTier(e,n){try{const r=qi(In,"users",e);await kc(r,{tier:n},{merge:!0})}catch(r){throw console.error("Error toggling tier:",r),r}}static async savePrivacySettings(e,n){const r=qi(In,"users",e);await kc(r,{privacySettings:n},{merge:!0})}static async getPrivacySettings(e){const n=qi(In,"users",e),r=await Gu(n);return r.exists()?r.data().privacySettings:null}static async saveFeedback(e,n,r){try{const i=aa(In,"feedback");await oy(i,{userId:e||"anonymous",rating:n,comment:r,timestamp:Ss()})}catch(i){console.error("Firebase Error (Feedback):",i)}}static async saveSupportTicket(e){try{const n=aa(In,"support_tickets");await oy(n,{...e,status:"open",timestamp:Ss()})}catch(n){console.error("Firebase Error (Support):",n)}}static async getGlobalStats(){try{const n=(await kp(aa(In,"users"))).data().count,i=(await kp(aa(In,"feedback"))).data().count,o=(await kp(aa(In,"support_tickets"))).data().count,c=Es(nD(In,"events")),u=(await kp(c)).data().count,m=Math.floor(n*.4);return{totalUsers:n,totalFeedback:i,totalTickets:o,totalEvents:u,activeUplinks:m}}catch(e){return console.error("Error fetching global stats:",e),{totalUsers:0,totalFeedback:0,totalTickets:0,totalEvents:0,activeUplinks:0}}}static async getRecentGlobalEvents(e=100){try{const n=Es(nD(In,"events"),Dp("timestamp","desc"),cd(e));return(await Dc(n)).docs.map(i=>{var a;return{id:i.id,...i.data(),timestamp:((a=i.data().timestamp)==null?void 0:a.toMillis())||Date.now(),severity:i.data().severity||"LOW",type:i.data().type||"UNKNOWN"}})}catch(n){return console.error("Error fetching events:",n),[]}}static async getRecentFeedback(e=20){try{const n=Es(aa(In,"feedback"),Dp("timestamp","desc"),cd(e));return(await Dc(n)).docs.map(i=>i.data().comment||"No content")}catch(n){return console.error("Error fetching feedback:",n),[]}}static get currentUser(){return xl.currentUser}static async deleteUserAccount(e){try{const n=qi(In,"users",e);await kc(n,{deleted:!0,deletedAt:Ss()});const r=xl.currentUser;r&&await r.delete()}catch(n){throw console.error("Delete Account Error:",n),n}}static async changePassword(e,n){const r=xl.currentUser;if(!r||!r.email)throw new Error("No user authenticated");try{const i=If.credential(r.email,e);await Gse(r,i),await Wse(r,n)}catch(i){throw console.error("Error changing password:",i),i}}static async getHourlyActivity(){return Array.from({length:24},(e,n)=>({hour:n,activeUsers:0,freeUsers:0,proUsers:0}))}static async getUsersByTier(){return[{date:"Mon",free:0,pro:0,zinPro:0},{date:"Tue",free:0,pro:0,zinPro:0},{date:"Wed",free:0,pro:0,zinPro:0},{date:"Thu",free:0,pro:0,zinPro:0},{date:"Fri",free:0,pro:0,zinPro:0},{date:"Sat",free:0,pro:0,zinPro:0},{date:"Sun",free:0,pro:0,zinPro:0}]}static async getAlertHistogram(){return[{range:"0-5",count:0},{range:"6-10",count:0},{range:"11-20",count:0},{range:"21-30",count:0},{range:"31-50",count:0},{range:"50+",count:0}]}static async getFeedbackStats(){try{const e=Es(aa(In,"feedback"),cd(100)),n=await Dc(e);if(n.empty)return{avgRating:"0.0",totalRaters:0,distribution:{1:0,2:0,3:0,4:0,5:0}};let r=0,i=0,a={1:0,2:0,3:0,4:0,5:0};return n.forEach(o=>{const c=o.data().rating;typeof c=="number"&&(r+=c,i++,c>=1&&c<=5&&a[c]++)}),{avgRating:i>0?(r/i).toFixed(1):"0.0",totalRaters:i,distribution:a}}catch{return{avgRating:"0.0",totalRaters:0,distribution:{1:0,2:0,3:0,4:0,5:0}}}}static async getTicketDistribution(){try{const e=Es(aa(In,"support_tickets")),n=await Dc(e);if(n.empty)return[{name:"general",value:0},{name:"support",value:0},{name:"feedback",value:0},{name:"billing",value:0}];const r={general:0,support:0,feedback:0,billing:0};return n.forEach(i=>{const a=i.data().issue;r[a]!==void 0&&r[a]++}),Object.entries(r).map(([i,a])=>({name:i,value:a}))}catch{return[{name:"general",value:0},{name:"support",value:0},{name:"feedback",value:0},{name:"billing",value:0}]}}static async getAllFeedbackRaw(){try{const e=Es(aa(In,"feedback"),Dp("timestamp","desc"),cd(50));return(await Dc(e)).docs.map(r=>r.data())}catch{return[]}}static async getAllTicketsRaw(){try{const e=Es(aa(In,"support_tickets"),cd(50));return(await Dc(e)).docs.map(r=>r.data())}catch{return[]}}static async activateDemoMode(){const e=WF();let n=e.currentUser;if(n)await this.upgradeUser(n.uid);else{const r=Math.random().toString(36).substring(7),i=`demo_${r}@devwell.app`,a=`pass_${r}`;try{n=(await bD(e,i,a)).user,await kc(qi(In,"users",n.uid),{email:n.email,name:"Demo Explorer",tier:"pro",createdAt:Ss(),isDemo:!0})}catch(o){throw console.error("Demo creation failed:",o),o}}}static async createSyncSession(e){return(await oy(aa(In,"remote_sessions"),{hostId:e,createdAt:Ss(),isActive:!0,data:null})).id}static async updateSessionData(e,n,r){const i=qi(In,"remote_sessions",e);await cD(i,{data:{image:n,audio:r||null,timestamp:Date.now()}})}static onSessionDataChange(e,n){return Goe(qi(In,"remote_sessions",e),i=>{i.exists()&&n(i.data().data)})}}var $d=(t=>(t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t))($d||{}),Zp=(t=>(t.FATIGUE="FATIGUE",t.POSTURE="POSTURE",t.STRESS="STRESS",t.FOCUS="FOCUS",t))(Zp||{});const dce=ne.forwardRef(({onEventDetected:t,isMonitoring:e,setIsMonitoring:n},r)=>{const i=ne.useRef(null),a=ne.useRef(null),[o,c]=ne.useState(null),[d,u]=ne.useState(null);ne.useImperativeHandle(r,()=>({getSnapshot:()=>{if(d)return d.split(",")[1];if(!i.current)return null;const L=document.createElement("canvas");L.width=i.current.videoWidth,L.height=i.current.videoHeight;const V=L.getContext("2d");return V?(V.drawImage(i.current,0,0),L.toDataURL("image/jpeg",.8).split(",")[1]):null}})),ne.useEffect(()=>{(async()=>{await Lt.onAuthChange(()=>{})})()},[]);const m=async()=>{const L=prompt("Enter Remote Session ID from Mobile:");L&&(c(L),n(!0))};ne.useEffect(()=>{if(!o)return;const L=Lt.onSessionDataChange(o,V=>{V!=null&&V.image&&u(V.image)});return()=>L()},[o]),ne.useRef(null),ne.useRef(null);const y=ne.useRef(null),[_,I]=ne.useState(!1),[D,M]=ne.useState(null),[R,j]=ne.useState(0),B=ne.useRef(null),[U,$]=ne.useState(0);ne.useEffect(()=>{if("webkitSpeechRecognition"in window){const L=new window.webkitSpeechRecognition;L.continuous=!0,L.interimResults=!1,L.lang="en-US",L.onresult=async V=>{if(Date.now()-U<3e3)return;const ee=V.results[V.results.length-1][0].transcript;ee.trim().length>0&&H(ee)},L.onend=()=>{e&&L.start()},B.current=L}},[e,U]);const H=async L=>{if(!i.current)return;const V=document.createElement("canvas");V.width=i.current.videoWidth,V.height=i.current.videoHeight;const F=V.getContext("2d");if(!F)return;F.drawImage(i.current,0,0);const ee=V.toDataURL("image/jpeg",.8).split(",")[1];I(!0);const K=await io.chatWithVision(L,ee);I(!1),$(Date.now()),await io.speak(K),$(Date.now())},G=ne.useCallback(async()=>{if(!e||!i.current||_)return;I(!0);const L=a.current,V=i.current,F=L.getContext("2d");L.width=V.videoWidth,L.height=V.videoHeight,F.drawImage(V,0,0);const ee=L.toDataURL("image/jpeg",.8).split(",")[1];let K;if(y.current){const Q=new Uint8Array(y.current.buffer);let X="";for(let ge=0;ge<Q.byteLength;ge++)X+=String.fromCharCode(Q[ge]);K=btoa(X)}try{const Q=await io.analyzeNeuralBurst(ee,K);Q&&((Q.severity!==$d.LOW||Q.type==="FATIGUE")&&(t(Q),M(Q),setTimeout(()=>M(null),6e3)),j(Q.vocalTensionScore||0))}catch(Q){console.error(Q)}finally{I(!1)}},[e,_,t]);return ne.useEffect(()=>{let L;return e&&(L=setInterval(G,2e4)),()=>clearInterval(L)},[e,G]),b.jsxs("div",{className:"glass-card rounded-[40px] p-6 lg:p-10 relative overflow-hidden space-y-6 lg:space-y-8 h-full bg-slate-900 border border-slate-800",children:[b.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[o?b.jsx(MC,{className:"text-indigo-400"}):b.jsx(vY,{className:"text-blue-500 animate-pulse"}),b.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:o?"Remote Node Linked":"Bio-Signal Monitor"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[!e&&!o&&b.jsx("button",{onClick:m,className:"text-[10px] font-black uppercase text-indigo-400 hover:text-white transition-colors",children:"Link Mobile"}),b.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border flex items-center gap-2 ${e?"bg-green-500/10 text-green-500 border-green-500/20":"bg-slate-800 text-slate-500 border-white/5"}`,children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${e?"bg-green-500 animate-pulse":"bg-slate-600"}`}),e?"Live Feed":"Offline"]})]})]}),b.jsx("div",{className:"relative aspect-video rounded-3xl overflow-hidden bg-black/50 border border-white/5 shadow-inner group",children:e?b.jsxs(b.Fragment,{children:[d?b.jsx("img",{src:d,className:"w-full h-full object-cover",alt:"Remote Feed"}):b.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover opacity-80 group-hover:scale-105 transition-transform duration-700"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/10 to-transparent pointer-events-none"}),b.jsx("div",{className:"absolute top-4 right-4 flex flex-col gap-2 items-end",children:b.jsx("div",{className:"bg-black/50 backdrop-blur-md px-3 py-1 rounded-lg border border-white/10 text-[10px] font-mono text-emerald-400",children:o?"R-LINK: STABLE":"CAM-1: ACTIVE"})}),_&&b.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 bg-blue-600/20 backdrop-blur-md px-3 py-1 rounded-lg border border-blue-500/30 text-[10px] font-bold text-blue-300 animate-pulse",children:[b.jsx(Aj,{size:12,className:"animate-spin"}),"ANALYZING NEURAL DATA..."]})]}):b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-600 bg-slate-900/50",children:[b.jsx(KW,{size:48,className:"mb-4 opacity-50"}),b.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"Sensors Deactivated"})]})})]})});function KF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KF(t))&&(r&&(r+=" "),r+=e);return r}var Yw,OD;function Pa(){if(OD)return Yw;OD=1;var t=Array.isArray;return Yw=t,Yw}var Kw,MD;function XF(){if(MD)return Kw;MD=1;var t=typeof qc=="object"&&qc&&qc.Object===Object&&qc;return Kw=t,Kw}var Xw,PD;function zs(){if(PD)return Xw;PD=1;var t=XF(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Xw=n,Xw}var Qw,DD;function k0(){if(DD)return Qw;DD=1;var t=zs(),e=t.Symbol;return Qw=e,Qw}var Jw,kD;function hce(){if(kD)return Jw;kD=1;var t=k0(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var c=n.call(o,i),d=o[i];try{o[i]=void 0;var u=!0}catch{}var m=r.call(o);return u&&(c?o[i]=d:delete o[i]),m}return Jw=a,Jw}var Zw,LD;function pce(){if(LD)return Zw;LD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Zw=n,Zw}var e_,jD;function Zl(){if(jD)return e_;jD=1;var t=k0(),e=hce(),n=pce(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:r:a&&a in Object(c)?e(c):n(c)}return e_=o,e_}var t_,BD;function ec(){if(BD)return t_;BD=1;function t(e){return e!=null&&typeof e=="object"}return t_=t,t_}var n_,UD;function kh(){if(UD)return n_;UD=1;var t=Zl(),e=ec(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return n_=r,n_}var r_,FD;function zI(){if(FD)return r_;FD=1;var t=Pa(),e=kh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return r_=i,r_}var i_,VD;function yu(){if(VD)return i_;VD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return i_=t,i_}var a_,zD;function HI(){if(zD)return a_;zD=1;var t=Zl(),e=yu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==r||d==i||d==n||d==a}return a_=o,a_}var o_,HD;function mce(){if(HD)return o_;HD=1;var t=zs(),e=t["__core-js_shared__"];return o_=e,o_}var s_,qD;function gce(){if(qD)return s_;qD=1;var t=mce(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return s_=n,s_}var l_,GD;function QF(){if(GD)return l_;GD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return l_=n,l_}var c_,$D;function yce(){if($D)return c_;$D=1;var t=HI(),e=gce(),n=yu(),r=QF(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(_){if(!n(_)||e(_))return!1;var I=t(_)?m:a;return I.test(r(_))}return c_=y,c_}var u_,WD;function vce(){if(WD)return u_;WD=1;function t(e,n){return e==null?void 0:e[n]}return u_=t,u_}var f_,YD;function Nf(){if(YD)return f_;YD=1;var t=yce(),e=vce();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return f_=n,f_}var d_,KD;function nx(){if(KD)return d_;KD=1;var t=Nf(),e=t(Object,"create");return d_=e,d_}var h_,XD;function xce(){if(XD)return h_;XD=1;var t=nx();function e(){this.__data__=t?t(null):{},this.size=0}return h_=e,h_}var p_,QD;function bce(){if(QD)return p_;QD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return p_=t,p_}var m_,JD;function wce(){if(JD)return m_;JD=1;var t=nx(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var c=o[a];return c===e?void 0:c}return r.call(o,a)?o[a]:void 0}return m_=i,m_}var g_,ZD;function _ce(){if(ZD)return g_;ZD=1;var t=nx(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return g_=r,g_}var y_,ek;function Ace(){if(ek)return y_;ek=1;var t=nx(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return y_=n,y_}var v_,tk;function Ece(){if(tk)return v_;tk=1;var t=xce(),e=bce(),n=wce(),r=_ce(),i=Ace();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var u=o[c];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,v_=a,v_}var x_,nk;function Sce(){if(nk)return x_;nk=1;function t(){this.__data__=[],this.size=0}return x_=t,x_}var b_,rk;function qI(){if(rk)return b_;rk=1;function t(e,n){return e===n||e!==e&&n!==n}return b_=t,b_}var w_,ik;function rx(){if(ik)return w_;ik=1;var t=qI();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return w_=e,w_}var __,ak;function Tce(){if(ak)return __;ak=1;var t=rx(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var c=a.length-1;return o==c?a.pop():n.call(a,o,1),--this.size,!0}return __=r,__}var A_,ok;function Cce(){if(ok)return A_;ok=1;var t=rx();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return A_=e,A_}var E_,sk;function Ice(){if(sk)return E_;sk=1;var t=rx();function e(n){return t(this.__data__,n)>-1}return E_=e,E_}var S_,lk;function Nce(){if(lk)return S_;lk=1;var t=rx();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return S_=e,S_}var T_,ck;function ix(){if(ck)return T_;ck=1;var t=Sce(),e=Tce(),n=Cce(),r=Ice(),i=Nce();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var u=o[c];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,T_=a,T_}var C_,uk;function GI(){if(uk)return C_;uk=1;var t=Nf(),e=zs(),n=t(e,"Map");return C_=n,C_}var I_,fk;function Rce(){if(fk)return I_;fk=1;var t=Ece(),e=ix(),n=GI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return I_=r,I_}var N_,dk;function Oce(){if(dk)return N_;dk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return N_=t,N_}var R_,hk;function ax(){if(hk)return R_;hk=1;var t=Oce();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return R_=e,R_}var O_,pk;function Mce(){if(pk)return O_;pk=1;var t=ax();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return O_=e,O_}var M_,mk;function Pce(){if(mk)return M_;mk=1;var t=ax();function e(n){return t(this,n).get(n)}return M_=e,M_}var P_,gk;function Dce(){if(gk)return P_;gk=1;var t=ax();function e(n){return t(this,n).has(n)}return P_=e,P_}var D_,yk;function kce(){if(yk)return D_;yk=1;var t=ax();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return D_=e,D_}var k_,vk;function $I(){if(vk)return k_;vk=1;var t=Rce(),e=Mce(),n=Pce(),r=Dce(),i=kce();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var u=o[c];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,k_=a,k_}var L_,xk;function JF(){if(xk)return L_;xk=1;var t=$I(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=a.cache;if(d.has(c))return d.get(c);var u=r.apply(this,o);return a.cache=d.set(c,u)||d,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,L_=n,L_}var j_,bk;function Lce(){if(bk)return j_;bk=1;var t=JF(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return j_=n,j_}var B_,wk;function jce(){if(wk)return B_;wk=1;var t=Lce(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,c,d,u){a.push(d?u.replace(n,"$1"):c||o)}),a});return B_=r,B_}var U_,_k;function WI(){if(_k)return U_;_k=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return U_=t,U_}var F_,Ak;function Bce(){if(Ak)return F_;Ak=1;var t=k0(),e=WI(),n=Pa(),r=kh(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(n(c))return e(c,o)+"";if(r(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return F_=o,F_}var V_,Ek;function ZF(){if(Ek)return V_;Ek=1;var t=Bce();function e(n){return n==null?"":t(n)}return V_=e,V_}var z_,Sk;function eV(){if(Sk)return z_;Sk=1;var t=Pa(),e=zI(),n=jce(),r=ZF();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return z_=i,z_}var H_,Tk;function ox(){if(Tk)return H_;Tk=1;var t=kh();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return H_=e,H_}var q_,Ck;function YI(){if(Ck)return q_;Ck=1;var t=eV(),e=ox();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return q_=n,q_}var G_,Ik;function tV(){if(Ik)return G_;Ik=1;var t=YI();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return G_=e,G_}var Uce=tV();const oo=En(Uce);var $_,Nk;function Fce(){if(Nk)return $_;Nk=1;function t(e){return e==null}return $_=t,$_}var Vce=Fce();const Ct=En(Vce);var W_,Rk;function zce(){if(Rk)return W_;Rk=1;var t=Zl(),e=Pa(),n=ec(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return W_=i,W_}var Hce=zce();const L0=En(Hce);var qce=HI();const St=En(qce);var Gce=yu();const Lh=En(Gce);var Y_={exports:{}},Bn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function $ce(){if(Ok)return Bn;Ok=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),D;D=Symbol.for("react.module.reference");function M(R){if(typeof R=="object"&&R!==null){var j=R.$$typeof;switch(j){case t:switch(R=R.type,R){case n:case i:case r:case u:case m:return R;default:switch(R=R&&R.$$typeof,R){case c:case o:case d:case _:case y:case a:return R;default:return j}}case e:return j}}}return Bn.ContextConsumer=o,Bn.ContextProvider=a,Bn.Element=t,Bn.ForwardRef=d,Bn.Fragment=n,Bn.Lazy=_,Bn.Memo=y,Bn.Portal=e,Bn.Profiler=i,Bn.StrictMode=r,Bn.Suspense=u,Bn.SuspenseList=m,Bn.isAsyncMode=function(){return!1},Bn.isConcurrentMode=function(){return!1},Bn.isContextConsumer=function(R){return M(R)===o},Bn.isContextProvider=function(R){return M(R)===a},Bn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Bn.isForwardRef=function(R){return M(R)===d},Bn.isFragment=function(R){return M(R)===n},Bn.isLazy=function(R){return M(R)===_},Bn.isMemo=function(R){return M(R)===y},Bn.isPortal=function(R){return M(R)===e},Bn.isProfiler=function(R){return M(R)===i},Bn.isStrictMode=function(R){return M(R)===r},Bn.isSuspense=function(R){return M(R)===u},Bn.isSuspenseList=function(R){return M(R)===m},Bn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===i||R===r||R===u||R===m||R===I||typeof R=="object"&&R!==null&&(R.$$typeof===_||R.$$typeof===y||R.$$typeof===a||R.$$typeof===o||R.$$typeof===d||R.$$typeof===D||R.getModuleId!==void 0)},Bn.typeOf=M,Bn}var Mk;function Wce(){return Mk||(Mk=1,Y_.exports=$ce()),Y_.exports}var Yce=Wce(),K_,Pk;function nV(){if(Pk)return K_;Pk=1;var t=Zl(),e=ec(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return K_=r,K_}var X_,Dk;function Kce(){if(Dk)return X_;Dk=1;var t=nV();function e(n){return t(n)&&n!=+n}return X_=e,X_}var Xce=Kce();const jh=En(Xce);var Qce=nV();const Jce=En(Qce);var ca=function(e){return e===0?0:e>0?1:-1},nf=function(e){return L0(e)&&e.indexOf("%")===e.length-1},Xe=function(e){return Jce(e)&&!jh(e)},ai=function(e){return Xe(e)||L0(e)},Zce=0,vu=function(e){var n=++Zce;return"".concat(e||"").concat(n)},ua=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(e)&&!L0(e))return r;var a;if(nf(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return jh(a)&&(a=r),i&&a>n&&(a=n),a},Hc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},eue=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zn=function(e,n){return Xe(e)&&Xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function h1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):oo(r,e))===n})}var tue=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,a=0,o=0,c=1/0,d=-1/0,u=0,m=0,y=0;y<n;y++)u=e[y].cx||0,m=e[y].cy||0,r+=u,i+=m,a+=u*m,o+=u*u,c=Math.min(c,u),d=Math.max(d,u);var _=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:c,xmax:d,a:_,b:(i-_*r)/n}};function Pd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function JS(t){"@babel/helpers - typeof";return JS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JS(t)}var nue=["viewBox","children"],rue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kk=["points","pathLength"],Q_={svg:nue,polygon:kk,polyline:kk},KI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],p1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ne.isValidElement(e)&&(r=e.props),!Lh(r))return null;var i={};return Object.keys(r).forEach(function(a){KI.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},iue=function(e,n,r){return function(i){return e(n,r,i),null}},uu=function(e,n,r){if(!Lh(e)||JS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];KI.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=iue(o,n,r))}),i},aue=["children"],oue=["children"];function Lk(t,e){if(t==null)return{};var n=sue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZS(t){"@babel/helpers - typeof";return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(t)}var jk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Bk=null,J_=null,XI=function t(e){if(e===Bk&&Array.isArray(J_))return J_;var n=[];return ne.Children.forEach(e,function(r){Ct(r)||(Yce.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),J_=n,Bk=e,n};function pa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Pl(i)}):r=[Pl(e)],XI(t).forEach(function(i){var a=oo(i,"type.displayName")||oo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function eo(t,e){var n=pa(t,e);return n&&n[0]}var Uk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Xe(r)||r<=0||!Xe(i)||i<=0)},lue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cue=function(e){return e&&e.type&&L0(e.type)&&lue.indexOf(e.type)>=0},rV=function(e){return e&&ZS(e)==="object"&&"clipDot"in e},uue=function(e,n,r,i){var a,o=(a=Q_==null?void 0:Q_[i])!==null&&a!==void 0?a:[];return!St(e)&&(i&&o.includes(n)||rue.includes(n))||r&&KI.includes(n)},ot=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ne.isValidElement(e)&&(i=e.props),!Lh(i))return null;var a={};return Object.keys(i).forEach(function(o){var c;uue((c=i)===null||c===void 0?void 0:c[o],o,n,r)&&(a[o]=i[o])}),a},eT=function t(e,n){if(e===n)return!0;var r=ne.Children.count(e);if(r!==ne.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Fk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!Fk(a,o))return!1}return!0},Fk=function(e,n){if(Ct(e)&&Ct(n))return!0;if(!Ct(e)&&!Ct(n)){var r=e.props||{},i=r.children,a=Lk(r,aue),o=n.props||{},c=o.children,d=Lk(o,oue);return i&&c?Pd(a,d)&&eT(i,c):!i&&!c?Pd(a,d):!1}return!1},Vk=function(e,n){var r=[],i={};return XI(e).forEach(function(a,o){if(cue(a))r.push(a);else if(a){var c=Pl(a.type),d=n[c]||{},u=d.handler,m=d.once;if(u&&(!m||!i[c])){var y=u(a,c,o);r.push(y),i[c]=!0}}}),r},fue=function(e){var n=e&&e.type;return n&&jk[n]?jk[n]:null},due=function(e,n){return XI(n).indexOf(e)},hue=["children","width","height","viewBox","className","style","title","desc"];function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(this,arguments)}function pue(t,e){if(t==null)return{};var n=mue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,c=t.title,d=t.desc,u=pue(t,hue),m=i||{width:n,height:r,x:0,y:0},y=jt("recharts-surface",a);return le.createElement("svg",tT({},ot(u,!0,"svg"),{className:y,width:n,height:r,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),le.createElement("title",null,c),le.createElement("desc",null,d),e)}var gue=["children","className"];function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(this,arguments)}function yue(t,e){if(t==null)return{};var n=vue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ht=le.forwardRef(function(t,e){var n=t.children,r=t.className,i=yue(t,gue),a=jt("recharts-layer",r);return le.createElement("g",rT({className:a},ot(i,!0),{ref:e}),n)}),ss=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Z_,zk;function xue(){if(zk)return Z_;zk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return Z_=t,Z_}var eA,Hk;function bue(){if(Hk)return eA;Hk=1;var t=xue();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return eA=e,eA}var tA,qk;function iV(){if(qk)return tA;qk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+a+"]");function d(u){return c.test(u)}return tA=d,tA}var nA,Gk;function wue(){if(Gk)return nA;Gk=1;function t(e){return e.split("")}return nA=t,nA}var rA,$k;function _ue(){if($k)return rA;$k=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",u="(?:"+c+"|"+d+")",m="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",I="\\u200d",D=u+"?",M="["+a+"]?",R="(?:"+I+"(?:"+[m,y,_].join("|")+")"+M+D+")*",j=M+D+R,B="(?:"+[m+c+"?",c,y,_,o].join("|")+")",U=RegExp(d+"(?="+d+")|"+B+j,"g");function $(H){return H.match(U)||[]}return rA=$,rA}var iA,Wk;function Aue(){if(Wk)return iA;Wk=1;var t=wue(),e=iV(),n=_ue();function r(i){return e(i)?n(i):t(i)}return iA=r,iA}var aA,Yk;function Eue(){if(Yk)return aA;Yk=1;var t=bue(),e=iV(),n=Aue(),r=ZF();function i(a){return function(o){o=r(o);var c=e(o)?n(o):void 0,d=c?c[0]:o.charAt(0),u=c?t(c,1).join(""):o.slice(1);return d[a]()+u}}return aA=i,aA}var oA,Kk;function Sue(){if(Kk)return oA;Kk=1;var t=Eue(),e=t("toUpperCase");return oA=e,oA}var Tue=Sue();const sx=En(Tue);function ar(t){return function(){return t}}const aV=Math.cos,m1=Math.sin,ds=Math.sqrt,g1=Math.PI,lx=2*g1,iT=Math.PI,aT=2*iT,Qu=1e-6,Cue=aT-Qu;function oV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Iue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oV;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Nue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oV:Iue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=r-e,u=i-n,m=o-e,y=c-n,_=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Qu)if(!(Math.abs(y*d-u*m)>Qu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let I=r-o,D=i-c,M=d*d+u*u,R=I*I+D*D,j=Math.sqrt(M),B=Math.sqrt(_),U=a*Math.tan((iT-Math.acos((M+_-R)/(2*j*B)))/2),$=U/B,H=U/j;Math.abs($-1)>Qu&&this._append`L${e+$*m},${n+$*y}`,this._append`A${a},${a},0,0,${+(y*I>m*D)},${this._x1=e+H*d},${this._y1=n+H*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),u=e+c,m=n+d,y=1^o,_=o?i-a:a-i;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Qu||Math.abs(this._y1-m)>Qu)&&this._append`L${u},${m}`,r&&(_<0&&(_=_%aT+aT),_>Cue?this._append`A${r},${r},0,1,${y},${e-c},${n-d}A${r},${r},0,1,${y},${this._x1=u},${this._y1=m}`:_>Qu&&this._append`A${r},${r},0,${+(_>=iT)},${y},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Nue(e)}function JI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sV(t){this._context=t}sV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cx(t){return new sV(t)}function lV(t){return t[0]}function cV(t){return t[1]}function uV(t,e){var n=ar(!0),r=null,i=cx,a=null,o=QI(c);t=typeof t=="function"?t:t===void 0?lV:ar(t),e=typeof e=="function"?e:e===void 0?cV:ar(e);function c(d){var u,m=(d=JI(d)).length,y,_=!1,I;for(r==null&&(a=i(I=o())),u=0;u<=m;++u)!(u<m&&n(y=d[u],u,d))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+t(y,u,d),+e(y,u,d));if(I)return a=null,I+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:ar(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:ar(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ar(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function ly(t,e,n){var r=null,i=ar(!0),a=null,o=cx,c=null,d=QI(u);t=typeof t=="function"?t:t===void 0?lV:ar(+t),e=typeof e=="function"?e:ar(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?cV:ar(+n);function u(y){var _,I,D,M=(y=JI(y)).length,R,j=!1,B,U=new Array(M),$=new Array(M);for(a==null&&(c=o(B=d())),_=0;_<=M;++_){if(!(_<M&&i(R=y[_],_,y))===j)if(j=!j)I=_,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),D=_-1;D>=I;--D)c.point(U[D],$[D]);c.lineEnd(),c.areaEnd()}j&&(U[_]=+t(R,_,y),$[_]=+e(R,_,y),c.point(r?+r(R,_,y):U[_],n?+n(R,_,y):$[_]))}if(B)return c=null,B+""||null}function m(){return uV().defined(i).curve(o).context(a)}return u.x=function(y){return arguments.length?(t=typeof y=="function"?y:ar(+y),r=null,u):t},u.x0=function(y){return arguments.length?(t=typeof y=="function"?y:ar(+y),u):t},u.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:ar(+y),u):r},u.y=function(y){return arguments.length?(e=typeof y=="function"?y:ar(+y),n=null,u):e},u.y0=function(y){return arguments.length?(e=typeof y=="function"?y:ar(+y),u):e},u.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:ar(+y),u):n},u.lineX0=u.lineY0=function(){return m().x(t).y(e)},u.lineY1=function(){return m().x(t).y(n)},u.lineX1=function(){return m().x(r).y(e)},u.defined=function(y){return arguments.length?(i=typeof y=="function"?y:ar(!!y),u):i},u.curve=function(y){return arguments.length?(o=y,a!=null&&(c=o(a)),u):o},u.context=function(y){return arguments.length?(y==null?a=c=null:c=o(a=y),u):a},u}class fV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Rue(t){return new fV(t,!0)}function Oue(t){return new fV(t,!1)}const ZI={draw(t,e){const n=ds(e/g1);t.moveTo(n,0),t.arc(0,0,n,0,lx)}},Mue={draw(t,e){const n=ds(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},dV=ds(1/3),Pue=dV*2,Due={draw(t,e){const n=ds(e/Pue),r=n*dV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},kue={draw(t,e){const n=ds(e),r=-n/2;t.rect(r,r,n,n)}},Lue=.8908130915292852,hV=m1(g1/10)/m1(7*g1/10),jue=m1(lx/10)*hV,Bue=-aV(lx/10)*hV,Uue={draw(t,e){const n=ds(e*Lue),r=jue*n,i=Bue*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=lx*a/5,c=aV(o),d=m1(o);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},sA=ds(3),Fue={draw(t,e){const n=-ds(e/(sA*3));t.moveTo(0,n*2),t.lineTo(-sA*n,-n),t.lineTo(sA*n,-n),t.closePath()}},Co=-.5,Io=ds(3)/2,oT=1/ds(12),Vue=(oT/2+1)*3,zue={draw(t,e){const n=ds(e/Vue),r=n/2,i=n*oT,a=r,o=n*oT+n,c=-a,d=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,d),t.lineTo(Co*r-Io*i,Io*r+Co*i),t.lineTo(Co*a-Io*o,Io*a+Co*o),t.lineTo(Co*c-Io*d,Io*c+Co*d),t.lineTo(Co*r+Io*i,Co*i-Io*r),t.lineTo(Co*a+Io*o,Co*o-Io*a),t.lineTo(Co*c+Io*d,Co*d-Io*c),t.closePath()}};function Hue(t,e){let n=null,r=QI(i);t=typeof t=="function"?t:ar(t||ZI),e=typeof e=="function"?e:ar(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ar(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ar(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function y1(){}function v1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pV(t){this._context=t}pV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:v1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function que(t){return new pV(t)}function mV(t){this._context=t}mV.prototype={areaStart:y1,areaEnd:y1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gue(t){return new mV(t)}function gV(t){this._context=t}gV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ue(t){return new gV(t)}function yV(t){this._context=t}yV.prototype={areaStart:y1,areaEnd:y1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wue(t){return new yV(t)}function Xk(t){return t<0?-1:1}function Qk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(Xk(a)+Xk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function Jk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lA(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function x1(t){this._context=t}x1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lA(this,this._t0,Jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lA(this,Jk(this,n=Qk(this,t,e)),n);break;default:lA(this,this._t0,n=Qk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vV(t){this._context=new xV(t)}(vV.prototype=Object.create(x1.prototype)).point=function(t,e){x1.prototype.point.call(this,e,t)};function xV(t){this._context=t}xV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Yue(t){return new x1(t)}function Kue(t){return new vV(t)}function bV(t){this._context=t}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Zk(t),i=Zk(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Zk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Xue(t){return new bV(t)}function ux(t,e){this._context=t,this._t=e}ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Que(t){return new ux(t,.5)}function Jue(t){return new ux(t,0)}function Zue(t){return new ux(t,1)}function Wd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function efe(t,e){return t[e]}function tfe(t){const e=[];return e.key=t,e}function nfe(){var t=ar([]),e=sT,n=Wd,r=efe;function i(a){var o=Array.from(t.apply(this,arguments),tfe),c,d=o.length,u=-1,m;for(const y of a)for(c=0,++u;c<d;++c)(o[c][u]=[0,+r(y,o[c].key,u,a)]).data=y;for(c=0,m=JI(e(o));c<d;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ar(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ar(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?sT:typeof a=="function"?a:ar(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Wd,i):n},i}function rfe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Wd(t,e)}}function ife(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Wd(t,e)}}function afe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,d=0,u=0;c<o;++c){for(var m=t[e[c]],y=m[r][1]||0,_=m[r-1][1]||0,I=(y-_)/2,D=0;D<c;++D){var M=t[e[D]],R=M[r][1]||0,j=M[r-1][1]||0;I+=R-j}d+=y,u+=I*y}i[r-1][1]+=i[r-1][0]=n,d&&(n-=u/d)}i[r-1][1]+=i[r-1][0]=n,Wd(t,e)}}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}var ofe=["type","size","sizeType"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sfe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=cfe(t,"string");return Pm(e)=="symbol"?e:e+""}function cfe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ufe(t,e){if(t==null)return{};var n=ffe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ffe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wV={symbolCircle:ZI,symbolCross:Mue,symbolDiamond:Due,symbolSquare:kue,symbolStar:Uue,symbolTriangle:Fue,symbolWye:zue},dfe=Math.PI/180,hfe=function(e){var n="symbol".concat(sx(e));return wV[n]||ZI},pfe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*dfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mfe=function(e,n){wV["symbol".concat(sx(e))]=n},fx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=ufe(e,ofe),u=t5(t5({},d),{},{type:r,size:a,sizeType:c}),m=function(){var R=hfe(r),j=Hue().type(R).size(pfe(a,c,r));return j()},y=u.className,_=u.cx,I=u.cy,D=ot(u,!0);return _===+_&&I===+I&&a===+a?le.createElement("path",lT({},D,{className:jt("recharts-symbols",y),transform:"translate(".concat(_,", ").concat(I,")"),d:m()})):null};fx.registerSymbol=mfe;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(this,arguments)}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){Dm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function xfe(t,e,n){return e&&vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bfe(t,e,n){return e=b1(e),wfe(t,_V()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function wfe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _fe(t)}function _fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uT(t,e)}function Dm(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=Efe(t,"string");return Yd(e)=="symbol"?e:e+""}function Efe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=32,eN=(function(t){function e(){return yfe(this,e),bfe(this,e,arguments)}return Afe(e,t),xfe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=No/2,o=No/6,c=No/3,d=r.inactive?i:r.color;if(r.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:No,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(No,"M").concat(2*c,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return le.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-No,"z"),className:"recharts-legend-icon"});if(le.isValidElement(r.legendIcon)){var u=gfe({},r);return delete u.legendIcon,le.cloneElement(r.legendIcon,u)}return le.createElement(fx,{fill:d,cx:a,cy:a,size:No,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,u=i.inactiveColor,m={x:0,y:0,width:No,height:No},y={display:c==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(I,D){var M=I.formatter||d,R=jt(Dm(Dm({"recharts-legend-item":!0},"legend-item-".concat(D),!0),"inactive",I.inactive));if(I.type==="none")return null;var j=St(I.value)?null:I.value;ss(!St(I.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var B=I.inactive?u:I.color;return le.createElement("li",cT({className:R,style:y,key:"legend-item-".concat(D)},uu(r.props,I,D)),le.createElement(nT,{width:o,height:o,viewBox:m,style:_},r.renderIcon(I)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:B}},M?M(j,I,D):j))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(ne.PureComponent);Dm(eN,"displayName","Legend");Dm(eN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cA,r5;function Sfe(){if(r5)return cA;r5=1;var t=ix();function e(){this.__data__=new t,this.size=0}return cA=e,cA}var uA,i5;function Tfe(){if(i5)return uA;i5=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return uA=t,uA}var fA,a5;function Cfe(){if(a5)return fA;a5=1;function t(e){return this.__data__.get(e)}return fA=t,fA}var dA,o5;function Ife(){if(o5)return dA;o5=1;function t(e){return this.__data__.has(e)}return dA=t,dA}var hA,s5;function Nfe(){if(s5)return hA;s5=1;var t=ix(),e=GI(),n=$I(),r=200;function i(a,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<r-1)return d.push([a,o]),this.size=++c.size,this;c=this.__data__=new n(d)}return c.set(a,o),this.size=c.size,this}return hA=i,hA}var pA,l5;function EV(){if(l5)return pA;l5=1;var t=ix(),e=Sfe(),n=Tfe(),r=Cfe(),i=Ife(),a=Nfe();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,pA=o,pA}var mA,c5;function Rfe(){if(c5)return mA;c5=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return mA=e,mA}var gA,u5;function Ofe(){if(u5)return gA;u5=1;function t(e){return this.__data__.has(e)}return gA=t,gA}var yA,f5;function SV(){if(f5)return yA;f5=1;var t=$I(),e=Rfe(),n=Ofe();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,yA=r,yA}var vA,d5;function TV(){if(d5)return vA;d5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return vA=t,vA}var xA,h5;function CV(){if(h5)return xA;h5=1;function t(e,n){return e.has(n)}return xA=t,xA}var bA,p5;function IV(){if(p5)return bA;p5=1;var t=SV(),e=TV(),n=CV(),r=1,i=2;function a(o,c,d,u,m,y){var _=d&r,I=o.length,D=c.length;if(I!=D&&!(_&&D>I))return!1;var M=y.get(o),R=y.get(c);if(M&&R)return M==c&&R==o;var j=-1,B=!0,U=d&i?new t:void 0;for(y.set(o,c),y.set(c,o);++j<I;){var $=o[j],H=c[j];if(u)var G=_?u(H,$,j,c,o,y):u($,H,j,o,c,y);if(G!==void 0){if(G)continue;B=!1;break}if(U){if(!e(c,function(L,V){if(!n(U,V)&&($===L||m($,L,d,u,y)))return U.push(V)})){B=!1;break}}else if(!($===H||m($,H,d,u,y))){B=!1;break}}return y.delete(o),y.delete(c),B}return bA=a,bA}var wA,m5;function Mfe(){if(m5)return wA;m5=1;var t=zs(),e=t.Uint8Array;return wA=e,wA}var _A,g5;function Pfe(){if(g5)return _A;g5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return _A=t,_A}var AA,y5;function tN(){if(y5)return AA;y5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return AA=t,AA}var EA,v5;function Dfe(){if(v5)return EA;v5=1;var t=k0(),e=Mfe(),n=qI(),r=IV(),i=Pfe(),a=tN(),o=1,c=2,d="[object Boolean]",u="[object Date]",m="[object Error]",y="[object Map]",_="[object Number]",I="[object RegExp]",D="[object Set]",M="[object String]",R="[object Symbol]",j="[object ArrayBuffer]",B="[object DataView]",U=t?t.prototype:void 0,$=U?U.valueOf:void 0;function H(G,L,V,F,ee,K,Q){switch(V){case B:if(G.byteLength!=L.byteLength||G.byteOffset!=L.byteOffset)return!1;G=G.buffer,L=L.buffer;case j:return!(G.byteLength!=L.byteLength||!K(new e(G),new e(L)));case d:case u:case _:return n(+G,+L);case m:return G.name==L.name&&G.message==L.message;case I:case M:return G==L+"";case y:var X=i;case D:var ge=F&o;if(X||(X=a),G.size!=L.size&&!ge)return!1;var oe=Q.get(G);if(oe)return oe==L;F|=c,Q.set(G,L);var ie=r(X(G),X(L),F,ee,K,Q);return Q.delete(G),ie;case R:if($)return $.call(G)==$.call(L)}return!1}return EA=H,EA}var SA,x5;function NV(){if(x5)return SA;x5=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return SA=t,SA}var TA,b5;function kfe(){if(b5)return TA;b5=1;var t=NV(),e=Pa();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return TA=n,TA}var CA,w5;function Lfe(){if(w5)return CA;w5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var c=e[r];n(c,r,e)&&(o[a++]=c)}return o}return CA=t,CA}var IA,_5;function jfe(){if(_5)return IA;_5=1;function t(){return[]}return IA=t,IA}var NA,A5;function Bfe(){if(A5)return NA;A5=1;var t=Lfe(),e=jfe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return r.call(o,c)}))}:e;return NA=a,NA}var RA,E5;function Ufe(){if(E5)return RA;E5=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return RA=t,RA}var OA,S5;function Ffe(){if(S5)return OA;S5=1;var t=Zl(),e=ec(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return OA=r,OA}var MA,T5;function nN(){if(T5)return MA;T5=1;var t=Ffe(),e=ec(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return MA=a,MA}var em={exports:{}},PA,C5;function Vfe(){if(C5)return PA;C5=1;function t(){return!1}return PA=t,PA}em.exports;var I5;function RV(){return I5||(I5=1,(function(t,e){var n=zs(),r=Vfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,c=o?n.Buffer:void 0,d=c?c.isBuffer:void 0,u=d||r;t.exports=u})(em,em.exports)),em.exports}var DA,N5;function rN(){if(N5)return DA;N5=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return DA=n,DA}var kA,R5;function iN(){if(R5)return kA;R5=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return kA=e,kA}var LA,O5;function zfe(){if(O5)return LA;O5=1;var t=Zl(),e=iN(),n=ec(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",m="[object Number]",y="[object Object]",_="[object RegExp]",I="[object Set]",D="[object String]",M="[object WeakMap]",R="[object ArrayBuffer]",j="[object DataView]",B="[object Float32Array]",U="[object Float64Array]",$="[object Int8Array]",H="[object Int16Array]",G="[object Int32Array]",L="[object Uint8Array]",V="[object Uint8ClampedArray]",F="[object Uint16Array]",ee="[object Uint32Array]",K={};K[B]=K[U]=K[$]=K[H]=K[G]=K[L]=K[V]=K[F]=K[ee]=!0,K[r]=K[i]=K[R]=K[a]=K[j]=K[o]=K[c]=K[d]=K[u]=K[m]=K[y]=K[_]=K[I]=K[D]=K[M]=!1;function Q(X){return n(X)&&e(X.length)&&!!K[t(X)]}return LA=Q,LA}var jA,M5;function OV(){if(M5)return jA;M5=1;function t(e){return function(n){return e(n)}}return jA=t,jA}var tm={exports:{}};tm.exports;var P5;function Hfe(){return P5||(P5=1,(function(t,e){var n=XF(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(tm,tm.exports)),tm.exports}var BA,D5;function MV(){if(D5)return BA;D5=1;var t=zfe(),e=OV(),n=Hfe(),r=n&&n.isTypedArray,i=r?e(r):t;return BA=i,BA}var UA,k5;function qfe(){if(k5)return UA;k5=1;var t=Ufe(),e=nN(),n=Pa(),r=RV(),i=rN(),a=MV(),o=Object.prototype,c=o.hasOwnProperty;function d(u,m){var y=n(u),_=!y&&e(u),I=!y&&!_&&r(u),D=!y&&!_&&!I&&a(u),M=y||_||I||D,R=M?t(u.length,String):[],j=R.length;for(var B in u)(m||c.call(u,B))&&!(M&&(B=="length"||I&&(B=="offset"||B=="parent")||D&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||i(B,j)))&&R.push(B);return R}return UA=d,UA}var FA,L5;function Gfe(){if(L5)return FA;L5=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return FA=e,FA}var VA,j5;function PV(){if(j5)return VA;j5=1;function t(e,n){return function(r){return e(n(r))}}return VA=t,VA}var zA,B5;function $fe(){if(B5)return zA;B5=1;var t=PV(),e=t(Object.keys,Object);return zA=e,zA}var HA,U5;function Wfe(){if(U5)return HA;U5=1;var t=Gfe(),e=$fe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&o.push(c);return o}return HA=i,HA}var qA,F5;function j0(){if(F5)return qA;F5=1;var t=HI(),e=iN();function n(r){return r!=null&&e(r.length)&&!t(r)}return qA=n,qA}var GA,V5;function dx(){if(V5)return GA;V5=1;var t=qfe(),e=Wfe(),n=j0();function r(i){return n(i)?t(i):e(i)}return GA=r,GA}var $A,z5;function Yfe(){if(z5)return $A;z5=1;var t=kfe(),e=Bfe(),n=dx();function r(i){return t(i,n,e)}return $A=r,$A}var WA,H5;function Kfe(){if(H5)return WA;H5=1;var t=Yfe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,c,d,u,m){var y=c&e,_=t(a),I=_.length,D=t(o),M=D.length;if(I!=M&&!y)return!1;for(var R=I;R--;){var j=_[R];if(!(y?j in o:r.call(o,j)))return!1}var B=m.get(a),U=m.get(o);if(B&&U)return B==o&&U==a;var $=!0;m.set(a,o),m.set(o,a);for(var H=y;++R<I;){j=_[R];var G=a[j],L=o[j];if(d)var V=y?d(L,G,j,o,a,m):d(G,L,j,a,o,m);if(!(V===void 0?G===L||u(G,L,c,d,m):V)){$=!1;break}H||(H=j=="constructor")}if($&&!H){var F=a.constructor,ee=o.constructor;F!=ee&&"constructor"in a&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof ee=="function"&&ee instanceof ee)&&($=!1)}return m.delete(a),m.delete(o),$}return WA=i,WA}var YA,q5;function Xfe(){if(q5)return YA;q5=1;var t=Nf(),e=zs(),n=t(e,"DataView");return YA=n,YA}var KA,G5;function Qfe(){if(G5)return KA;G5=1;var t=Nf(),e=zs(),n=t(e,"Promise");return KA=n,KA}var XA,$5;function DV(){if($5)return XA;$5=1;var t=Nf(),e=zs(),n=t(e,"Set");return XA=n,XA}var QA,W5;function Jfe(){if(W5)return QA;W5=1;var t=Nf(),e=zs(),n=t(e,"WeakMap");return QA=n,QA}var JA,Y5;function Zfe(){if(Y5)return JA;Y5=1;var t=Xfe(),e=GI(),n=Qfe(),r=DV(),i=Jfe(),a=Zl(),o=QF(),c="[object Map]",d="[object Object]",u="[object Promise]",m="[object Set]",y="[object WeakMap]",_="[object DataView]",I=o(t),D=o(e),M=o(n),R=o(r),j=o(i),B=a;return(t&&B(new t(new ArrayBuffer(1)))!=_||e&&B(new e)!=c||n&&B(n.resolve())!=u||r&&B(new r)!=m||i&&B(new i)!=y)&&(B=function(U){var $=a(U),H=$==d?U.constructor:void 0,G=H?o(H):"";if(G)switch(G){case I:return _;case D:return c;case M:return u;case R:return m;case j:return y}return $}),JA=B,JA}var ZA,K5;function ede(){if(K5)return ZA;K5=1;var t=EV(),e=IV(),n=Dfe(),r=Kfe(),i=Zfe(),a=Pa(),o=RV(),c=MV(),d=1,u="[object Arguments]",m="[object Array]",y="[object Object]",_=Object.prototype,I=_.hasOwnProperty;function D(M,R,j,B,U,$){var H=a(M),G=a(R),L=H?m:i(M),V=G?m:i(R);L=L==u?y:L,V=V==u?y:V;var F=L==y,ee=V==y,K=L==V;if(K&&o(M)){if(!o(R))return!1;H=!0,F=!1}if(K&&!F)return $||($=new t),H||c(M)?e(M,R,j,B,U,$):n(M,R,L,j,B,U,$);if(!(j&d)){var Q=F&&I.call(M,"__wrapped__"),X=ee&&I.call(R,"__wrapped__");if(Q||X){var ge=Q?M.value():M,oe=X?R.value():R;return $||($=new t),U(ge,oe,j,B,$)}}return K?($||($=new t),r(M,R,j,B,U,$)):!1}return ZA=D,ZA}var e2,X5;function aN(){if(X5)return e2;X5=1;var t=ede(),e=ec();function n(r,i,a,o,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,c)}return e2=n,e2}var t2,Q5;function tde(){if(Q5)return t2;Q5=1;var t=EV(),e=aN(),n=1,r=2;function i(a,o,c,d){var u=c.length,m=u,y=!d;if(a==null)return!m;for(a=Object(a);u--;){var _=c[u];if(y&&_[2]?_[1]!==a[_[0]]:!(_[0]in a))return!1}for(;++u<m;){_=c[u];var I=_[0],D=a[I],M=_[1];if(y&&_[2]){if(D===void 0&&!(I in a))return!1}else{var R=new t;if(d)var j=d(D,M,I,a,o,R);if(!(j===void 0?e(M,D,n|r,d,R):j))return!1}}return!0}return t2=i,t2}var n2,J5;function kV(){if(J5)return n2;J5=1;var t=yu();function e(n){return n===n&&!t(n)}return n2=e,n2}var r2,Z5;function nde(){if(Z5)return r2;Z5=1;var t=kV(),e=dx();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],c=r[o];i[a]=[o,c,t(c)]}return i}return r2=n,r2}var i2,e6;function LV(){if(e6)return i2;e6=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return i2=t,i2}var a2,t6;function rde(){if(t6)return a2;t6=1;var t=tde(),e=nde(),n=LV();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return a2=r,a2}var o2,n6;function ide(){if(n6)return o2;n6=1;function t(e,n){return e!=null&&n in Object(e)}return o2=t,o2}var s2,r6;function ade(){if(r6)return s2;r6=1;var t=eV(),e=nN(),n=Pa(),r=rN(),i=iN(),a=ox();function o(c,d,u){d=t(d,c);for(var m=-1,y=d.length,_=!1;++m<y;){var I=a(d[m]);if(!(_=c!=null&&u(c,I)))break;c=c[I]}return _||++m!=y?_:(y=c==null?0:c.length,!!y&&i(y)&&r(I,y)&&(n(c)||e(c)))}return s2=o,s2}var l2,i6;function ode(){if(i6)return l2;i6=1;var t=ide(),e=ade();function n(r,i){return r!=null&&e(r,i,t)}return l2=n,l2}var c2,a6;function sde(){if(a6)return c2;a6=1;var t=aN(),e=tV(),n=ode(),r=zI(),i=kV(),a=LV(),o=ox(),c=1,d=2;function u(m,y){return r(m)&&i(y)?a(o(m),y):function(_){var I=e(_,m);return I===void 0&&I===y?n(_,m):t(y,I,c|d)}}return c2=u,c2}var u2,o6;function Bh(){if(o6)return u2;o6=1;function t(e){return e}return u2=t,u2}var f2,s6;function lde(){if(s6)return f2;s6=1;function t(e){return function(n){return n==null?void 0:n[e]}}return f2=t,f2}var d2,l6;function cde(){if(l6)return d2;l6=1;var t=YI();function e(n){return function(r){return t(r,n)}}return d2=e,d2}var h2,c6;function ude(){if(c6)return h2;c6=1;var t=lde(),e=cde(),n=zI(),r=ox();function i(a){return n(a)?t(r(a)):e(a)}return h2=i,h2}var p2,u6;function Hs(){if(u6)return p2;u6=1;var t=rde(),e=sde(),n=Bh(),r=Pa(),i=ude();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return p2=a,p2}var m2,f6;function jV(){if(f6)return m2;f6=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return m2=t,m2}var g2,d6;function fde(){if(d6)return g2;d6=1;function t(e){return e!==e}return g2=t,g2}var y2,h6;function dde(){if(h6)return y2;h6=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return y2=t,y2}var v2,p6;function hde(){if(p6)return v2;p6=1;var t=jV(),e=fde(),n=dde();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return v2=r,v2}var x2,m6;function pde(){if(m6)return x2;m6=1;var t=hde();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return x2=e,x2}var b2,g6;function mde(){if(g6)return b2;g6=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return b2=t,b2}var w2,y6;function gde(){if(y6)return w2;y6=1;function t(){}return w2=t,w2}var _2,v6;function yde(){if(v6)return _2;v6=1;var t=DV(),e=gde(),n=tN(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return _2=i,_2}var A2,x6;function vde(){if(x6)return A2;x6=1;var t=SV(),e=pde(),n=mde(),r=CV(),i=yde(),a=tN(),o=200;function c(d,u,m){var y=-1,_=e,I=d.length,D=!0,M=[],R=M;if(m)D=!1,_=n;else if(I>=o){var j=u?null:i(d);if(j)return a(j);D=!1,_=r,R=new t}else R=u?[]:M;e:for(;++y<I;){var B=d[y],U=u?u(B):B;if(B=m||B!==0?B:0,D&&U===U){for(var $=R.length;$--;)if(R[$]===U)continue e;u&&R.push(U),M.push(B)}else _(R,U,m)||(R!==M&&R.push(U),M.push(B))}return M}return A2=c,A2}var E2,b6;function xde(){if(b6)return E2;b6=1;var t=Hs(),e=vde();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return E2=n,E2}var bde=xde();const w6=En(bde);function BV(t,e,n){return e===!0?w6(t,n):St(e)?w6(t,e):t}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}var wde=["ref"];function _6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(n),!0).forEach(function(r){hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function Ade(t,e,n){return e&&A6(t.prototype,e),n&&A6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,n){return e=w1(e),Sde(t,UV()?Reflect.construct(e,n||[],w1(t).constructor):e.apply(t,n))}function Sde(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tde(t)}function Tde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w1(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function hx(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=Ide(t,"string");return Kd(e)=="symbol"?e:e+""}function Ide(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nde(t,e){if(t==null)return{};var n=Rde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ode(t){return t.value}function Mde(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var n=Nde(e,wde);return le.createElement(eN,n)}var E6=1,Dl=(function(t){function e(){var n;_de(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ede(this,e,[].concat(i)),hx(n,"lastBoundingBox",{width:-1,height:-1}),n}return Cde(e,t),Ade(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>E6||Math.abs(i.height-this.lastBoundingBox.height)>E6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,u=i.chartWidth,m=i.chartHeight,y,_;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var I=this.getBBoxSnapshot();y={left:((u||0)-I.width)/2}}else y=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var D=this.getBBoxSnapshot();_={top:((m||0)-D.height)/2}}else _=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return bl(bl({},y),_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,c=i.height,d=i.wrapperStyle,u=i.payloadUniqBy,m=i.payload,y=bl(bl({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return le.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:function(I){r.wrapperNode=I}},Mde(a,bl(bl({},this.props),{},{payload:BV(m,u,Ode)})))}}],[{key:"getWithHeight",value:function(r,i){var a=bl(bl({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Xe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(ne.PureComponent);hx(Dl,"displayName","Legend");hx(Dl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var S2,S6;function Pde(){if(S6)return S2;S6=1;var t=k0(),e=nN(),n=Pa(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return S2=i,S2}var T2,T6;function VV(){if(T6)return T2;T6=1;var t=NV(),e=Pde();function n(r,i,a,o,c){var d=-1,u=r.length;for(a||(a=e),c||(c=[]);++d<u;){var m=r[d];i>0&&a(m)?i>1?n(m,i-1,a,o,c):t(c,m):o||(c[c.length]=m)}return c}return T2=n,T2}var C2,C6;function Dde(){if(C6)return C2;C6=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),c=i(n),d=c.length;d--;){var u=c[e?d:++a];if(r(o[u],u,o)===!1)break}return n}}return C2=t,C2}var I2,I6;function kde(){if(I6)return I2;I6=1;var t=Dde(),e=t();return I2=e,I2}var N2,N6;function zV(){if(N6)return N2;N6=1;var t=kde(),e=dx();function n(r,i){return r&&t(r,i,e)}return N2=n,N2}var R2,R6;function Lde(){if(R6)return R2;R6=1;var t=j0();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,c=r?o:-1,d=Object(i);(r?c--:++c<o)&&a(d[c],c,d)!==!1;);return i}}return R2=e,R2}var O2,O6;function oN(){if(O6)return O2;O6=1;var t=zV(),e=Lde(),n=e(t);return O2=n,O2}var M2,M6;function HV(){if(M6)return M2;M6=1;var t=oN(),e=j0();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(c,d,u){o[++a]=i(c,d,u)}),o}return M2=n,M2}var P2,P6;function jde(){if(P6)return P2;P6=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return P2=t,P2}var D2,D6;function Bde(){if(D6)return D2;D6=1;var t=kh();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,c=t(n),d=r!==void 0,u=r===null,m=r===r,y=t(r);if(!u&&!y&&!c&&n>r||c&&d&&m&&!u&&!y||a&&d&&m||!i&&m||!o)return 1;if(!a&&!c&&!y&&n<r||y&&i&&o&&!a&&!c||u&&i&&o||!d&&o||!m)return-1}return 0}return D2=e,D2}var k2,k6;function Ude(){if(k6)return k2;k6=1;var t=Bde();function e(n,r,i){for(var a=-1,o=n.criteria,c=r.criteria,d=o.length,u=i.length;++a<d;){var m=t(o[a],c[a]);if(m){if(a>=u)return m;var y=i[a];return m*(y=="desc"?-1:1)}}return n.index-r.index}return k2=e,k2}var L2,L6;function Fde(){if(L6)return L2;L6=1;var t=WI(),e=YI(),n=Hs(),r=HV(),i=jde(),a=OV(),o=Ude(),c=Bh(),d=Pa();function u(m,y,_){y.length?y=t(y,function(M){return d(M)?function(R){return e(R,M.length===1?M[0]:M)}:M}):y=[c];var I=-1;y=t(y,a(n));var D=r(m,function(M,R,j){var B=t(y,function(U){return U(M)});return{criteria:B,index:++I,value:M}});return i(D,function(M,R){return o(M,R,_)})}return L2=u,L2}var j2,j6;function Vde(){if(j6)return j2;j6=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return j2=t,j2}var B2,B6;function zde(){if(B6)return B2;B6=1;var t=Vde(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),u=Array(d);++c<d;)u[c]=o[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=o[c];return m[i]=a(u),t(r,this,m)}}return B2=n,B2}var U2,U6;function Hde(){if(U6)return U2;U6=1;function t(e){return function(){return e}}return U2=t,U2}var F2,F6;function qV(){if(F6)return F2;F6=1;var t=Nf(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return F2=e,F2}var V2,V6;function qde(){if(V6)return V2;V6=1;var t=Hde(),e=qV(),n=Bh(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return V2=r,V2}var z2,z6;function Gde(){if(z6)return z2;z6=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var c=n(),d=e-(c-o);if(o=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return z2=r,z2}var H2,H6;function $de(){if(H6)return H2;H6=1;var t=qde(),e=Gde(),n=e(t);return H2=n,H2}var q2,q6;function Wde(){if(q6)return q2;q6=1;var t=Bh(),e=zde(),n=$de();function r(i,a){return n(e(i,a,t),i+"")}return q2=r,q2}var G2,G6;function px(){if(G6)return G2;G6=1;var t=qI(),e=j0(),n=rN(),r=yu();function i(a,o,c){if(!r(c))return!1;var d=typeof o;return(d=="number"?e(c)&&n(o,c.length):d=="string"&&o in c)?t(c[o],a):!1}return G2=i,G2}var $2,$6;function Yde(){if($6)return $2;$6=1;var t=VV(),e=Fde(),n=Wde(),r=px(),i=n(function(a,o){if(a==null)return[];var c=o.length;return c>1&&r(a,o[0],o[1])?o=[]:c>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return $2=i,$2}var Kde=Yde();const sN=En(Kde);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dT.apply(this,arguments)}function Xde(t,e){return ehe(t)||Zde(t,e)||Jde(t,e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(t,e){if(t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function ehe(t){if(Array.isArray(t))return t}function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return e=nhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return km(e)=="symbol"?e:e+""}function rhe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ihe(t){return Array.isArray(t)&&ai(t[0])&&ai(t[1])?t.join(" ~ "):t}var ahe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,u=d===void 0?{}:d,m=e.payload,y=e.formatter,_=e.itemSorter,I=e.wrapperClassName,D=e.labelClassName,M=e.label,R=e.labelFormatter,j=e.accessibilityLayer,B=j===void 0?!1:j,U=function(){if(m&&m.length){var Q={padding:0,margin:0},X=(_?sN(m,_):m).map(function(ge,oe){if(ge.type==="none")return null;var ie=W2({display:"block",paddingTop:4,paddingBottom:4,color:ge.color||"#000"},c),fe=ge.formatter||y||ihe,Ae=ge.value,Oe=ge.name,qe=Ae,ue=Oe;if(fe&&qe!=null&&ue!=null){var pe=fe(Ae,Oe,ge,oe,m);if(Array.isArray(pe)){var Te=Xde(pe,2);qe=Te[0],ue=Te[1]}else qe=pe}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(oe),style:ie},ai(ue)?le.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,ai(ue)?le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,le.createElement("span",{className:"recharts-tooltip-item-value"},qe),le.createElement("span",{className:"recharts-tooltip-item-unit"},ge.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:Q},X)}return null},$=W2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),H=W2({margin:0},u),G=!Ct(M),L=G?M:"",V=jt("recharts-default-tooltip",I),F=jt("recharts-tooltip-label",D);G&&R&&m!==void 0&&m!==null&&(L=R(M,m));var ee=B?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",dT({className:V,style:$},ee),le.createElement("p",{className:F,style:H},le.isValidElement(L)?L:"".concat(L)),U())};function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function cy(t,e,n){return e=ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=she(t,"string");return Lm(e)=="symbol"?e:e+""}function she(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lp="recharts-tooltip-wrapper",lhe={visibility:"hidden"};function che(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return jt(Lp,cy(cy(cy(cy({},"".concat(Lp,"-right"),Xe(n)&&e&&Xe(e.x)&&n>=e.x),"".concat(Lp,"-left"),Xe(n)&&e&&Xe(e.x)&&n<e.x),"".concat(Lp,"-bottom"),Xe(r)&&e&&Xe(e.y)&&r>=e.y),"".concat(Lp,"-top"),Xe(r)&&e&&Xe(e.y)&&r<e.y))}function K6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,u=t.viewBoxDimension;if(a&&Xe(a[r]))return a[r];var m=n[r]-c-i,y=n[r]+i;if(e[r])return o[r]?m:y;if(o[r]){var _=m,I=d[r];return _<I?Math.max(y,d[r]):Math.max(m,d[r])}var D=y+c,M=d[r]+u;return D>M?Math.max(m,d[r]):Math.max(y,d[r])}function uhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,u,m,y;return o.height>0&&o.width>0&&n?(m=K6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),y=K6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=uhe({translateX:m,translateY:y,useTranslate3d:c})):u=lhe,{cssProperties:u,cssClasses:che({translateX:m,translateY:y,coordinate:n})}}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){pT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function phe(t,e,n){return e&&hhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e,n){return e=_1(e),ghe(t,GV()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function ghe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yhe(t)}function yhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(t,e)}function pT(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=xhe(t,"string");return Xd(e)=="symbol"?e:e+""}function xhe(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J6=1,bhe=(function(t){function e(){var n;dhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=mhe(this,e,[].concat(i)),pT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pT(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,u,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(u=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),n}return vhe(e,t),phe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>J6||Math.abs(r.height-this.state.lastBoundingBox.height)>J6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,u=i.children,m=i.coordinate,y=i.hasPayload,_=i.isAnimationActive,I=i.offset,D=i.position,M=i.reverseDirection,R=i.useTranslate3d,j=i.viewBox,B=i.wrapperStyle,U=fhe({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:I,position:D,reverseDirection:M,tooltipBox:this.state.lastBoundingBox,useTranslate3d:R,viewBox:j}),$=U.cssClasses,H=U.cssProperties,G=Q6(Q6({transition:_&&a?"transform ".concat(c,"ms ").concat(d):void 0},H),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&y?"visible":"hidden",position:"absolute",top:0,left:0},B);return le.createElement("div",{tabIndex:-1,className:$,style:G,ref:function(V){r.wrapperNode=V}},u)}}])})(ne.PureComponent),whe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qs={isSsr:whe()};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){lN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ahe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function Ehe(t,e,n){return e&&Ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function She(t,e,n){return e=A1(e),The(t,WV()?Reflect.construct(e,n||[],A1(t).constructor):e.apply(t,n))}function The(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(t)}function Che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A1(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(t,e)}function lN(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=Nhe(t,"string");return Qd(e)=="symbol"?e:e+""}function Nhe(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rhe(t){return t.dataKey}function Ohe(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(ahe,e)}var Kr=(function(t){function e(){return _he(this,e),She(this,e,arguments)}return Ihe(e,t),Ehe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,u=i.content,m=i.coordinate,y=i.filterNull,_=i.isAnimationActive,I=i.offset,D=i.payload,M=i.payloadUniqBy,R=i.position,j=i.reverseDirection,B=i.useTranslate3d,U=i.viewBox,$=i.wrapperStyle,H=D??[];y&&H.length&&(H=BV(D.filter(function(L){return L.value!=null&&(L.hide!==!0||r.props.includeHidden)}),M,Rhe));var G=H.length>0;return le.createElement(bhe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:_,active:a,coordinate:m,hasPayload:G,offset:I,position:R,reverseDirection:j,useTranslate3d:B,viewBox:U,wrapperStyle:$},Ohe(u,e8(e8({},this.props),{},{payload:H})))}}])})(ne.PureComponent);lN(Kr,"displayName","Tooltip");lN(Kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Y2,t8;function Mhe(){if(t8)return Y2;t8=1;var t=zs(),e=function(){return t.Date.now()};return Y2=e,Y2}var K2,n8;function Phe(){if(n8)return K2;n8=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return K2=e,K2}var X2,r8;function Dhe(){if(r8)return X2;r8=1;var t=Phe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return X2=n,X2}var Q2,i8;function KV(){if(i8)return Q2;i8=1;var t=Dhe(),e=yu(),n=kh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var m=typeof u.valueOf=="function"?u.valueOf():u;u=e(m)?m+"":m}if(typeof u!="string")return u===0?u:+u;u=t(u);var y=a.test(u);return y||o.test(u)?c(u.slice(2),y?2:8):i.test(u)?r:+u}return Q2=d,Q2}var J2,a8;function khe(){if(a8)return J2;a8=1;var t=yu(),e=Mhe(),n=KV(),r="Expected a function",i=Math.max,a=Math.min;function o(c,d,u){var m,y,_,I,D,M,R=0,j=!1,B=!1,U=!0;if(typeof c!="function")throw new TypeError(r);d=n(d)||0,t(u)&&(j=!!u.leading,B="maxWait"in u,_=B?i(n(u.maxWait)||0,d):_,U="trailing"in u?!!u.trailing:U);function $(X){var ge=m,oe=y;return m=y=void 0,R=X,I=c.apply(oe,ge),I}function H(X){return R=X,D=setTimeout(V,d),j?$(X):I}function G(X){var ge=X-M,oe=X-R,ie=d-ge;return B?a(ie,_-oe):ie}function L(X){var ge=X-M,oe=X-R;return M===void 0||ge>=d||ge<0||B&&oe>=_}function V(){var X=e();if(L(X))return F(X);D=setTimeout(V,G(X))}function F(X){return D=void 0,U&&m?$(X):(m=y=void 0,I)}function ee(){D!==void 0&&clearTimeout(D),R=0,m=M=y=D=void 0}function K(){return D===void 0?I:F(e())}function Q(){var X=e(),ge=L(X);if(m=arguments,y=this,M=X,ge){if(D===void 0)return H(M);if(B)return clearTimeout(D),D=setTimeout(V,d),$(M)}return D===void 0&&(D=setTimeout(V,d)),I}return Q.cancel=ee,Q.flush=K,Q}return J2=o,J2}var Z2,o8;function Lhe(){if(o8)return Z2;o8=1;var t=khe(),e=yu(),n="Expected a function";function r(i,a,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return Z2=r,Z2}var jhe=Lhe();const XV=En(jhe);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function s8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Fhe(t,"string");return jm(e)=="symbol"?e:e+""}function Fhe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vhe(t,e){return Ghe(t)||qhe(t,e)||Hhe(t,e)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(t,e){if(t){if(typeof t=="string")return l8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l8(t,e)}}function l8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Ghe(t){if(Array.isArray(t))return t}var Zo=ne.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,u=t.minWidth,m=u===void 0?0:u,y=t.minHeight,_=t.maxHeight,I=t.children,D=t.debounce,M=D===void 0?0:D,R=t.id,j=t.className,B=t.onResize,U=t.style,$=U===void 0?{}:U,H=ne.useRef(null),G=ne.useRef();G.current=B,ne.useImperativeHandle(e,function(){return Object.defineProperty(H.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),H.current},configurable:!0})});var L=ne.useState({containerWidth:i.width,containerHeight:i.height}),V=Vhe(L,2),F=V[0],ee=V[1],K=ne.useCallback(function(X,ge){ee(function(oe){var ie=Math.round(X),fe=Math.round(ge);return oe.containerWidth===ie&&oe.containerHeight===fe?oe:{containerWidth:ie,containerHeight:fe}})},[]);ne.useEffect(function(){var X=function(Oe){var qe,ue=Oe[0].contentRect,pe=ue.width,Te=ue.height;K(pe,Te),(qe=G.current)===null||qe===void 0||qe.call(G,pe,Te)};M>0&&(X=XV(X,M,{trailing:!0,leading:!1}));var ge=new ResizeObserver(X),oe=H.current.getBoundingClientRect(),ie=oe.width,fe=oe.height;return K(ie,fe),ge.observe(H.current),function(){ge.disconnect()}},[K,M]);var Q=ne.useMemo(function(){var X=F.containerWidth,ge=F.containerHeight;if(X<0||ge<0)return null;ss(nf(o)||nf(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),ss(!n||n>0,"The aspect(%s) must be greater than zero.",n);var oe=nf(o)?X:o,ie=nf(d)?ge:d;n&&n>0&&(oe?ie=oe/n:ie&&(oe=ie*n),_&&ie>_&&(ie=_)),ss(oe>0||ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,oe,ie,o,d,m,y,n);var fe=!Array.isArray(I)&&Pl(I.type).endsWith("Chart");return le.Children.map(I,function(Ae){return le.isValidElement(Ae)?ne.cloneElement(Ae,uy({width:oe,height:ie},fe?{style:uy({height:"100%",width:"100%",maxHeight:ie,maxWidth:oe},Ae.props.style)}:{})):Ae})},[n,I,d,_,y,m,F,o]);return le.createElement("div",{id:R?"".concat(R):void 0,className:jt("recharts-responsive-container",j),style:uy(uy({},$),{},{width:o,height:d,minWidth:m,minHeight:y,maxHeight:_}),ref:H},Q)}),Uh=function(e){return null};Uh.displayName="Cell";function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){$he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e,n){return e=Whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Whe(t){var e=Yhe(t,"string");return Bm(e)=="symbol"?e:e+""}function Yhe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ud={widthCache:{},cacheCount:0},Khe=2e3,Xhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u8="recharts_measurement_span";function Qhe(t){var e=gT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var fm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qs.isSsr)return{width:0,height:0};var r=Qhe(n),i=JSON.stringify({text:e,copyStyle:r});if(ud.widthCache[i])return ud.widthCache[i];try{var a=document.getElementById(u8);a||(a=document.createElement("span"),a.setAttribute("id",u8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=gT(gT({},Xhe),r);Object.assign(a.style,o),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return ud.widthCache[i]=d,++ud.cacheCount>Khe&&(ud.cacheCount=0,ud.widthCache={}),d}catch{return{width:0,height:0}}},Jhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function E1(t,e){return npe(t)||tpe(t,e)||epe(t,e)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return f8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f8(t,e)}}function f8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function npe(t){if(Array.isArray(t))return t}function rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ape(r.key),r)}}function ipe(t,e,n){return e&&d8(t.prototype,e),n&&d8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t){var e=ope(t,"string");return Um(e)=="symbol"?e:e+""}function ope(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,spe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cpe=Object.keys(QV),wd="NaN";function upe(t,e){return t*QV[e]}var fy=(function(){function t(e,n){rpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!spe.test(n)&&(this.num=NaN,this.unit=""),cpe.includes(n)&&(this.num=upe(e,n),this.unit="px")}return ipe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lpe.exec(n))!==null&&r!==void 0?r:[],a=E1(i,3),o=a[1],c=a[2];return new t(parseFloat(o),c??"")}}])})();function JV(t){if(t.includes(wd))return wd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=h8.exec(e))!==null&&n!==void 0?n:[],i=E1(r,4),a=i[1],o=i[2],c=i[3],d=fy.parse(a??""),u=fy.parse(c??""),m=o==="*"?d.multiply(u):d.divide(u);if(m.isNaN())return wd;e=e.replace(h8,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var y,_=(y=p8.exec(e))!==null&&y!==void 0?y:[],I=E1(_,4),D=I[1],M=I[2],R=I[3],j=fy.parse(D??""),B=fy.parse(R??""),U=M==="+"?j.add(B):j.subtract(B);if(U.isNaN())return wd;e=e.replace(p8,U.toString())}return e}var m8=/\(([^()]*)\)/;function fpe(t){for(var e=t;e.includes("(");){var n=m8.exec(e),r=E1(n,2),i=r[1];e=e.replace(m8,JV(i))}return e}function dpe(t){var e=t.replace(/\s+/g,"");return e=fpe(e),e=JV(e),e}function hpe(t){try{return dpe(t)}catch{return wd}}function eE(t){var e=hpe(t.slice(5,-1));return e===wd?"":e}var ppe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mpe=["dx","dy","angle","className","breakAll"];function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}function g8(t,e){if(t==null)return{};var n=gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y8(t,e){return bpe(t)||xpe(t,e)||vpe(t,e)||ype()}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(t,e){if(t){if(typeof t=="string")return v8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v8(t,e)}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function bpe(t){if(Array.isArray(t))return t}var ZV=/[ \f\n\r\t\v\u2028\u2029]+/,ez=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ct(n)||(r?a=n.toString().split(""):a=n.toString().split(ZV));var o=a.map(function(d){return{word:d,width:fm(d,i).width}}),c=r?0:fm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},wpe=function(e,n,r,i,a){var o=e.maxLines,c=e.children,d=e.style,u=e.breakAll,m=Xe(o),y=c,_=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe.reduce(function(ie,fe){var Ae=fe.word,Oe=fe.width,qe=ie[ie.length-1];if(qe&&(i==null||a||qe.width+Oe+r<Number(i)))qe.words.push(Ae),qe.width+=Oe+r;else{var ue={words:[Ae],width:Oe};ie.push(ue)}return ie},[])},I=_(n),D=function(oe){return oe.reduce(function(ie,fe){return ie.width>fe.width?ie:fe})};if(!m)return I;for(var M="",R=function(oe){var ie=y.slice(0,oe),fe=ez({breakAll:u,style:d,children:ie+M}).wordsWithComputedWidth,Ae=_(fe),Oe=Ae.length>o||D(Ae).width>Number(i);return[Oe,Ae]},j=0,B=y.length-1,U=0,$;j<=B&&U<=y.length-1;){var H=Math.floor((j+B)/2),G=H-1,L=R(G),V=y8(L,2),F=V[0],ee=V[1],K=R(H),Q=y8(K,1),X=Q[0];if(!F&&!X&&(j=H+1),F&&X&&(B=H-1),!F&&X){$=ee;break}U++}return $||I},x8=function(e){var n=Ct(e)?[]:e.toString().split(ZV);return[{words:n}]},_pe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,c=e.maxLines;if((n||r)&&!qs.isSsr){var d,u,m=ez({breakAll:o,children:i,style:a});if(m){var y=m.wordsWithComputedWidth,_=m.spaceWidth;d=y,u=_}else return x8(i);return wpe({breakAll:o,children:i,maxLines:c,style:a},d,u,n,r)}return x8(i)},b8="#808080",vf=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,u=d===void 0?"0.71em":d,m=e.scaleToFit,y=m===void 0?!1:m,_=e.textAnchor,I=_===void 0?"start":_,D=e.verticalAnchor,M=D===void 0?"end":D,R=e.fill,j=R===void 0?b8:R,B=g8(e,ppe),U=ne.useMemo(function(){return _pe({breakAll:B.breakAll,children:B.children,maxLines:B.maxLines,scaleToFit:y,style:B.style,width:B.width})},[B.breakAll,B.children,B.maxLines,y,B.style,B.width]),$=B.dx,H=B.dy,G=B.angle,L=B.className,V=B.breakAll,F=g8(B,mpe);if(!ai(r)||!ai(a))return null;var ee=r+(Xe($)?$:0),K=a+(Xe(H)?H:0),Q;switch(M){case"start":Q=eE("calc(".concat(u,")"));break;case"middle":Q=eE("calc(".concat((U.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:Q=eE("calc(".concat(U.length-1," * -").concat(c,")"));break}var X=[];if(y){var ge=U[0].width,oe=B.width;X.push("scale(".concat((Xe(oe)?oe/ge:1)/ge,")"))}return G&&X.push("rotate(".concat(G,", ").concat(ee,", ").concat(K,")")),X.length&&(F.transform=X.join(" ")),le.createElement("text",yT({},ot(F,!0),{x:ee,y:K,className:jt("recharts-text",L),textAnchor:I,fill:j.includes("url")?b8:j}),U.map(function(ie,fe){var Ae=ie.words.join(V?"":" ");return le.createElement("tspan",{x:ee,dy:fe===0?Q:c,key:"".concat(Ae,"-").concat(fe)},Ae)}))};function eu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ape(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cN(t){let e,n,r;t.length!==2?(e=eu,n=(c,d)=>eu(t(c),d),r=(c,d)=>t(c)-d):(e=t===eu||t===Ape?t:Epe,n=t,r=t);function i(c,d,u=0,m=c.length){if(u<m){if(e(d,d)!==0)return m;do{const y=u+m>>>1;n(c[y],d)<0?u=y+1:m=y}while(u<m)}return u}function a(c,d,u=0,m=c.length){if(u<m){if(e(d,d)!==0)return m;do{const y=u+m>>>1;n(c[y],d)<=0?u=y+1:m=y}while(u<m)}return u}function o(c,d,u=0,m=c.length){const y=i(c,d,u,m-1);return y>u&&r(c[y-1],d)>-r(c[y],d)?y-1:y}return{left:i,center:o,right:a}}function Epe(){return 0}function tz(t){return t===null?NaN:+t}function*Spe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Tpe=cN(eu),B0=Tpe.right;cN(tz).center;class w8 extends Map{constructor(e,n=Npe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_8(this,e))}has(e){return super.has(_8(this,e))}set(e,n){return super.set(Cpe(this,e),n)}delete(e){return super.delete(Ipe(this,e))}}function _8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Cpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ipe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Npe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rpe(t=eu){if(t===eu)return nz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function nz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ope=Math.sqrt(50),Mpe=Math.sqrt(10),Ppe=Math.sqrt(2);function S1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ope?10:a>=Mpe?5:a>=Ppe?2:1;let c,d,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(t*u),d=Math.round(e*u),c/u<t&&++c,d/u>e&&--d,u=-u):(u=Math.pow(10,i)*o,c=Math.round(t/u),d=Math.round(e/u),c*u<t&&++c,d*u>e&&--d),d<c&&.5<=n&&n<2?S1(t,e,n*2):[c,d,u]}function vT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?S1(e,t,n):S1(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(o<0)for(let u=0;u<c;++u)d[u]=(a-u)/-o;else for(let u=0;u<c;++u)d[u]=(a-u)*o;else if(o<0)for(let u=0;u<c;++u)d[u]=(i+u)/-o;else for(let u=0;u<c;++u)d[u]=(i+u)*o;return d}function xT(t,e,n){return e=+e,t=+t,n=+n,S1(t,e,n)[2]}function bT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xT(e,t,n):xT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function A8(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function E8(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function rz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?nz:Rpe(i);r>n;){if(r-n>600){const d=r-n+1,u=e-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),_=.5*Math.sqrt(m*y*(d-y)/d)*(u-d/2<0?-1:1),I=Math.max(n,Math.floor(e-u*y/d+_)),D=Math.min(r,Math.floor(e+(d-u)*y/d+_));rz(t,e,I,D,i)}const a=t[e];let o=n,c=r;for(jp(t,n,e),i(t[r],a)>0&&jp(t,n,r);o<c;){for(jp(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?jp(t,n,c):(++c,jp(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function jp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Dpe(t,e,n){if(t=Float64Array.from(Spe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return E8(t);if(e>=1)return A8(t);var r,i=(r-1)*e,a=Math.floor(i),o=A8(rz(t,a).subarray(0,a+1)),c=E8(t.subarray(a+1));return o+(c-o)*(i-a)}}function kpe(t,e,n=tz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function Lpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Vo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function tc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wT=Symbol("implicit");function uN(){var t=new w8,e=[],n=[],r=wT;function i(a){let o=t.get(a);if(o===void 0){if(r!==wT)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new w8;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uN(e,n).unknown(r)},Vo.apply(i,arguments),i}function Fm(){var t=uN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,d=0,u=0,m=.5;delete t.unknown;function y(){var _=e().length,I=i<r,D=I?i:r,M=I?r:i;a=(M-D)/Math.max(1,_-d+u*2),c&&(a=Math.floor(a)),D+=(M-D-a*(_-d))*m,o=a*(1-d),c&&(D=Math.round(D),o=Math.round(o));var R=Lpe(_).map(function(j){return D+a*j});return n(I?R.reverse():R)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,c=!0,y()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(_){return arguments.length?(c=!!_,y()):c},t.padding=function(_){return arguments.length?(d=Math.min(1,u=+_),y()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),y()):d},t.paddingOuter=function(_){return arguments.length?(u=+_,y()):u},t.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),y()):m},t.copy=function(){return Fm(e(),[r,i]).round(c).paddingInner(d).paddingOuter(u).align(m)},Vo.apply(y(),arguments)}function iz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return iz(e())},t}function dm(){return iz(Fm.apply(null,arguments).paddingInner(1))}function fN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function az(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function U0(){}var Vm=.7,T1=1/Vm,Dd="\\s*([+-]?\\d+)\\s*",zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jpe=/^#([0-9a-f]{3,8})$/,Bpe=new RegExp(`^rgb\\(${Dd},${Dd},${Dd}\\)$`),Upe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),Fpe=new RegExp(`^rgba\\(${Dd},${Dd},${Dd},${zm}\\)$`),Vpe=new RegExp(`^rgba\\(${js},${js},${js},${zm}\\)$`),zpe=new RegExp(`^hsl\\(${zm},${js},${js}\\)$`),Hpe=new RegExp(`^hsla\\(${zm},${js},${js},${zm}\\)$`),S8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fN(U0,Hm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T8,formatHex:T8,formatHex8:qpe,formatHsl:Gpe,formatRgb:C8,toString:C8});function T8(){return this.rgb().formatHex()}function qpe(){return this.rgb().formatHex8()}function Gpe(){return oz(this).formatHsl()}function C8(){return this.rgb().formatRgb()}function Hm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?I8(e):n===3?new Na(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Bpe.exec(t))?new Na(e[1],e[2],e[3],1):(e=Upe.exec(t))?new Na(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fpe.exec(t))?dy(e[1],e[2],e[3],e[4]):(e=Vpe.exec(t))?dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zpe.exec(t))?O8(e[1],e[2]/100,e[3]/100,1):(e=Hpe.exec(t))?O8(e[1],e[2]/100,e[3]/100,e[4]):S8.hasOwnProperty(t)?I8(S8[t]):t==="transparent"?new Na(NaN,NaN,NaN,0):null}function I8(t){return new Na(t>>16&255,t>>8&255,t&255,1)}function dy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Na(t,e,n,r)}function $pe(t){return t instanceof U0||(t=Hm(t)),t?(t=t.rgb(),new Na(t.r,t.g,t.b,t.opacity)):new Na}function _T(t,e,n,r){return arguments.length===1?$pe(t):new Na(t,e,n,r??1)}function Na(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fN(Na,_T,az(U0,{brighter(t){return t=t==null?T1:Math.pow(T1,t),new Na(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vm:Math.pow(Vm,t),new Na(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Na(uf(this.r),uf(this.g),uf(this.b),C1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N8,formatHex:N8,formatHex8:Wpe,formatRgb:R8,toString:R8}));function N8(){return`#${rf(this.r)}${rf(this.g)}${rf(this.b)}`}function Wpe(){return`#${rf(this.r)}${rf(this.g)}${rf(this.b)}${rf((isNaN(this.opacity)?1:this.opacity)*255)}`}function R8(){const t=C1(this.opacity);return`${t===1?"rgb(":"rgba("}${uf(this.r)}, ${uf(this.g)}, ${uf(this.b)}${t===1?")":`, ${t})`}`}function C1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rf(t){return t=uf(t),(t<16?"0":"")+t.toString(16)}function O8(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,n,r)}function oz(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof U0||(t=Hm(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new es(o,c,d,t.opacity)}function Ype(t,e,n,r){return arguments.length===1?oz(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fN(es,Ype,az(U0,{brighter(t){return t=t==null?T1:Math.pow(T1,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vm:Math.pow(Vm,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Na(tE(t>=240?t-240:t+120,i,r),tE(t,i,r),tE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new es(M8(this.h),hy(this.s),hy(this.l),C1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=C1(this.opacity);return`${t===1?"hsl(":"hsla("}${M8(this.h)}, ${hy(this.s)*100}%, ${hy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function M8(t){return t=(t||0)%360,t<0?t+360:t}function hy(t){return Math.max(0,Math.min(1,t||0))}function tE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dN=t=>()=>t;function Kpe(t,e){return function(n){return t+n*e}}function Xpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qpe(t){return(t=+t)==1?sz:function(e,n){return n-e?Xpe(e,n,t):dN(isNaN(e)?n:e)}}function sz(t,e){var n=e-t;return n?Kpe(t,n):dN(isNaN(t)?e:t)}const P8=(function t(e){var n=Qpe(e);function r(i,a){var o=n((i=_T(i)).r,(a=_T(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),u=sz(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=u(m),i+""}}return r.gamma=t,r})(1);function Jpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Zpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Fh(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function tme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function I1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fh(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var AT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nE=new RegExp(AT.source,"g");function rme(t){return function(){return t}}function ime(t){return function(e){return t(e)+""}}function ame(t,e){var n=AT.lastIndex=nE.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=AT.exec(t))&&(i=nE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:I1(r,i)})),n=nE.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?ime(d[0].x):rme(e):(e=d.length,function(u){for(var m=0,y;m<e;++m)c[(y=d[m]).i]=y.x(u);return c.join("")})}function Fh(t,e){var n=typeof e,r;return e==null||n==="boolean"?dN(e):(n==="number"?I1:n==="string"?(r=Hm(e))?(e=r,P8):ame:e instanceof Hm?P8:e instanceof Date?tme:Zpe(e)?Jpe:Array.isArray(e)?eme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nme:I1)(t,e)}function hN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ome(t,e){e===void 0&&(e=t,t=Fh);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function sme(t){return function(){return t}}function N1(t){return+t}var D8=[0,1];function fa(t){return t}function ET(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sme(isNaN(e)?NaN:.5)}function lme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cme(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=ET(i,r),a=n(o,a)):(r=ET(r,i),a=n(a,o)),function(c){return a(r(c))}}function ume(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ET(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var d=B0(t,c,1,r)-1;return a[d](i[d](c))}}function F0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mx(){var t=D8,e=D8,n=Fh,r,i,a,o=fa,c,d,u;function m(){var _=Math.min(t.length,e.length);return o!==fa&&(o=lme(t[0],t[_-1])),c=_>2?ume:cme,d=u=null,y}function y(_){return _==null||isNaN(_=+_)?a:(d||(d=c(t.map(r),e,n)))(r(o(_)))}return y.invert=function(_){return o(i((u||(u=c(e,t.map(r),I1)))(_)))},y.domain=function(_){return arguments.length?(t=Array.from(_,N1),m()):t.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),m()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),n=hN,m()},y.clamp=function(_){return arguments.length?(o=_?!0:fa,m()):o!==fa},y.interpolate=function(_){return arguments.length?(n=_,m()):n},y.unknown=function(_){return arguments.length?(a=_,y):a},function(_,I){return r=_,i=I,m()}}function pN(){return mx()(fa,fa)}function fme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function R1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jd(t){return t=R1(Math.abs(t)),t?t[1]:NaN}function dme(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function hme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var pme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qm(t){if(!(e=pme.exec(t)))throw new Error("invalid format: "+t);var e;return new mN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qm.prototype=mN.prototype;function mN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var lz;function gme(t,e){var n=R1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(lz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+R1(t,Math.max(0,e+a-1))[0]}function k8(t,e){var n=R1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k8(t*100,e),r:k8,s:gme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function j8(t){return t}var B8=Array.prototype.map,U8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yme(t){var e=t.grouping===void 0||t.thousands===void 0?j8:dme(B8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?j8:hme(B8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function u(y){y=qm(y);var _=y.fill,I=y.align,D=y.sign,M=y.symbol,R=y.zero,j=y.width,B=y.comma,U=y.precision,$=y.trim,H=y.type;H==="n"?(B=!0,H="g"):L8[H]||(U===void 0&&(U=12),$=!0,H="g"),(R||_==="0"&&I==="=")&&(R=!0,_="0",I="=");var G=M==="$"?n:M==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",L=M==="$"?r:/[%p]/.test(H)?o:"",V=L8[H],F=/[defgprs%]/.test(H);U=U===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function ee(K){var Q=G,X=L,ge,oe,ie;if(H==="c")X=V(K)+X,K="";else{K=+K;var fe=K<0||1/K<0;if(K=isNaN(K)?d:V(Math.abs(K),U),$&&(K=mme(K)),fe&&+K==0&&D!=="+"&&(fe=!1),Q=(fe?D==="("?D:c:D==="-"||D==="("?"":D)+Q,X=(H==="s"?U8[8+lz/3]:"")+X+(fe&&D==="("?")":""),F){for(ge=-1,oe=K.length;++ge<oe;)if(ie=K.charCodeAt(ge),48>ie||ie>57){X=(ie===46?i+K.slice(ge+1):K.slice(ge))+X,K=K.slice(0,ge);break}}}B&&!R&&(K=e(K,1/0));var Ae=Q.length+K.length+X.length,Oe=Ae<j?new Array(j-Ae+1).join(_):"";switch(B&&R&&(K=e(Oe+K,Oe.length?j-X.length:1/0),Oe=""),I){case"<":K=Q+K+X+Oe;break;case"=":K=Q+Oe+K+X;break;case"^":K=Oe.slice(0,Ae=Oe.length>>1)+Q+K+X+Oe.slice(Ae);break;default:K=Oe+Q+K+X;break}return a(K)}return ee.toString=function(){return y+""},ee}function m(y,_){var I=u((y=qm(y),y.type="f",y)),D=Math.max(-8,Math.min(8,Math.floor(Jd(_)/3)))*3,M=Math.pow(10,-D),R=U8[8+D/3];return function(j){return I(M*j)+R}}return{format:u,formatPrefix:m}}var py,gN,cz;vme({thousands:",",grouping:[3],currency:["$",""]});function vme(t){return py=yme(t),gN=py.format,cz=py.formatPrefix,py}function xme(t){return Math.max(0,-Jd(Math.abs(t)))}function bme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jd(e)/3)))*3-Jd(Math.abs(t)))}function wme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jd(e)-Jd(t))+1}function uz(t,e,n,r){var i=bT(t,e,n),a;switch(r=qm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=bme(i,o))&&(r.precision=a),cz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=wme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=xme(i))&&(r.precision=a-(r.type==="%")*2);break}}return gN(r)}function xu(t){var e=t.domain;return t.ticks=function(n){var r=e();return vT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return uz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],d,u,m=10;for(c<o&&(u=o,o=c,c=u,u=i,i=a,a=u);m-- >0;){if(u=xT(o,c,n),u===d)return r[i]=o,r[a]=c,e(r);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;d=u}return t},t}function O1(){var t=pN();return t.copy=function(){return F0(t,O1())},Vo.apply(t,arguments),xu(t)}function fz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,N1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fz(t).unknown(e)},t=arguments.length?Array.from(t,N1):[0,1],xu(n)}function dz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function F8(t){return Math.log(t)}function V8(t){return Math.exp(t)}function _me(t){return-Math.log(-t)}function Ame(t){return-Math.exp(-t)}function Eme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Sme(t){return t===10?Eme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function z8(t){return(e,n)=>-t(-e,n)}function yN(t){const e=t(F8,V8),n=e.domain;let r=10,i,a;function o(){return i=Tme(r),a=Sme(r),n()[0]<0?(i=z8(i),a=z8(a),t(_me,Ame)):t(F8,V8),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let u=d[0],m=d[d.length-1];const y=m<u;y&&([u,m]=[m,u]);let _=i(u),I=i(m),D,M;const R=c==null?10:+c;let j=[];if(!(r%1)&&I-_<R){if(_=Math.floor(_),I=Math.ceil(I),u>0){for(;_<=I;++_)for(D=1;D<r;++D)if(M=_<0?D/a(-_):D*a(_),!(M<u)){if(M>m)break;j.push(M)}}else for(;_<=I;++_)for(D=r-1;D>=1;--D)if(M=_>0?D/a(-_):D*a(_),!(M<u)){if(M>m)break;j.push(M)}j.length*2<R&&(j=vT(u,m,R))}else j=vT(_,I,Math.min(I-_,R)).map(a);return y?j.reverse():j},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=qm(d)).precision==null&&(d.trim=!0),d=gN(d)),c===1/0)return d;const u=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/a(Math.round(i(m)));return y*r<r-.5&&(y*=r),y<=u?d(m):""}},e.nice=()=>n(dz(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function hz(){const t=yN(mx()).domain([1,10]);return t.copy=()=>F0(t,hz()).base(t.base()),Vo.apply(t,arguments),t}function H8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function q8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vN(t){var e=1,n=t(H8(e),q8(e));return n.constant=function(r){return arguments.length?t(H8(e=+r),q8(e)):e},xu(n)}function pz(){var t=vN(mx());return t.copy=function(){return F0(t,pz()).constant(t.constant())},Vo.apply(t,arguments)}function G8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ime(t){return t<0?-t*t:t*t}function xN(t){var e=t(fa,fa),n=1;function r(){return n===1?t(fa,fa):n===.5?t(Cme,Ime):t(G8(n),G8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xu(e)}function bN(){var t=xN(mx());return t.copy=function(){return F0(t,bN()).exponent(t.exponent())},Vo.apply(t,arguments),t}function Nme(){return bN.apply(null,arguments).exponent(.5)}function $8(t){return Math.sign(t)*t*t}function Rme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mz(){var t=pN(),e=[0,1],n=!1,r;function i(a){var o=Rme(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert($8(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,N1)).map($8)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vo.apply(i,arguments),xu(i)}function gz(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=kpe(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[B0(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(eu),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return gz().domain(t).range(e).unknown(r)},Vo.apply(a,arguments)}function yz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[B0(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var u=i.indexOf(d);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return yz().domain([t,e]).range(i).unknown(a)},Vo.apply(xu(o),arguments)}function vz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[B0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vz().domain(t).range(e).unknown(n)},Vo.apply(i,arguments)}const rE=new Date,iE=new Date;function li(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let u;do d.push(u=new Date(+a)),e(a,c),t(a);while(u<a&&a<o);return d},i.filter=a=>li(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(rE.setTime(+a),iE.setTime(+o),t(rE),t(iE),Math.floor(n(rE,iE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const M1=li(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);M1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?li(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):M1);M1.range;const Cl=1e3,Po=Cl*60,Il=Po*60,Hl=Il*24,wN=Hl*7,W8=Hl*30,aE=Hl*365,af=li(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCSeconds());af.range;const _N=li(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getMinutes());_N.range;const AN=li(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Po)},(t,e)=>(e-t)/Po,t=>t.getUTCMinutes());AN.range;const EN=li(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*Po)},(t,e)=>{t.setTime(+t+e*Il)},(t,e)=>(e-t)/Il,t=>t.getHours());EN.range;const SN=li(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Il)},(t,e)=>(e-t)/Il,t=>t.getUTCHours());SN.range;const V0=li(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Po)/Hl,t=>t.getDate()-1);V0.range;const gx=li(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hl,t=>t.getUTCDate()-1);gx.range;const xz=li(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hl,t=>Math.floor(t/Hl));xz.range;function Rf(t){return li(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Po)/wN)}const yx=Rf(0),P1=Rf(1),Ome=Rf(2),Mme=Rf(3),Zd=Rf(4),Pme=Rf(5),Dme=Rf(6);yx.range;P1.range;Ome.range;Mme.range;Zd.range;Pme.range;Dme.range;function Of(t){return li(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wN)}const vx=Of(0),D1=Of(1),kme=Of(2),Lme=Of(3),eh=Of(4),jme=Of(5),Bme=Of(6);vx.range;D1.range;kme.range;Lme.range;eh.range;jme.range;Bme.range;const TN=li(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TN.range;const CN=li(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CN.range;const ql=li(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ql.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:li(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ql.range;const Gl=li(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:li(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gl.range;function bz(t,e,n,r,i,a){const o=[[af,1,Cl],[af,5,5*Cl],[af,15,15*Cl],[af,30,30*Cl],[a,1,Po],[a,5,5*Po],[a,15,15*Po],[a,30,30*Po],[i,1,Il],[i,3,3*Il],[i,6,6*Il],[i,12,12*Il],[r,1,Hl],[r,2,2*Hl],[n,1,wN],[e,1,W8],[e,3,3*W8],[t,1,aE]];function c(u,m,y){const _=m<u;_&&([u,m]=[m,u]);const I=y&&typeof y.range=="function"?y:d(u,m,y),D=I?I.range(u,+m+1):[];return _?D.reverse():D}function d(u,m,y){const _=Math.abs(m-u)/y,I=cN(([,,R])=>R).right(o,_);if(I===o.length)return t.every(bT(u/aE,m/aE,y));if(I===0)return M1.every(Math.max(bT(u,m,y),1));const[D,M]=o[_/o[I-1][2]<o[I][2]/_?I-1:I];return D.every(M)}return[c,d]}const[Ume,Fme]=bz(Gl,CN,vx,xz,SN,AN),[Vme,zme]=bz(ql,TN,yx,V0,EN,_N);function oE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,u=Up(i),m=Fp(i),y=Up(a),_=Fp(a),I=Up(o),D=Fp(o),M=Up(c),R=Fp(c),j=Up(d),B=Fp(d),U={a:fe,A:Ae,b:Oe,B:qe,c:null,d:Z8,e:Z8,f:d0e,g:_0e,G:E0e,H:c0e,I:u0e,j:f0e,L:wz,m:h0e,M:p0e,p:ue,q:pe,Q:nL,s:rL,S:m0e,u:g0e,U:y0e,V:v0e,w:x0e,W:b0e,x:null,X:null,y:w0e,Y:A0e,Z:S0e,"%":tL},$={a:Te,A:Me,b:Ze,B:Be,c:null,d:eL,e:eL,f:N0e,g:U0e,G:V0e,H:T0e,I:C0e,j:I0e,L:Az,m:R0e,M:O0e,p:Rt,q:vt,Q:nL,s:rL,S:M0e,u:P0e,U:D0e,V:k0e,w:L0e,W:j0e,x:null,X:null,y:B0e,Y:F0e,Z:z0e,"%":tL},H={a:ee,A:K,b:Q,B:X,c:ge,d:Q8,e:Q8,f:a0e,g:X8,G:K8,H:J8,I:J8,j:t0e,L:i0e,m:e0e,M:n0e,p:F,q:Zme,Q:s0e,s:l0e,S:r0e,u:Yme,U:Kme,V:Xme,w:Wme,W:Qme,x:oe,X:ie,y:X8,Y:K8,Z:Jme,"%":o0e};U.x=G(n,U),U.X=G(r,U),U.c=G(e,U),$.x=G(n,$),$.X=G(r,$),$.c=G(e,$);function G(He,mt){return function(lt){var Ue=[],ct=-1,bt=0,dt=He.length,rt,gt,wt;for(lt instanceof Date||(lt=new Date(+lt));++ct<dt;)He.charCodeAt(ct)===37&&(Ue.push(He.slice(bt,ct)),(gt=Y8[rt=He.charAt(++ct)])!=null?rt=He.charAt(++ct):gt=rt==="e"?" ":"0",(wt=mt[rt])&&(rt=wt(lt,gt)),Ue.push(rt),bt=ct+1);return Ue.push(He.slice(bt,ct)),Ue.join("")}}function L(He,mt){return function(lt){var Ue=Bp(1900,void 0,1),ct=V(Ue,He,lt+="",0),bt,dt;if(ct!=lt.length)return null;if("Q"in Ue)return new Date(Ue.Q);if("s"in Ue)return new Date(Ue.s*1e3+("L"in Ue?Ue.L:0));if(mt&&!("Z"in Ue)&&(Ue.Z=0),"p"in Ue&&(Ue.H=Ue.H%12+Ue.p*12),Ue.m===void 0&&(Ue.m="q"in Ue?Ue.q:0),"V"in Ue){if(Ue.V<1||Ue.V>53)return null;"w"in Ue||(Ue.w=1),"Z"in Ue?(bt=sE(Bp(Ue.y,0,1)),dt=bt.getUTCDay(),bt=dt>4||dt===0?D1.ceil(bt):D1(bt),bt=gx.offset(bt,(Ue.V-1)*7),Ue.y=bt.getUTCFullYear(),Ue.m=bt.getUTCMonth(),Ue.d=bt.getUTCDate()+(Ue.w+6)%7):(bt=oE(Bp(Ue.y,0,1)),dt=bt.getDay(),bt=dt>4||dt===0?P1.ceil(bt):P1(bt),bt=V0.offset(bt,(Ue.V-1)*7),Ue.y=bt.getFullYear(),Ue.m=bt.getMonth(),Ue.d=bt.getDate()+(Ue.w+6)%7)}else("W"in Ue||"U"in Ue)&&("w"in Ue||(Ue.w="u"in Ue?Ue.u%7:"W"in Ue?1:0),dt="Z"in Ue?sE(Bp(Ue.y,0,1)).getUTCDay():oE(Bp(Ue.y,0,1)).getDay(),Ue.m=0,Ue.d="W"in Ue?(Ue.w+6)%7+Ue.W*7-(dt+5)%7:Ue.w+Ue.U*7-(dt+6)%7);return"Z"in Ue?(Ue.H+=Ue.Z/100|0,Ue.M+=Ue.Z%100,sE(Ue)):oE(Ue)}}function V(He,mt,lt,Ue){for(var ct=0,bt=mt.length,dt=lt.length,rt,gt;ct<bt;){if(Ue>=dt)return-1;if(rt=mt.charCodeAt(ct++),rt===37){if(rt=mt.charAt(ct++),gt=H[rt in Y8?mt.charAt(ct++):rt],!gt||(Ue=gt(He,lt,Ue))<0)return-1}else if(rt!=lt.charCodeAt(Ue++))return-1}return Ue}function F(He,mt,lt){var Ue=u.exec(mt.slice(lt));return Ue?(He.p=m.get(Ue[0].toLowerCase()),lt+Ue[0].length):-1}function ee(He,mt,lt){var Ue=I.exec(mt.slice(lt));return Ue?(He.w=D.get(Ue[0].toLowerCase()),lt+Ue[0].length):-1}function K(He,mt,lt){var Ue=y.exec(mt.slice(lt));return Ue?(He.w=_.get(Ue[0].toLowerCase()),lt+Ue[0].length):-1}function Q(He,mt,lt){var Ue=j.exec(mt.slice(lt));return Ue?(He.m=B.get(Ue[0].toLowerCase()),lt+Ue[0].length):-1}function X(He,mt,lt){var Ue=M.exec(mt.slice(lt));return Ue?(He.m=R.get(Ue[0].toLowerCase()),lt+Ue[0].length):-1}function ge(He,mt,lt){return V(He,e,mt,lt)}function oe(He,mt,lt){return V(He,n,mt,lt)}function ie(He,mt,lt){return V(He,r,mt,lt)}function fe(He){return o[He.getDay()]}function Ae(He){return a[He.getDay()]}function Oe(He){return d[He.getMonth()]}function qe(He){return c[He.getMonth()]}function ue(He){return i[+(He.getHours()>=12)]}function pe(He){return 1+~~(He.getMonth()/3)}function Te(He){return o[He.getUTCDay()]}function Me(He){return a[He.getUTCDay()]}function Ze(He){return d[He.getUTCMonth()]}function Be(He){return c[He.getUTCMonth()]}function Rt(He){return i[+(He.getUTCHours()>=12)]}function vt(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var mt=G(He+="",U);return mt.toString=function(){return He},mt},parse:function(He){var mt=L(He+="",!1);return mt.toString=function(){return He},mt},utcFormat:function(He){var mt=G(He+="",$);return mt.toString=function(){return He},mt},utcParse:function(He){var mt=L(He+="",!0);return mt.toString=function(){return He},mt}}}var Y8={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,qme=/^%/,Gme=/[\\^$*+?|[\]().{}]/g;function Rn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $me(t){return t.replace(Gme,"\\$&")}function Up(t){return new RegExp("^(?:"+t.map($me).join("|")+")","i")}function Fp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Wme(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yme(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kme(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Xme(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Qme(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function K8(t,e,n){var r=yi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function X8(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Jme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zme(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function e0e(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Q8(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function t0e(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function J8(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function n0e(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function r0e(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function i0e(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function a0e(t,e,n){var r=yi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function o0e(t,e,n){var r=qme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function s0e(t,e,n){var r=yi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function l0e(t,e,n){var r=yi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Z8(t,e){return Rn(t.getDate(),e,2)}function c0e(t,e){return Rn(t.getHours(),e,2)}function u0e(t,e){return Rn(t.getHours()%12||12,e,2)}function f0e(t,e){return Rn(1+V0.count(ql(t),t),e,3)}function wz(t,e){return Rn(t.getMilliseconds(),e,3)}function d0e(t,e){return wz(t,e)+"000"}function h0e(t,e){return Rn(t.getMonth()+1,e,2)}function p0e(t,e){return Rn(t.getMinutes(),e,2)}function m0e(t,e){return Rn(t.getSeconds(),e,2)}function g0e(t){var e=t.getDay();return e===0?7:e}function y0e(t,e){return Rn(yx.count(ql(t)-1,t),e,2)}function _z(t){var e=t.getDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function v0e(t,e){return t=_z(t),Rn(Zd.count(ql(t),t)+(ql(t).getDay()===4),e,2)}function x0e(t){return t.getDay()}function b0e(t,e){return Rn(P1.count(ql(t)-1,t),e,2)}function w0e(t,e){return Rn(t.getFullYear()%100,e,2)}function _0e(t,e){return t=_z(t),Rn(t.getFullYear()%100,e,2)}function A0e(t,e){return Rn(t.getFullYear()%1e4,e,4)}function E0e(t,e){var n=t.getDay();return t=n>=4||n===0?Zd(t):Zd.ceil(t),Rn(t.getFullYear()%1e4,e,4)}function S0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rn(e/60|0,"0",2)+Rn(e%60,"0",2)}function eL(t,e){return Rn(t.getUTCDate(),e,2)}function T0e(t,e){return Rn(t.getUTCHours(),e,2)}function C0e(t,e){return Rn(t.getUTCHours()%12||12,e,2)}function I0e(t,e){return Rn(1+gx.count(Gl(t),t),e,3)}function Az(t,e){return Rn(t.getUTCMilliseconds(),e,3)}function N0e(t,e){return Az(t,e)+"000"}function R0e(t,e){return Rn(t.getUTCMonth()+1,e,2)}function O0e(t,e){return Rn(t.getUTCMinutes(),e,2)}function M0e(t,e){return Rn(t.getUTCSeconds(),e,2)}function P0e(t){var e=t.getUTCDay();return e===0?7:e}function D0e(t,e){return Rn(vx.count(Gl(t)-1,t),e,2)}function Ez(t){var e=t.getUTCDay();return e>=4||e===0?eh(t):eh.ceil(t)}function k0e(t,e){return t=Ez(t),Rn(eh.count(Gl(t),t)+(Gl(t).getUTCDay()===4),e,2)}function L0e(t){return t.getUTCDay()}function j0e(t,e){return Rn(D1.count(Gl(t)-1,t),e,2)}function B0e(t,e){return Rn(t.getUTCFullYear()%100,e,2)}function U0e(t,e){return t=Ez(t),Rn(t.getUTCFullYear()%100,e,2)}function F0e(t,e){return Rn(t.getUTCFullYear()%1e4,e,4)}function V0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?eh(t):eh.ceil(t),Rn(t.getUTCFullYear()%1e4,e,4)}function z0e(){return"+0000"}function tL(){return"%"}function nL(t){return+t}function rL(t){return Math.floor(+t/1e3)}var fd,Sz,Tz;H0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H0e(t){return fd=Hme(t),Sz=fd.format,fd.parse,Tz=fd.utcFormat,fd.utcParse,fd}function q0e(t){return new Date(t)}function G0e(t){return t instanceof Date?+t:+new Date(+t)}function IN(t,e,n,r,i,a,o,c,d,u){var m=pN(),y=m.invert,_=m.domain,I=u(".%L"),D=u(":%S"),M=u("%I:%M"),R=u("%I %p"),j=u("%a %d"),B=u("%b %d"),U=u("%B"),$=u("%Y");function H(G){return(d(G)<G?I:c(G)<G?D:o(G)<G?M:a(G)<G?R:r(G)<G?i(G)<G?j:B:n(G)<G?U:$)(G)}return m.invert=function(G){return new Date(y(G))},m.domain=function(G){return arguments.length?_(Array.from(G,G0e)):_().map(q0e)},m.ticks=function(G){var L=_();return t(L[0],L[L.length-1],G??10)},m.tickFormat=function(G,L){return L==null?H:u(L)},m.nice=function(G){var L=_();return(!G||typeof G.range!="function")&&(G=e(L[0],L[L.length-1],G??10)),G?_(dz(L,G)):m},m.copy=function(){return F0(m,IN(t,e,n,r,i,a,o,c,d,u))},m}function $0e(){return Vo.apply(IN(Vme,zme,ql,TN,yx,V0,EN,_N,af,Sz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W0e(){return Vo.apply(IN(Ume,Fme,Gl,CN,vx,gx,SN,AN,af,Tz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xx(){var t=0,e=1,n,r,i,a,o=fa,c=!1,d;function u(y){return y==null||isNaN(y=+y)?d:o(i===0?.5:(y=(a(y)-n)*i,c?Math.max(0,Math.min(1,y)):y))}u.domain=function(y){return arguments.length?([t,e]=y,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(y){return arguments.length?(c=!!y,u):c},u.interpolator=function(y){return arguments.length?(o=y,u):o};function m(y){return function(_){var I,D;return arguments.length?([I,D]=_,o=y(I,D),u):[o(0),o(1)]}}return u.range=m(Fh),u.rangeRound=m(hN),u.unknown=function(y){return arguments.length?(d=y,u):d},function(y){return a=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),u}}function bu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cz(){var t=xu(xx()(fa));return t.copy=function(){return bu(t,Cz())},tc.apply(t,arguments)}function Iz(){var t=yN(xx()).domain([1,10]);return t.copy=function(){return bu(t,Iz()).base(t.base())},tc.apply(t,arguments)}function Nz(){var t=vN(xx());return t.copy=function(){return bu(t,Nz()).constant(t.constant())},tc.apply(t,arguments)}function NN(){var t=xN(xx());return t.copy=function(){return bu(t,NN()).exponent(t.exponent())},tc.apply(t,arguments)}function Y0e(){return NN.apply(null,arguments).exponent(.5)}function Rz(){var t=[],e=fa;function n(r){if(r!=null&&!isNaN(r=+r))return e((B0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(eu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Dpe(t,a/r))},n.copy=function(){return Rz(e).domain(t)},tc.apply(n,arguments)}function bx(){var t=0,e=.5,n=1,r=1,i,a,o,c,d,u=fa,m,y=!1,_;function I(M){return isNaN(M=+M)?_:(M=.5+((M=+m(M))-a)*(r*M<r*a?c:d),u(y?Math.max(0,Math.min(1,M)):M))}I.domain=function(M){return arguments.length?([t,e,n]=M,i=m(t=+t),a=m(e=+e),o=m(n=+n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,I):[t,e,n]},I.clamp=function(M){return arguments.length?(y=!!M,I):y},I.interpolator=function(M){return arguments.length?(u=M,I):u};function D(M){return function(R){var j,B,U;return arguments.length?([j,B,U]=R,u=ome(M,[j,B,U]),I):[u(0),u(.5),u(1)]}}return I.range=D(Fh),I.rangeRound=D(hN),I.unknown=function(M){return arguments.length?(_=M,I):_},function(M){return m=M,i=M(t),a=M(e),o=M(n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,I}}function Oz(){var t=xu(bx()(fa));return t.copy=function(){return bu(t,Oz())},tc.apply(t,arguments)}function Mz(){var t=yN(bx()).domain([.1,1,10]);return t.copy=function(){return bu(t,Mz()).base(t.base())},tc.apply(t,arguments)}function Pz(){var t=vN(bx());return t.copy=function(){return bu(t,Pz()).constant(t.constant())},tc.apply(t,arguments)}function RN(){var t=xN(bx());return t.copy=function(){return bu(t,RN()).exponent(t.exponent())},tc.apply(t,arguments)}function K0e(){return RN.apply(null,arguments).exponent(.5)}const iL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fm,scaleDiverging:Oz,scaleDivergingLog:Mz,scaleDivergingPow:RN,scaleDivergingSqrt:K0e,scaleDivergingSymlog:Pz,scaleIdentity:fz,scaleImplicit:wT,scaleLinear:O1,scaleLog:hz,scaleOrdinal:uN,scalePoint:dm,scalePow:bN,scaleQuantile:gz,scaleQuantize:yz,scaleRadial:mz,scaleSequential:Cz,scaleSequentialLog:Iz,scaleSequentialPow:NN,scaleSequentialQuantile:Rz,scaleSequentialSqrt:Y0e,scaleSequentialSymlog:Nz,scaleSqrt:Nme,scaleSymlog:pz,scaleThreshold:vz,scaleTime:$0e,scaleUtc:W0e,tickFormat:uz},Symbol.toStringTag,{value:"Module"}));var lE,aL;function wx(){if(aL)return lE;aL=1;var t=kh();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var c=n[a],d=r(c);if(d!=null&&(u===void 0?d===d&&!t(d):i(d,u)))var u=d,m=c}return m}return lE=e,lE}var cE,oL;function Dz(){if(oL)return cE;oL=1;function t(e,n){return e>n}return cE=t,cE}var uE,sL;function X0e(){if(sL)return uE;sL=1;var t=wx(),e=Dz(),n=Bh();function r(i){return i&&i.length?t(i,n,e):void 0}return uE=r,uE}var Q0e=X0e();const $c=En(Q0e);var fE,lL;function kz(){if(lL)return fE;lL=1;function t(e,n){return e<n}return fE=t,fE}var dE,cL;function J0e(){if(cL)return dE;cL=1;var t=wx(),e=kz(),n=Bh();function r(i){return i&&i.length?t(i,n,e):void 0}return dE=r,dE}var Z0e=J0e();const _x=En(Z0e);var hE,uL;function ege(){if(uL)return hE;uL=1;var t=WI(),e=Hs(),n=HV(),r=Pa();function i(a,o){var c=r(a)?t:n;return c(a,e(o,3))}return hE=i,hE}var pE,fL;function tge(){if(fL)return pE;fL=1;var t=VV(),e=ege();function n(r,i){return t(e(r,i),1)}return pE=n,pE}var nge=tge();const rge=En(nge);var mE,dL;function ige(){if(dL)return mE;dL=1;var t=aN();function e(n,r){return t(n,r)}return mE=e,mE}var age=ige();const $l=En(age);var Vh=1e9,oge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MN,wr=!0,Uo="[DecimalError] ",ff=Uo+"Invalid argument: ",ON=Uo+"Exponent out of range: ",zh=Math.floor,Ju=Math.pow,sge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,no,pi=1e7,fr=7,Lz=9007199254740991,k1=zh(Lz/fr),st={};st.absoluteValue=st.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};st.comparedTo=st.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*fr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(t){return kl(this,new this.constructor(t))};st.dividedToIntegerBy=st.idiv=function(t){var e=this,n=e.constructor;return tr(kl(e,new n(t),0,1),n.precision)};st.equals=st.eq=function(t){return!this.cmp(t)};st.exponent=function(){return Jr(this)};st.greaterThan=st.gt=function(t){return this.cmp(t)>0};st.greaterThanOrEqualTo=st.gte=function(t){return this.cmp(t)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(t){return this.cmp(t)<0};st.lessThanOrEqualTo=st.lte=function(t){return this.cmp(t)<1};st.logarithm=st.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(no))throw Error(Uo+"NaN");if(n.s<1)throw Error(Uo+(n.s?"NaN":"-Infinity"));return n.eq(no)?new r(0):(wr=!1,e=kl(Gm(n,a),Gm(t,a),a),wr=!0,tr(e,i))};st.minus=st.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Uz(e,t):jz(e,(t.s=-t.s,t))};st.modulo=st.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Uo+"NaN");return n.s?(wr=!1,e=kl(n,t,0,1).times(t),wr=!0,n.minus(e)):tr(new r(n),i)};st.naturalExponential=st.exp=function(){return Bz(this)};st.naturalLogarithm=st.ln=function(){return Gm(this)};st.negated=st.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};st.plus=st.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jz(e,t):Uz(e,(t.s=-t.s,t))};st.precision=st.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ff+t);if(e=Jr(i)+1,r=i.d.length-1,n=r*fr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};st.squareRoot=st.sqrt=function(){var t,e,n,r,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Uo+"NaN")}for(t=Jr(c),wr=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Is(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(kl(c,a,o+2)).times(.5),Is(a.d).slice(0,o)===(e=Is(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(tr(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return wr=!0,tr(r,n)};st.times=st.mul=function(t){var e,n,r,i,a,o,c,d,u,m=this,y=m.constructor,_=m.d,I=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,d=_.length,u=I.length,d<u&&(a=_,_=I,I=a,o=d,d=u,u=o),a=[],o=d+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+I[r]*_[i-r-1]+e,a[i--]=c%pi|0,e=c/pi|0;a[i]=(a[i]+e)%pi|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,wr?tr(t,y.precision):t};st.toDecimalPlaces=st.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fs(t,0,Vh),e===void 0?e=r.rounding:Fs(e,0,8),tr(n,t+Jr(n)+1,e))};st.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xf(r,!0):(Fs(t,0,Vh),e===void 0?e=i.rounding:Fs(e,0,8),r=tr(new i(r),t+1,e),n=xf(r,!0,t+1)),n};st.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?xf(i):(Fs(t,0,Vh),e===void 0?e=a.rounding:Fs(e,0,8),r=tr(new a(i),t+Jr(i)+1,e),n=xf(r.abs(),!1,t+Jr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var t=this,e=t.constructor;return tr(new e(t),Jr(t)+1,e.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(t){var e,n,r,i,a,o,c=this,d=c.constructor,u=12,m=+(t=new d(t));if(!t.s)return new d(no);if(c=new d(c),!c.s){if(t.s<1)throw Error(Uo+"Infinity");return c}if(c.eq(no))return c;if(r=d.precision,t.eq(no))return tr(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=m<0?-m:m)<=Lz){for(i=new d(no),e=Math.ceil(r/fr+4),wr=!1;n%2&&(i=i.times(c),pL(i.d,e)),n=zh(n/2),n!==0;)c=c.times(c),pL(c.d,e);return wr=!0,t.s<0?new d(no).div(i):tr(i,r)}}else if(a<0)throw Error(Uo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,wr=!1,i=t.times(Gm(c,r+u)),wr=!0,i=Bz(i),i.s=a,i};st.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Jr(i),r=xf(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fs(t,1,Vh),e===void 0?e=a.rounding:Fs(e,0,8),i=tr(new a(i),t,e),n=Jr(i),r=xf(i,t<=n||n<=a.toExpNeg,t)),r};st.toSignificantDigits=st.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fs(t,1,Vh),e===void 0?e=r.rounding:Fs(e,0,8)),tr(new r(n),t,e)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jr(t),n=t.constructor;return xf(t,e<=n.toExpNeg||e>=n.toExpPos)};function jz(t,e){var n,r,i,a,o,c,d,u,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),wr?tr(e,y):e;if(d=t.d,u=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,c=u.length):(r=u,i=o,c=d.length),o=Math.ceil(y/fr),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=u.length,c-a<0&&(a=c,r=u,u=d,d=r),n=0;a;)n=(d[--a]=d[a]+u[a]+n)/pi|0,d[a]%=pi;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,wr?tr(e,y):e}function Fs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ff+t)}function Is(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=fr-r.length,n&&(a+=Uc(n)),a+=r;o=t[e],r=o+"",n=fr-r.length,n&&(a+=Uc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var kl=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%pi|0,o=a/pi|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*pi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,d,u,m,y,_,I,D,M,R,j,B,U,$,H,G,L,V,F=r.constructor,ee=r.s==i.s?1:-1,K=r.d,Q=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Uo+"Division by zero");for(d=r.e-i.e,L=Q.length,H=K.length,I=new F(ee),D=I.d=[],u=0;Q[u]==(K[u]||0);)++u;if(Q[u]>(K[u]||0)&&--d,a==null?B=a=F.precision:o?B=a+(Jr(r)-Jr(i))+1:B=a,B<0)return new F(0);if(B=B/fr+2|0,u=0,L==1)for(m=0,Q=Q[0],B++;(u<H||m)&&B--;u++)U=m*pi+(K[u]||0),D[u]=U/Q|0,m=U%Q|0;else{for(m=pi/(Q[0]+1)|0,m>1&&(Q=t(Q,m),K=t(K,m),L=Q.length,H=K.length),$=L,M=K.slice(0,L),R=M.length;R<L;)M[R++]=0;V=Q.slice(),V.unshift(0),G=Q[0],Q[1]>=pi/2&&++G;do m=0,c=e(Q,M,L,R),c<0?(j=M[0],L!=R&&(j=j*pi+(M[1]||0)),m=j/G|0,m>1?(m>=pi&&(m=pi-1),y=t(Q,m),_=y.length,R=M.length,c=e(y,M,_,R),c==1&&(m--,n(y,L<_?V:Q,_))):(m==0&&(c=m=1),y=Q.slice()),_=y.length,_<R&&y.unshift(0),n(M,y,R),c==-1&&(R=M.length,c=e(Q,M,L,R),c<1&&(m++,n(M,L<R?V:Q,R))),R=M.length):c===0&&(m++,M=[0]),D[u++]=m,c&&M[0]?M[R++]=K[$]||0:(M=[K[$]],R=1);while(($++<H||M[0]!==void 0)&&B--)}return D[0]||D.shift(),I.e=d,tr(I,o?a+Jr(I)+1:a)}})();function Bz(t,e){var n,r,i,a,o,c,d=0,u=0,m=t.constructor,y=m.precision;if(Jr(t)>16)throw Error(ON+Jr(t));if(!t.s)return new m(no);for(wr=!1,c=y,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ju(2,u))/Math.LN10*2+5|0,c+=r,n=i=a=new m(no),m.precision=c;;){if(i=tr(i.times(t),c),n=n.times(++d),o=a.plus(kl(i,n,c)),Is(o.d).slice(0,c)===Is(a.d).slice(0,c)){for(;u--;)a=tr(a.times(a),c);return m.precision=y,e==null?(wr=!0,tr(a,y)):a}a=o}}function Jr(t){for(var e=t.e*fr,n=t.d[0];n>=10;n/=10)e++;return e}function gE(t,e,n){if(e>t.LN10.sd())throw wr=!0,n&&(t.precision=n),Error(Uo+"LN10 precision limit exceeded");return tr(new t(t.LN10),e)}function Uc(t){for(var e="";t--;)e+="0";return e}function Gm(t,e){var n,r,i,a,o,c,d,u,m,y=1,_=10,I=t,D=I.d,M=I.constructor,R=M.precision;if(I.s<1)throw Error(Uo+(I.s?"NaN":"-Infinity"));if(I.eq(no))return new M(0);if(e==null?(wr=!1,u=R):u=e,I.eq(10))return e==null&&(wr=!0),gE(M,u);if(u+=_,M.precision=u,n=Is(D),r=n.charAt(0),a=Jr(I),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)I=I.times(t),n=Is(I.d),r=n.charAt(0),y++;a=Jr(I),r>1?(I=new M("0."+n),a++):I=new M(r+"."+n.slice(1))}else return d=gE(M,u+2,R).times(a+""),I=Gm(new M(r+"."+n.slice(1)),u-_).plus(d),M.precision=R,e==null?(wr=!0,tr(I,R)):I;for(c=o=I=kl(I.minus(no),I.plus(no),u),m=tr(I.times(I),u),i=3;;){if(o=tr(o.times(m),u),d=c.plus(kl(o,new M(i),u)),Is(d.d).slice(0,u)===Is(c.d).slice(0,u))return c=c.times(2),a!==0&&(c=c.plus(gE(M,u+2,R).times(a+""))),c=kl(c,new M(y),u),M.precision=R,e==null?(wr=!0,tr(c,R)):c;c=d,i+=2}}function hL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zh(n/fr),t.d=[],r=(n+1)%fr,n<0&&(r+=fr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=fr;r<i;)t.d.push(+e.slice(r,r+=fr));e=e.slice(r),r=fr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wr&&(t.e>k1||t.e<-k1))throw Error(ON+n)}else t.s=0,t.e=0,t.d=[0];return t}function tr(t,e,n){var r,i,a,o,c,d,u,m,y=t.d;for(o=1,a=y[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=fr,i=e,u=y[m=0];else{if(m=Math.ceil((r+1)/fr),a=y.length,m>=a)return t;for(u=a=y[m],o=1;a>=10;a/=10)o++;r%=fr,i=r-fr+o}if(n!==void 0&&(a=Ju(10,o-i-1),c=u/a%10|0,d=e<0||y[m+1]!==void 0||u%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?u/Ju(10,o-i):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return d?(a=Jr(t),y.length=1,e=e-a-1,y[0]=Ju(10,(fr-e%fr)%fr),t.e=zh(-e/fr)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,a=1,m--):(y.length=m+1,a=Ju(10,fr-r),y[m]=i>0?(u/Ju(10,o-i)%Ju(10,i)|0)*a:0),d)for(;;)if(m==0){(y[0]+=a)==pi&&(y[0]=1,++t.e);break}else{if(y[m]+=a,y[m]!=pi)break;y[m--]=0,a=1}for(r=y.length;y[--r]===0;)y.pop();if(wr&&(t.e>k1||t.e<-k1))throw Error(ON+Jr(t));return t}function Uz(t,e){var n,r,i,a,o,c,d,u,m,y,_=t.constructor,I=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),wr?tr(e,I):e;if(d=t.d,y=e.d,r=e.e,u=t.e,d=d.slice(),o=u-r,o){for(m=o<0,m?(n=d,o=-o,c=y.length):(n=y,r=u,c=d.length),i=Math.max(Math.ceil(I/fr),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=y.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=y[i]){m=d[i]<y[i];break}o=0}for(m&&(n=d,d=y,y=n,e.s=-e.s),c=d.length,i=y.length-c;i>0;--i)d[c++]=0;for(i=y.length;i>o;){if(d[--i]<y[i]){for(a=i;a&&d[--a]===0;)d[a]=pi-1;--d[a],d[i]+=pi}d[i]-=y[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,wr?tr(e,I):e):new _(0)}function xf(t,e,n){var r,i=Jr(t),a=Is(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Uc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Uc(-i-1)+a,n&&(r=n-o)>0&&(a+=Uc(r))):i>=o?(a+=Uc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Uc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Uc(r))),t.s<0?"-"+a:a}function pL(t,e){if(t.length>e)return t.length=e,!0}function Fz(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ff+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return hL(o,a.toString())}else if(typeof a!="string")throw Error(ff+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sge.test(a))hL(o,a);else throw Error(ff+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Fz,i.config=i.set=lge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function lge(t){if(!t||typeof t!="object")throw Error(Uo+"Object expected");var e,n,r,i=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ff+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ff+n+": "+r);return this}var MN=Fz(oge);no=new MN(1);const Yn=MN;function cge(t){return hge(t)||dge(t)||fge(t)||uge()}function uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fge(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function dge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hge(t){if(Array.isArray(t))return ST(t)}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pge=function(e){return e},Vz={},zz=function(e){return e===Vz},mL=function(e){return function n(){return arguments.length===0||arguments.length===1&&zz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},mge=function t(e,n){return e===1?n:mL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(c){return c!==Vz}).length;return o>=e?n.apply(void 0,i):t(e-o,mL(function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];var m=i.map(function(y){return zz(y)?d.shift():y});return n.apply(void 0,cge(m).concat(d))}))})},Ax=function(e){return mge(e.length,e)},TT=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},gge=Ax(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),yge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},CT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Hz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(c,d){return c===n[d]})||(n=a,r=e.apply(void 0,a)),r}};function vge(t){var e;return t===0?e=1:e=Math.floor(new Yn(t).abs().log(10).toNumber())+1,e}function xge(t,e,n){for(var r=new Yn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var bge=Ax(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),wge=Ax(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),_ge=Ax(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ex={rangeStep:xge,getDigitCount:vge,interpolateNumber:bge,uninterpolateNumber:wge,uninterpolateTruncation:_ge};function IT(t){return Sge(t)||Ege(t)||qz(t)||Age()}function Age(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sge(t){if(Array.isArray(t))return NT(t)}function $m(t,e){return Ige(t)||Cge(t,e)||qz(t,e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qz(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),c;!(r=(c=o.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,a=d}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ige(t){if(Array.isArray(t))return t}function Gz(t){var e=$m(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function $z(t,e,n){if(t.lte(0))return new Yn(0);var r=Ex.getDigitCount(t.toNumber()),i=new Yn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new Yn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(i);return e?d:new Yn(Math.ceil(d))}function Nge(t,e,n){var r=1,i=new Yn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Yn(10).pow(Ex.getDigitCount(t)-1),i=new Yn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Yn(Math.floor(t)))}else t===0?i=new Yn(Math.floor((e-1)/2)):n||(i=new Yn(Math.floor(t)));var o=Math.floor((e-1)/2),c=yge(gge(function(d){return i.add(new Yn(d-o).mul(r)).toNumber()}),TT);return c(0,e)}function Wz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Yn(0),tickMin:new Yn(0),tickMax:new Yn(0)};var a=$z(new Yn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Yn(0):(o=new Yn(t).add(e).div(2),o=o.sub(new Yn(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new Yn(e).sub(o).div(a).toNumber()),u=c+d+1;return u>n?Wz(t,e,n,r,i+1):(u<n&&(d=e>0?d+(n-u):d,c=e>0?c:c+(n-u)),{step:a,tickMin:o.sub(new Yn(c).mul(a)),tickMax:o.add(new Yn(d).mul(a))})}function Rge(t){var e=$m(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=Gz([n,r]),d=$m(c,2),u=d[0],m=d[1];if(u===-1/0||m===1/0){var y=m===1/0?[u].concat(IT(TT(0,i-1).map(function(){return 1/0}))):[].concat(IT(TT(0,i-1).map(function(){return-1/0})),[m]);return n>r?CT(y):y}if(u===m)return Nge(u,i,a);var _=Wz(u,m,o,a),I=_.step,D=_.tickMin,M=_.tickMax,R=Ex.rangeStep(D,M.add(new Yn(.1).mul(I)),I);return n>r?CT(R):R}function Oge(t,e){var n=$m(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Gz([r,i]),c=$m(o,2),d=c[0],u=c[1];if(d===-1/0||u===1/0)return[r,i];if(d===u)return[d];var m=Math.max(e,2),y=$z(new Yn(u).sub(d).div(m-1),a,0),_=[].concat(IT(Ex.rangeStep(new Yn(d),new Yn(u).sub(new Yn(.99).mul(y)),y)),[u]);return r>i?CT(_):_}var Mge=Hz(Rge),Pge=Hz(Oge),Dge="Invariant failed";function bf(t,e){throw new Error(Dge)}var kge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}function Lge(t,e){return Fge(t)||Uge(t,e)||Bge(t,e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Fge(t){if(Array.isArray(t))return t}function Vge(t,e){if(t==null)return{};var n=zge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xz(r.key),r)}}function Gge(t,e,n){return e&&qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ge(t,e,n){return e=j1(e),Wge(t,Yz()?Reflect.construct(e,n||[],j1(t).constructor):e.apply(t,n))}function Wge(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yge(t)}function Yge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yz=function(){return!!t})()}function j1(t){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j1(t)}function Kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(t,e)}function Kz(t,e,n){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Xge(t,"string");return th(e)=="symbol"?e:e+""}function Xge(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hh=(function(t){function e(){return Hge(this,e),$ge(this,e,arguments)}return Kge(e,t),Gge(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,c=r.dataKey,d=r.data,u=r.dataPointFormatter,m=r.xAxis,y=r.yAxis,_=Vge(r,kge),I=ot(_,!1);this.props.direction==="x"&&m.type!=="number"&&bf();var D=d.map(function(M){var R=u(M,c),j=R.x,B=R.y,U=R.value,$=R.errorVal;if(!$)return null;var H=[],G,L;if(Array.isArray($)){var V=Lge($,2);G=V[0],L=V[1]}else G=L=$;if(a==="vertical"){var F=m.scale,ee=B+i,K=ee+o,Q=ee-o,X=F(U-G),ge=F(U+L);H.push({x1:ge,y1:K,x2:ge,y2:Q}),H.push({x1:X,y1:ee,x2:ge,y2:ee}),H.push({x1:X,y1:K,x2:X,y2:Q})}else if(a==="horizontal"){var oe=y.scale,ie=j+i,fe=ie-o,Ae=ie+o,Oe=oe(U-G),qe=oe(U+L);H.push({x1:fe,y1:qe,x2:Ae,y2:qe}),H.push({x1:ie,y1:Oe,x2:ie,y2:qe}),H.push({x1:fe,y1:Oe,x2:Ae,y2:Oe})}return le.createElement(Ht,L1({className:"recharts-errorBar",key:"bar-".concat(H.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},I),H.map(function(ue){return le.createElement("line",L1({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return le.createElement(Ht,{className:"recharts-errorBars"},D)}}])})(le.Component);Kz(Hh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Kz(Hh,"displayName","ErrorBar");function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){Qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qge(t,e,n){return e=Jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jge(t){var e=Zge(t,"string");return Wm(e)=="symbol"?e:e+""}function Zge(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=eo(n,Dl);if(!o)return null;var c=Dl.defaultProps,d=c!==void 0?$u($u({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(m,y){var _=y.item,I=y.props,D=I.sectors||I.data||[];return m.concat(D.map(function(M){return{type:o.props.iconType||_.props.legendType,value:M.name,color:M.fill,payload:M}}))},[]):u=(r||[]).map(function(m){var y=m.item,_=y.type.defaultProps,I=_!==void 0?$u($u({},_),y.props):{},D=I.dataKey,M=I.name,R=I.legendType,j=I.hide;return{inactive:j,dataKey:D,type:d.iconType||R||"square",color:PN(y),value:M||D,payload:I}}),$u($u($u({},d),Dl.getWithHeight(o,i)),{},{payload:u,item:o})};function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function vL(t){return rye(t)||nye(t)||tye(t)||eye()}function eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(t,e){if(t){if(typeof t=="string")return OT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(t,e)}}function nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rye(t){if(Array.isArray(t))return OT(t)}function OT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kd(t,e,n){return e=iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=aye(t,"string");return Ym(e)=="symbol"?e:e+""}function aye(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function er(t,e,n){return Ct(t)||Ct(e)?n:ai(e)?oo(t,e,n):St(e)?e(t):n}function hm(t,e,n,r){var i=rge(t,function(c){return er(c,e)});if(n==="number"){var a=i.filter(function(c){return Xe(c)||parseFloat(c)});return a.length?[_x(a),$c(a)]:[1/0,-1/0]}var o=r?i.filter(function(c){return!Ct(c)}):i;return o.map(function(c){return ai(c)||c instanceof Date?c:""})}var oye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,u=0;u<c;u++){var m=u>0?i[u-1].coordinate:i[c-1].coordinate,y=i[u].coordinate,_=u>=c-1?i[0].coordinate:i[u+1].coordinate,I=void 0;if(ca(y-m)!==ca(_-y)){var D=[];if(ca(_-y)===ca(d[1]-d[0])){I=_;var M=y+d[1]-d[0];D[0]=Math.min(M,(M+m)/2),D[1]=Math.max(M,(M+m)/2)}else{I=m;var R=_+d[1]-d[0];D[0]=Math.min(y,(R+y)/2),D[1]=Math.max(y,(R+y)/2)}var j=[Math.min(y,(I+y)/2),Math.max(y,(I+y)/2)];if(e>j[0]&&e<=j[1]||e>=D[0]&&e<=D[1]){o=i[u].index;break}}else{var B=Math.min(m,_),U=Math.max(m,_);if(e>(B+y)/2&&e<=(U+y)/2){o=i[u].index;break}}}else for(var $=0;$<c;$++)if($===0&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$===c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2){o=r[$].index;break}return o},PN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,o=a.stroke,c=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},sye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},c=Object.keys(a),d=0,u=c.length;d<u;d++)for(var m=a[c[d]].stackGroups,y=Object.keys(m),_=0,I=y.length;_<I;_++){var D=m[y[_]],M=D.items,R=D.cateAxisId,j=M.filter(function(L){return Pl(L.type).indexOf("Bar")>=0});if(j&&j.length){var B=j[0].type.defaultProps,U=B!==void 0?Dr(Dr({},B),j[0].props):j[0].props,$=U.barSize,H=U[R];o[H]||(o[H]=[]);var G=Ct($)?n:$;o[H].push({item:j[0],stackList:j.slice(1),barSize:Ct(G)?void 0:ua(G,r,0)})}}return o},lye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,c=e.maxBarSize,d=o.length;if(d<1)return null;var u=ua(n,i,0,!0),m,y=[];if(o[0].barSize===+o[0].barSize){var _=!1,I=i/d,D=o.reduce(function($,H){return $+H.barSize||0},0);D+=(d-1)*u,D>=i&&(D-=(d-1)*u,u=0),D>=i&&I>0&&(_=!0,I*=.9,D=d*I);var M=(i-D)/2>>0,R={offset:M-u,size:0};m=o.reduce(function($,H){var G={item:H.item,position:{offset:R.offset+R.size+u,size:_?I:H.barSize}},L=[].concat(vL($),[G]);return R=L[L.length-1].position,H.stackList&&H.stackList.length&&H.stackList.forEach(function(V){L.push({item:V,position:R})}),L},y)}else{var j=ua(r,i,0,!0);i-2*j-(d-1)*u<=0&&(u=0);var B=(i-2*j-(d-1)*u)/d;B>1&&(B>>=0);var U=c===+c?Math.min(B,c):B;m=o.reduce(function($,H,G){var L=[].concat(vL($),[{item:H.item,position:{offset:j+(B+u)*G+(B-U)/2,size:U}}]);return H.stackList&&H.stackList.length&&H.stackList.forEach(function(V){L.push({item:V,position:L[L.length-1].position})}),L},y)}return m},cye=function(e,n,r,i){var a=r.children,o=r.width,c=r.margin,d=o-(c.left||0)-(c.right||0),u=Qz({children:a,legendWidth:d});if(u){var m=i||{},y=m.width,_=m.height,I=u.align,D=u.verticalAlign,M=u.layout;if((M==="vertical"||M==="horizontal"&&D==="middle")&&I!=="center"&&Xe(e[I]))return Dr(Dr({},e),{},kd({},I,e[I]+(y||0)));if((M==="horizontal"||M==="vertical"&&I==="center")&&D!=="middle"&&Xe(e[D]))return Dr(Dr({},e),{},kd({},D,e[D]+(_||0)))}return e},uye=function(e,n,r){return Ct(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Jz=function(e,n,r,i,a){var o=n.props.children,c=pa(o,Hh).filter(function(u){return uye(i,a,u.props.direction)});if(c&&c.length){var d=c.map(function(u){return u.props.dataKey});return e.reduce(function(u,m){var y=er(m,r);if(Ct(y))return u;var _=Array.isArray(y)?[_x(y),$c(y)]:[y,y],I=d.reduce(function(D,M){var R=er(m,M,0),j=_[0]-Math.abs(Array.isArray(R)?R[0]:R),B=_[1]+Math.abs(Array.isArray(R)?R[1]:R);return[Math.min(j,D[0]),Math.max(B,D[1])]},[1/0,-1/0]);return[Math.min(I[0],u[0]),Math.max(I[1],u[1])]},[1/0,-1/0])}return null},fye=function(e,n,r,i,a){var o=n.map(function(c){return Jz(e,c,r,a,i)}).filter(function(c){return!Ct(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},Zz=function(e,n,r,i,a){var o=n.map(function(d){var u=d.props.dataKey;return r==="number"&&u&&Jz(e,d,u,i)||hm(e,u,r,a)});if(r==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,u){for(var m=0,y=u.length;m<y;m++)c[u[m]]||(c[u[m]]=!0,d.push(u[m]));return d},[])},eH=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},tH=function(e,n,r,i){if(i)return e.map(function(d){return d.coordinate});var a,o,c=e.map(function(d){return d.coordinate===n&&(a=!0),d.coordinate===r&&(o=!0),d.coordinate});return a||c.push(n),o||c.push(r),c},Nl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(u=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?ca(c[0]-c[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(y){var _=a?a.indexOf(y):y;return{coordinate:i(_)+u,value:y,offset:u}});return m.filter(function(y){return!jh(y.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(y,_){return{coordinate:i(y)+u,value:y,index:_,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(y){return{coordinate:i(y)+u,value:y,offset:u}}):i.domain().map(function(y,_){return{coordinate:i(y)+u,value:a?a[y]:y,index:_,offset:u}})},yE=new WeakMap,my=function(e,n){if(typeof n!="function")return e;yE.has(e)||yE.set(e,new WeakMap);var r=yE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},nH=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Fm(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:O1(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:dm(),realScaleType:"point"}:a==="category"?{scale:Fm(),realScaleType:"band"}:{scale:O1(),realScaleType:"linear"};if(L0(i)){var d="scale".concat(sx(i));return{scale:(iL[d]||dm)(),realScaleType:iL[d]?d:"point"}}return St(i)?{scale:i}:{scale:dm(),realScaleType:"point"}},bL=1e-4,rH=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-bL,o=Math.max(i[0],i[1])+bL,c=e(n[0]),d=e(n[r-1]);(c<a||c>o||d<a||d>o)&&e.domain([n[0],n[r-1]])}},dye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hye=function(e,n){if(!n||n.length!==2||!Xe(n[0])||!Xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Xe(e[0])||e[0]<r)&&(a[0]=r),(!Xe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},pye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,c=0;c<n;++c){var d=jh(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=a,e[c][r][1]=a+d,a=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+d,o=e[c][r][1])}},mye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var c=jh(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},gye={sign:pye,expand:rfe,none:Wd,silhouette:ife,wiggle:afe,positive:mye},yye=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),a=gye[r],o=nfe().keys(i).value(function(c,d){return+er(c,d,0)}).order(sT).offset(a);return o(e)},vye=function(e,n,r,i,a,o){if(!e)return null;var c=o?n.reverse():n,d={},u=c.reduce(function(y,_){var I,D=(I=_.type)!==null&&I!==void 0&&I.defaultProps?Dr(Dr({},_.type.defaultProps),_.props):_.props,M=D.stackId,R=D.hide;if(R)return y;var j=D[r],B=y[j]||{hasStack:!1,stackGroups:{}};if(ai(M)){var U=B.stackGroups[M]||{numericAxisId:r,cateAxisId:i,items:[]};U.items.push(_),B.hasStack=!0,B.stackGroups[M]=U}else B.stackGroups[vu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[_]};return Dr(Dr({},y),{},kd({},j,B))},d),m={};return Object.keys(u).reduce(function(y,_){var I=u[_];if(I.hasStack){var D={};I.stackGroups=Object.keys(I.stackGroups).reduce(function(M,R){var j=I.stackGroups[R];return Dr(Dr({},M),{},kd({},R,{numericAxisId:r,cateAxisId:i,items:j.items,stackedData:yye(e,j.items,a)}))},D)}return Dr(Dr({},y),{},kd({},_,I))},m)},iH=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,c=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var m=Mge(u,a,c);return e.domain([_x(m),$c(m)]),{niceTicks:m}}if(a&&i==="number"){var y=e.domain(),_=Pge(y,a,c);return{niceTicks:_}}return null};function nh(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ct(i[e.dataKey])){var c=h1(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=er(i,Ct(o)?e.dataKey:o);return Ct(d)?null:e.scale(d)}var wL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var d=er(o,n.dataKey,n.domain[c]);return Ct(d)?null:n.scale(d)-a/2+i},xye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},bye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ai(a)){var o=n[a];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},wye=function(e){return e.reduce(function(n,r){return[_x(r.concat([n[0]]).filter(Xe)),$c(r.concat([n[1]]).filter(Xe))]},[1/0,-1/0])},aH=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],c=o.stackedData,d=c.reduce(function(u,m){var y=wye(m.slice(n,r+1));return[Math.min(u[0],y[0]),Math.max(u[1],y[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},_L=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MT=function(e,n,r){if(St(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(_L.test(e[0])){var a=+_L.exec(e[0])[1];i[0]=n[0]-a}else St(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(AL.test(e[1])){var o=+AL.exec(e[1])[1];i[1]=n[1]+o}else St(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},B1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=sN(n,function(y){return y.coordinate}),o=1/0,c=1,d=a.length;c<d;c++){var u=a[c],m=a[c-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},EL=function(e,n,r){return!e||!e.length||$l(e,oo(r,"type.defaultProps.domain"))?n:e},oH=function(e,n){var r=e.type.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,c=r.formatter,d=r.tooltipType,u=r.chartType,m=r.hide;return Dr(Dr({},ot(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:a||i,color:PN(e),value:er(n,i),type:d,payload:n,chartType:u,hide:m})};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){sH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sH(t,e,n){return e=_ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ye(t){var e=Aye(t,"string");return Km(e)=="symbol"?e:e+""}function Aye(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eye(t,e){return Iye(t)||Cye(t,e)||Tye(t,e)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(t,e){if(t){if(typeof t=="string")return TL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TL(t,e)}}function TL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Iye(t){if(Array.isArray(t))return t}var U1=Math.PI/180,Nye=function(e){return e*180/Math.PI},Pn=function(e,n,r,i){return{x:e+Math.cos(-U1*i)*r,y:n+Math.sin(-U1*i)*r}},lH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},cH=function(e,n,r,i,a){var o=e.width,c=e.height,d=e.startAngle,u=e.endAngle,m=ua(e.cx,o,o/2),y=ua(e.cy,c,c/2),_=lH(o,c,r),I=ua(e.innerRadius,_,0),D=ua(e.outerRadius,_,_*.8),M=Object.keys(n);return M.reduce(function(R,j){var B=n[j],U=B.domain,$=B.reversed,H;if(Ct(B.range))i==="angleAxis"?H=[d,u]:i==="radiusAxis"&&(H=[I,D]),$&&(H=[H[1],H[0]]);else{H=B.range;var G=H,L=Eye(G,2);d=L[0],u=L[1]}var V=nH(B,a),F=V.realScaleType,ee=V.scale;ee.domain(U).range(H),rH(ee);var K=iH(ee,wl(wl({},B),{},{realScaleType:F})),Q=wl(wl(wl({},B),K),{},{range:H,radius:D,realScaleType:F,scale:ee,cx:m,cy:y,innerRadius:I,outerRadius:D,startAngle:d,endAngle:u});return wl(wl({},R),{},sH({},j,Q))},{})},Rye=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Oye=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,c=Rye({x:r,y:i},{x:a,y:o});if(c<=0)return{radius:c};var d=(r-a)/c,u=Math.acos(d);return i>o&&(u=2*Math.PI-u),{radius:c,angle:Nye(u),angleInRadian:u}},Mye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Pye=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),c=Math.min(a,o);return e+c*360},CL=function(e,n){var r=e.x,i=e.y,a=Oye({x:r,y:i},n),o=a.radius,c=a.angle,d=n.innerRadius,u=n.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var m=Mye(n),y=m.startAngle,_=m.endAngle,I=c,D;if(y<=_){for(;I>_;)I-=360;for(;I<y;)I+=360;D=I>=y&&I<=_}else{for(;I>y;)I-=360;for(;I<_;)I+=360;D=I>=_&&I<=y}return D?wl(wl({},n),{},{radius:o,angle:Pye(I,n)}):null},uH=function(e){return!ne.isValidElement(e)&&!St(e)&&typeof e!="boolean"?e.className:""};function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}var Dye=["offset"];function kye(t){return Uye(t)||Bye(t)||jye(t)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(t,e){if(t){if(typeof t=="string")return PT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(t,e)}}function Bye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uye(t){if(Array.isArray(t))return PT(t)}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fye(t,e){if(t==null)return{};var n=Vye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e,n){return e=Hye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hye(t){var e=qye(t,"string");return Xm(e)=="symbol"?e:e+""}function qye(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}var Gye=function(e){var n=e.value,r=e.formatter,i=Ct(e.children)?n:e.children;return St(r)?r(i):i},$ye=function(e,n){var r=ca(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wye=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,c=e.className,d=a,u=d.cx,m=d.cy,y=d.innerRadius,_=d.outerRadius,I=d.startAngle,D=d.endAngle,M=d.clockWise,R=(y+_)/2,j=$ye(I,D),B=j>=0?1:-1,U,$;i==="insideStart"?(U=I+B*o,$=M):i==="insideEnd"?(U=D-B*o,$=!M):i==="end"&&(U=D+B*o,$=M),$=j<=0?$:!$;var H=Pn(u,m,R,U),G=Pn(u,m,R,U+($?1:-1)*359),L="M".concat(H.x,",").concat(H.y,`
    A`).concat(R,",").concat(R,",0,1,").concat($?0:1,`,
    `).concat(G.x,",").concat(G.y),V=Ct(e.id)?vu("recharts-radial-line-"):e.id;return le.createElement("text",Qm({},r,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",c)}),le.createElement("defs",null,le.createElement("path",{id:V,d:L})),le.createElement("textPath",{xlinkHref:"#".concat(V)},n))},Yye=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,c=a.cy,d=a.innerRadius,u=a.outerRadius,m=a.startAngle,y=a.endAngle,_=(m+y)/2;if(i==="outside"){var I=Pn(o,c,u+r,_),D=I.x,M=I.y;return{x:D,y:M,textAnchor:D>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var R=(d+u)/2,j=Pn(o,c,R,_),B=j.x,U=j.y;return{x:B,y:U,textAnchor:"middle",verticalAnchor:"middle"}},Kye=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,c=o.x,d=o.y,u=o.width,m=o.height,y=m>=0?1:-1,_=y*i,I=y>0?"end":"start",D=y>0?"start":"end",M=u>=0?1:-1,R=M*i,j=M>0?"end":"start",B=M>0?"start":"end";if(a==="top"){var U={x:c+u/2,y:d-y*i,textAnchor:"middle",verticalAnchor:I};return ii(ii({},U),r?{height:Math.max(d-r.y,0),width:u}:{})}if(a==="bottom"){var $={x:c+u/2,y:d+m+_,textAnchor:"middle",verticalAnchor:D};return ii(ii({},$),r?{height:Math.max(r.y+r.height-(d+m),0),width:u}:{})}if(a==="left"){var H={x:c-R,y:d+m/2,textAnchor:j,verticalAnchor:"middle"};return ii(ii({},H),r?{width:Math.max(H.x-r.x,0),height:m}:{})}if(a==="right"){var G={x:c+u+R,y:d+m/2,textAnchor:B,verticalAnchor:"middle"};return ii(ii({},G),r?{width:Math.max(r.x+r.width-G.x,0),height:m}:{})}var L=r?{width:u,height:m}:{};return a==="insideLeft"?ii({x:c+R,y:d+m/2,textAnchor:B,verticalAnchor:"middle"},L):a==="insideRight"?ii({x:c+u-R,y:d+m/2,textAnchor:j,verticalAnchor:"middle"},L):a==="insideTop"?ii({x:c+u/2,y:d+_,textAnchor:"middle",verticalAnchor:D},L):a==="insideBottom"?ii({x:c+u/2,y:d+m-_,textAnchor:"middle",verticalAnchor:I},L):a==="insideTopLeft"?ii({x:c+R,y:d+_,textAnchor:B,verticalAnchor:D},L):a==="insideTopRight"?ii({x:c+u-R,y:d+_,textAnchor:j,verticalAnchor:D},L):a==="insideBottomLeft"?ii({x:c+R,y:d+m-_,textAnchor:B,verticalAnchor:I},L):a==="insideBottomRight"?ii({x:c+u-R,y:d+m-_,textAnchor:j,verticalAnchor:I},L):Lh(a)&&(Xe(a.x)||nf(a.x))&&(Xe(a.y)||nf(a.y))?ii({x:c+ua(a.x,u),y:d+ua(a.y,m),textAnchor:"end",verticalAnchor:"end"},L):ii({x:c+u/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Xye=function(e){return"cx"in e&&Xe(e.cx)};function mi(t){var e=t.offset,n=e===void 0?5:e,r=Fye(t,Dye),i=ii({offset:n},r),a=i.viewBox,o=i.position,c=i.value,d=i.children,u=i.content,m=i.className,y=m===void 0?"":m,_=i.textBreakAll;if(!a||Ct(c)&&Ct(d)&&!ne.isValidElement(u)&&!St(u))return null;if(ne.isValidElement(u))return ne.cloneElement(u,i);var I;if(St(u)){if(I=ne.createElement(u,i),ne.isValidElement(I))return I}else I=Gye(i);var D=Xye(a),M=ot(i,!0);if(D&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wye(i,I,M);var R=D?Yye(i):Kye(i);return le.createElement(vf,Qm({className:jt("recharts-label",y)},M,R,{breakAll:_}),I)}mi.displayName="Label";var fH=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,u=e.innerRadius,m=e.outerRadius,y=e.x,_=e.y,I=e.top,D=e.left,M=e.width,R=e.height,j=e.clockWise,B=e.labelViewBox;if(B)return B;if(Xe(M)&&Xe(R)){if(Xe(y)&&Xe(_))return{x:y,y:_,width:M,height:R};if(Xe(I)&&Xe(D))return{x:I,y:D,width:M,height:R}}return Xe(y)&&Xe(_)?{x:y,y:_,width:0,height:0}:Xe(n)&&Xe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:m||d||c||0,clockWise:j}:e.viewBox?e.viewBox:{}},Qye=function(e,n){return e?e===!0?le.createElement(mi,{key:"label-implicit",viewBox:n}):ai(e)?le.createElement(mi,{key:"label-implicit",viewBox:n,value:e}):ne.isValidElement(e)?e.type===mi?ne.cloneElement(e,{key:"label-implicit",viewBox:n}):le.createElement(mi,{key:"label-implicit",content:e,viewBox:n}):St(e)?le.createElement(mi,{key:"label-implicit",content:e,viewBox:n}):Lh(e)?le.createElement(mi,Qm({viewBox:n},e,{key:"label-implicit"})):null:null},Jye=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=fH(e),o=pa(i,mi).map(function(d,u){return ne.cloneElement(d,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var c=Qye(e.label,n||a);return[c].concat(kye(o))};mi.parseViewBox=fH;mi.renderCallByParent=Jye;var vE,NL;function Zye(){if(NL)return vE;NL=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return vE=t,vE}var e1e=Zye();const dH=En(e1e);function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}var t1e=["valueAccessor"],n1e=["data","dataKey","clockWise","id","textBreakAll"];function r1e(t){return s1e(t)||o1e(t)||a1e(t)||i1e()}function i1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1e(t,e){if(t){if(typeof t=="string")return DT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(t,e)}}function o1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s1e(t){if(Array.isArray(t))return DT(t)}function DT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(this,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){l1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l1e(t,e,n){return e=c1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c1e(t){var e=u1e(t,"string");return Jm(e)=="symbol"?e:e+""}function u1e(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ML(t,e){if(t==null)return{};var n=f1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d1e=function(e){return Array.isArray(e.value)?dH(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?d1e:e,r=ML(t,t1e),i=r.data,a=r.dataKey,o=r.clockWise,c=r.id,d=r.textBreakAll,u=ML(r,n1e);return!i||!i.length?null:le.createElement(Ht,{className:"recharts-label-list"},i.map(function(m,y){var _=Ct(a)?n(m,y):er(m&&m.payload,a),I=Ct(c)?{}:{id:"".concat(c,"-").concat(y)};return le.createElement(mi,F1({},ot(m,!0),u,I,{parentViewBox:m.parentViewBox,value:_,textBreakAll:d,viewBox:mi.parseViewBox(Ct(o)?m:OL(OL({},m),{},{clockWise:o})),key:"label-".concat(y),index:y}))}))}ko.displayName="LabelList";function h1e(t,e){return t?t===!0?le.createElement(ko,{key:"labelList-implicit",data:e}):le.isValidElement(t)||St(t)?le.createElement(ko,{key:"labelList-implicit",data:e,content:t}):Lh(t)?le.createElement(ko,F1({data:e},t,{key:"labelList-implicit"})):null:null}function p1e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pa(r,ko).map(function(o,c){return ne.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var a=h1e(t.label,e);return[a].concat(r1e(i))}ko.renderCallByParent=p1e;function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function kT(){return kT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kT.apply(this,arguments)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=y1e(t,"string");return Zm(e)=="symbol"?e:e+""}function y1e(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v1e=function(e,n){var r=ca(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,u=e.cornerIsExternal,m=d*(c?1:-1)+i,y=Math.asin(d/m)/U1,_=u?a:a+o*y,I=Pn(n,r,m,_),D=Pn(n,r,i,_),M=u?a-o*y:a,R=Pn(n,r,m*Math.cos(y*U1),M);return{center:I,circleTangency:D,lineTangency:R,theta:y}},hH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,c=e.endAngle,d=v1e(o,c),u=o+d,m=Pn(n,r,a,o),y=Pn(n,r,a,u),_="M ".concat(m.x,",").concat(m.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var I=Pn(n,r,i,o),D=Pn(n,r,i,u);_+="L ".concat(D.x,",").concat(D.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(I.x,",").concat(I.y," Z")}else _+="L ".concat(n,",").concat(r," Z");return _},x1e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,u=e.startAngle,m=e.endAngle,y=ca(m-u),_=gy({cx:n,cy:r,radius:a,angle:u,sign:y,cornerRadius:o,cornerIsExternal:d}),I=_.circleTangency,D=_.lineTangency,M=_.theta,R=gy({cx:n,cy:r,radius:a,angle:m,sign:-y,cornerRadius:o,cornerIsExternal:d}),j=R.circleTangency,B=R.lineTangency,U=R.theta,$=d?Math.abs(u-m):Math.abs(u-m)-M-U;if($<0)return c?"M ".concat(D.x,",").concat(D.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hH({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:m});var H="M ".concat(D.x,",").concat(D.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(y<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(B.x,",").concat(B.y,`
  `);if(i>0){var G=gy({cx:n,cy:r,radius:i,angle:u,sign:y,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),L=G.circleTangency,V=G.lineTangency,F=G.theta,ee=gy({cx:n,cy:r,radius:i,angle:m,sign:-y,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),K=ee.circleTangency,Q=ee.lineTangency,X=ee.theta,ge=d?Math.abs(u-m):Math.abs(u-m)-F-X;if(ge<0&&o===0)return"".concat(H,"L").concat(n,",").concat(r,"Z");H+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ge>180),",").concat(+(y>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(V.x,",").concat(V.y,"Z")}else H+="L".concat(n,",").concat(r,"Z");return H},b1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pH=function(e){var n=DL(DL({},b1e),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,d=n.forceCornerRadius,u=n.cornerIsExternal,m=n.startAngle,y=n.endAngle,_=n.className;if(o<a||m===y)return null;var I=jt("recharts-sector",_),D=o-a,M=ua(c,D,0,!0),R;return M>0&&Math.abs(m-y)<360?R=x1e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(M,D/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:m,endAngle:y}):R=hH({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:m,endAngle:y}),le.createElement("path",kT({},ot(n,!0),{className:I,d:R,role:"img"}))};function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(this,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){w1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1e(t,e,n){return e=_1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _1e(t){var e=A1e(t,"string");return e0(e)=="symbol"?e:e+""}function A1e(t,e){if(e0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(e0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jL={curveBasisClosed:Gue,curveBasisOpen:$ue,curveBasis:que,curveBumpX:Rue,curveBumpY:Oue,curveLinearClosed:Wue,curveLinear:cx,curveMonotoneX:Yue,curveMonotoneY:Kue,curveNatural:Xue,curveStep:Que,curveStepAfter:Zue,curveStepBefore:Jue},yy=function(e){return e.x===+e.x&&e.y===+e.y},Vp=function(e){return e.x},zp=function(e){return e.y},E1e=function(e,n){if(St(e))return e;var r="curve".concat(sx(e));return(r==="curveMonotone"||r==="curveBump")&&n?jL["".concat(r).concat(n==="vertical"?"Y":"X")]:jL[r]||cx},S1e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,u=d===void 0?!1:d,m=E1e(r,c),y=u?a.filter(function(M){return yy(M)}):a,_;if(Array.isArray(o)){var I=u?o.filter(function(M){return yy(M)}):o,D=y.map(function(M,R){return LL(LL({},M),{},{base:I[R]})});return c==="vertical"?_=ly().y(zp).x1(Vp).x0(function(M){return M.base.x}):_=ly().x(Vp).y1(zp).y0(function(M){return M.base.y}),_.defined(yy).curve(m),_(D)}return c==="vertical"&&Xe(o)?_=ly().y(zp).x1(Vp).x0(o):Xe(o)?_=ly().x(Vp).y1(zp).y0(o):_=uV().x(Vp).y(zp),_.defined(yy).curve(m),_(y)},tu=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?S1e(e):i;return le.createElement("path",LT({},ot(e,!1),p1(e),{className:jt("recharts-curve",n),d:o,ref:a}))},xE={exports:{}},bE,BL;function T1e(){if(BL)return bE;BL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bE=t,bE}var wE,UL;function C1e(){if(UL)return wE;UL=1;var t=T1e();function e(){}function n(){}return n.resetWarningCache=e,wE=function(){function r(o,c,d,u,m,y){if(y!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},wE}var FL;function DN(){return FL||(FL=1,xE.exports=C1e()()),xE.exports}var I1e=DN();const Un=En(I1e),{getOwnPropertyNames:N1e,getOwnPropertySymbols:R1e}=Object,{hasOwnProperty:O1e}=Object.prototype;function _E(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function vy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),c=a.get(r);if(o&&c)return o===r&&c===n;a.set(n,r),a.set(r,n);const d=t(n,r,i);return a.delete(n),a.delete(r),d}}function M1e(t){return t!=null?t[Symbol.toStringTag]:void 0}function VL(t){return N1e(t).concat(R1e(t))}const P1e=Object.hasOwn||((t,e)=>O1e.call(t,e));function Mf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const D1e="__v",k1e="__o",L1e="_owner",{getOwnPropertyDescriptor:zL,keys:HL}=Object;function j1e(t,e){return t.byteLength===e.byteLength&&V1(new Uint8Array(t),new Uint8Array(e))}function B1e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function U1e(t,e){return t.byteLength===e.byteLength&&V1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function F1e(t,e){return Mf(t.getTime(),e.getTime())}function V1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function z1e(t,e){return t===e}function qL(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,c,d=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let m=!1,y=0;for(;(c=u.next())&&!c.done;){if(i[y]){y++;continue}const _=o.value,I=c.value;if(n.equals(_[0],I[0],d,y,t,e,n)&&n.equals(_[1],I[1],_[0],I[0],t,e,n)){m=i[y]=!0;break}y++}if(!m)return!1;d++}return!0}const H1e=Mf;function q1e(t,e,n){const r=HL(t);let i=r.length;if(HL(e).length!==i)return!1;for(;i-- >0;)if(!mH(t,e,n,r[i]))return!1;return!0}function Hp(t,e,n){const r=VL(t);let i=r.length;if(VL(e).length!==i)return!1;let a,o,c;for(;i-- >0;)if(a=r[i],!mH(t,e,n,a)||(o=zL(t,a),c=zL(e,a),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function G1e(t,e){return Mf(t.valueOf(),e.valueOf())}function $1e(t,e){return t.source===e.source&&t.flags===e.flags}function GL(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,c;for(;(o=a.next())&&!o.done;){const d=e.values();let u=!1,m=0;for(;(c=d.next())&&!c.done;){if(!i[m]&&n.equals(o.value,c.value,o.value,c.value,t,e,n)){u=i[m]=!0;break}m++}if(!u)return!1}return!0}function V1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function W1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mH(t,e,n,r){return(r===L1e||r===k1e||r===D1e)&&(t.$$typeof||e.$$typeof)?!0:P1e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Y1e="[object ArrayBuffer]",K1e="[object Arguments]",X1e="[object Boolean]",Q1e="[object DataView]",J1e="[object Date]",Z1e="[object Error]",eve="[object Map]",tve="[object Number]",nve="[object Object]",rve="[object RegExp]",ive="[object Set]",ave="[object String]",ove={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sve="[object URL]",lve=Object.prototype.toString;function cve({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:u,areRegExpsEqual:m,areSetsEqual:y,areTypedArraysEqual:_,areUrlsEqual:I,unknownTagComparators:D}){return function(R,j,B){if(R===j)return!0;if(R==null||j==null)return!1;const U=typeof R;if(U!==typeof j)return!1;if(U!=="object")return U==="number"?c(R,j,B):U==="function"?a(R,j,B):!1;const $=R.constructor;if($!==j.constructor)return!1;if($===Object)return d(R,j,B);if(Array.isArray(R))return e(R,j,B);if($===Date)return r(R,j,B);if($===RegExp)return m(R,j,B);if($===Map)return o(R,j,B);if($===Set)return y(R,j,B);const H=lve.call(R);if(H===J1e)return r(R,j,B);if(H===rve)return m(R,j,B);if(H===eve)return o(R,j,B);if(H===ive)return y(R,j,B);if(H===nve)return typeof R.then!="function"&&typeof j.then!="function"&&d(R,j,B);if(H===sve)return I(R,j,B);if(H===Z1e)return i(R,j,B);if(H===K1e)return d(R,j,B);if(ove[H])return _(R,j,B);if(H===Y1e)return t(R,j,B);if(H===Q1e)return n(R,j,B);if(H===X1e||H===tve||H===ave)return u(R,j,B);if(D){let G=D[H];if(!G){const L=M1e(R);L&&(G=D[L])}if(G)return G(R,j,B)}return!1}}function uve({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:j1e,areArraysEqual:n?Hp:B1e,areDataViewsEqual:U1e,areDatesEqual:F1e,areErrorsEqual:V1e,areFunctionsEqual:z1e,areMapsEqual:n?_E(qL,Hp):qL,areNumbersEqual:H1e,areObjectsEqual:n?Hp:q1e,arePrimitiveWrappersEqual:G1e,areRegExpsEqual:$1e,areSetsEqual:n?_E(GL,Hp):GL,areTypedArraysEqual:n?_E(V1,Hp):V1,areUrlsEqual:W1e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=vy(r.areArraysEqual),a=vy(r.areMapsEqual),o=vy(r.areObjectsEqual),c=vy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return r}function fve(t){return function(e,n,r,i,a,o,c){return t(e,n,c)}}function dve({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(c,d){const{cache:u=t?new WeakMap:void 0,meta:m}=n();return e(c,d,{cache:u,equals:r,meta:m,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,d){return e(c,d,a)}}const hve=wu();wu({strict:!0});wu({circular:!0});wu({circular:!0,strict:!0});wu({createInternalComparator:()=>Mf});wu({strict:!0,createInternalComparator:()=>Mf});wu({circular:!0,createInternalComparator:()=>Mf});wu({circular:!0,createInternalComparator:()=>Mf,strict:!0});function wu(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=uve(t),o=cve(a),c=n?n(o):fve(o);return dve({circular:e,comparator:o,createState:r,equals:c,strict:i})}function pve(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $L(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):pve(i)};requestAnimationFrame(r)}function jT(t){"@babel/helpers - typeof";return jT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(t)}function mve(t){return xve(t)||vve(t)||yve(t)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(t,e){if(t){if(typeof t=="string")return WL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WL(t,e)}}function WL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xve(t){if(Array.isArray(t))return t}function bve(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,c=mve(o),d=c[0],u=c.slice(1);if(typeof d=="number"){$L(i.bind(null,u),d);return}i(d),$L(i.bind(null,u));return}jT(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){gH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=_ve(t,"string");return t0(e)==="symbol"?e:String(e)}function _ve(t,e){if(t0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(t0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ave=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Eve=function(e){return e},Sve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pm=function(e,n){return Object.keys(n).reduce(function(r,i){return KL(KL({},r),{},gH({},i,e(i,n[i])))},{})},XL=function(e,n,r){return e.map(function(i){return"".concat(Sve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Tve(t,e){return Nve(t)||Ive(t,e)||yH(t,e)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Nve(t){if(Array.isArray(t))return t}function Rve(t){return Pve(t)||Mve(t)||yH(t)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(t,e){if(t){if(typeof t=="string")return BT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BT(t,e)}}function Mve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pve(t){if(Array.isArray(t))return BT(t)}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z1=1e-4,vH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},xH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},QL=function(e,n){return function(r){var i=vH(e,n);return xH(i,r)}},Dve=function(e,n){return function(r){var i=vH(e,n),a=[].concat(Rve(i.map(function(o,c){return o*c}).slice(1)),[0]);return xH(a,r)}},JL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,c=1;break;case"ease":i=.25,a=.1,o=.25,c=1;break;case"ease-in":i=.42,a=0,o=1,c=1;break;case"ease-out":i=.42,a=0,o=.58,c=1;break;case"ease-in-out":i=0,a=0,o=.58,c=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(R){return parseFloat(R)}),m=Tve(u,4);i=m[0],a=m[1],o=m[2],c=m[3]}}}var y=QL(i,o),_=QL(a,c),I=Dve(i,o),D=function(j){return j>1?1:j<0?0:j},M=function(j){for(var B=j>1?1:j,U=B,$=0;$<8;++$){var H=y(U)-B,G=I(U);if(Math.abs(H-B)<z1||G<z1)return _(U);U=D(U-H/G)}return _(U)};return M.isStepper=!1,M},kve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(m,y,_){var I=-(m-y)*r,D=_*a,M=_+(I-D)*c/1e3,R=_*c/1e3+m;return Math.abs(R-y)<z1&&Math.abs(M)<z1?[y,0]:[R,M]};return d.isStepper=!0,d.dt=c,d},Lve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JL(i);case"spring":return kve();default:if(i.split("(")[0]==="cubic-bezier")return JL(i)}return typeof i=="function"?i:null};function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function ZL(t){return Uve(t)||Bve(t)||bH(t)||jve()}function jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uve(t){if(Array.isArray(t))return FT(t)}function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){UT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UT(t,e,n){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fve(t){var e=Vve(t,"string");return n0(e)==="symbol"?e:String(e)}function Vve(t,e){if(n0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(n0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zve(t,e){return Gve(t)||qve(t,e)||bH(t,e)||Hve()}function Hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Gve(t){if(Array.isArray(t))return t}var H1=function(e,n,r){return e+(n-e)*r},VT=function(e){var n=e.from,r=e.to;return n!==r},$ve=function t(e,n,r){var i=pm(function(a,o){if(VT(o)){var c=e(o.from,o.to,o.velocity),d=zve(c,2),u=d[0],m=d[1];return Oi(Oi({},o),{},{from:u,velocity:m})}return o},n);return r<1?pm(function(a,o){return VT(o)?Oi(Oi({},o),{},{velocity:H1(o.velocity,i[a].velocity,r),from:H1(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Wve=(function(t,e,n,r,i){var a=Ave(t,e),o=a.reduce(function(R,j){return Oi(Oi({},R),{},UT({},j,[t[j],e[j]]))},{}),c=a.reduce(function(R,j){return Oi(Oi({},R),{},UT({},j,{from:t[j],velocity:0,to:e[j]}))},{}),d=-1,u,m,y=function(){return null},_=function(){return pm(function(j,B){return B.from},c)},I=function(){return!Object.values(c).filter(VT).length},D=function(j){u||(u=j);var B=j-u,U=B/n.dt;c=$ve(n,c,U),i(Oi(Oi(Oi({},t),e),_())),u=j,I()||(d=requestAnimationFrame(y))},M=function(j){m||(m=j);var B=(j-m)/r,U=pm(function(H,G){return H1.apply(void 0,ZL(G).concat([n(B)]))},o);if(i(Oi(Oi(Oi({},t),e),U)),B<1)d=requestAnimationFrame(y);else{var $=pm(function(H,G){return H1.apply(void 0,ZL(G).concat([n(1)]))},o);i(Oi(Oi(Oi({},t),e),$))}};return y=n.isStepper?D:M,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(d)}}});function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var Yve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kve(t,e){if(t==null)return{};var n=Xve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AE(t){return exe(t)||Zve(t)||Jve(t)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(t,e){if(t){if(typeof t=="string")return zT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(t,e)}}function Zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function exe(t){if(Array.isArray(t))return zT(t)}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(n),!0).forEach(function(r){nm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nm(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wH(r.key),r)}}function rxe(t,e,n){return e&&nxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wH(t){var e=ixe(t,"string");return rh(e)==="symbol"?e:String(e)}function ixe(t,e){if(rh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HT(t,e)}function HT(t,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HT(t,e)}function oxe(t){var e=sxe();return function(){var r=q1(t),i;if(e){var a=q1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return qT(this,i)}}function qT(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GT(t)}function GT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}var so=(function(t){axe(n,t);var e=oxe(n);function n(r,i){var a;txe(this,n),a=e.call(this,r,i);var o=a.props,c=o.isActive,d=o.attributeName,u=o.from,m=o.to,y=o.steps,_=o.children,I=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(GT(a)),a.changeStyle=a.changeStyle.bind(GT(a)),!c||I<=0)return a.state={style:{}},typeof _=="function"&&(a.state={style:m}),qT(a);if(y&&y.length)a.state={style:y[0].style};else if(u){if(typeof _=="function")return a.state={style:u},qT(a);a.state={style:d?nm({},d,u):u}}else a.state={style:{}};return a}return rxe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,c=a.canBegin,d=a.attributeName,u=a.shouldReAnimate,m=a.to,y=a.from,_=this.state.style;if(c){if(!o){var I={style:d?nm({},d,m):m};this.state&&_&&(d&&_[d]!==m||!d&&_!==m)&&this.setState(I);return}if(!(hve(i.to,m)&&i.canBegin&&i.isActive)){var D=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var M=D||u?y:i.to;if(this.state&&_){var R={style:d?nm({},d,M):M};(d&&_[d]!==M||!d&&_!==M)&&this.setState(R)}this.runAnimation(Ko(Ko({},this.props),{},{from:M,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,c=i.to,d=i.duration,u=i.easing,m=i.begin,y=i.onAnimationEnd,_=i.onAnimationStart,I=Wve(o,c,Lve(u),d,this.changeStyle),D=function(){a.stopJSAnimation=I()};this.manager.start([_,m,D,d,y])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,c=i.begin,d=i.onAnimationStart,u=o[0],m=u.style,y=u.duration,_=y===void 0?0:y,I=function(M,R,j){if(j===0)return M;var B=R.duration,U=R.easing,$=U===void 0?"ease":U,H=R.style,G=R.properties,L=R.onAnimationEnd,V=j>0?o[j-1]:R,F=G||Object.keys(H);if(typeof $=="function"||$==="spring")return[].concat(AE(M),[a.runJSAnimation.bind(a,{from:V.style,to:H,duration:B,easing:$}),B]);var ee=XL(F,B,$),K=Ko(Ko(Ko({},V.style),H),{},{transition:ee});return[].concat(AE(M),[K,B,L]).filter(Eve)};return this.manager.start([d].concat(AE(o.reduce(I,[m,Math.max(_,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bve());var a=i.begin,o=i.duration,c=i.attributeName,d=i.to,u=i.easing,m=i.onAnimationStart,y=i.onAnimationEnd,_=i.steps,I=i.children,D=this.manager;if(this.unSubscribe=D.subscribe(this.handleStyleChange),typeof u=="function"||typeof I=="function"||u==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var M=c?nm({},c,d):d,R=XL(Object.keys(M),o,u);D.start([m,a,Ko(Ko({},M),{},{transition:R}),o,y])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Kve(i,Yve),u=ne.Children.count(a),m=this.state.style;if(typeof a=="function")return a(m);if(!c||u===0||o<=0)return a;var y=function(I){var D=I.props,M=D.style,R=M===void 0?{}:M,j=D.className,B=ne.cloneElement(I,Ko(Ko({},d),{},{style:Ko(Ko({},R),m),className:j}));return B};return u===1?y(ne.Children.only(a)):le.createElement("div",null,ne.Children.map(a,function(_){return y(_)}))}}]),n})(ne.PureComponent);so.displayName="Animate";so.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};so.propTypes={from:Un.oneOfType([Un.object,Un.string]),to:Un.oneOfType([Un.object,Un.string]),attributeName:Un.string,duration:Un.number,begin:Un.number,easing:Un.oneOfType([Un.string,Un.func]),steps:Un.arrayOf(Un.shape({duration:Un.number.isRequired,style:Un.object.isRequired,easing:Un.oneOfType([Un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Un.func]),properties:Un.arrayOf("string"),onAnimationEnd:Un.func})),children:Un.oneOfType([Un.node,Un.func]),isActive:Un.bool,canBegin:Un.bool,onAnimationEnd:Un.func,shouldReAnimate:Un.bool,onAnimationStart:Un.func,onAnimationReStart:Un.func};function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function lxe(t,e){return dxe(t)||fxe(t,e)||uxe(t,e)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(t,e){if(t){if(typeof t=="string")return n9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n9(t,e)}}function n9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function dxe(t){if(Array.isArray(t))return t}function r9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(n),!0).forEach(function(r){hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e,n){return e=pxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pxe(t){var e=mxe(t,"string");return r0(e)=="symbol"?e:e+""}function mxe(t,e){if(r0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,d=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,m;if(o>0&&a instanceof Array){for(var y=[0,0,0,0],_=0,I=4;_<I;_++)y[_]=a[_]>o?o:a[_];m="M".concat(e,",").concat(n+c*y[0]),y[0]>0&&(m+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(u,",").concat(e+d*y[0],",").concat(n)),m+="L ".concat(e+r-d*y[1],",").concat(n),y[1]>0&&(m+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+c*y[1])),m+="L ".concat(e+r,",").concat(n+i-c*y[2]),y[2]>0&&(m+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(u,`,
        `).concat(e+r-d*y[2],",").concat(n+i)),m+="L ".concat(e+d*y[3],",").concat(n+i),y[3]>0&&(m+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-c*y[3])),m+="Z"}else if(o>0&&a===+a&&a>0){var D=Math.min(o,a);m="M ".concat(e,",").concat(n+c*D,`
            A `).concat(D,",").concat(D,",0,0,").concat(u,",").concat(e+d*D,",").concat(n,`
            L `).concat(e+r-d*D,",").concat(n,`
            A `).concat(D,",").concat(D,",0,0,").concat(u,",").concat(e+r,",").concat(n+c*D,`
            L `).concat(e+r,",").concat(n+i-c*D,`
            A `).concat(D,",").concat(D,",0,0,").concat(u,",").concat(e+r-d*D,",").concat(n+i,`
            L `).concat(e+d*D,",").concat(n+i,`
            A `).concat(D,",").concat(D,",0,0,").concat(u,",").concat(e,",").concat(n+i-c*D," Z")}else m="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return m},gxe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,c=n.width,d=n.height;if(Math.abs(c)>0&&Math.abs(d)>0){var u=Math.min(a,a+c),m=Math.max(a,a+c),y=Math.min(o,o+d),_=Math.max(o,o+d);return r>=u&&r<=m&&i>=y&&i<=_}return!1},yxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kN=function(e){var n=i9(i9({},yxe),e),r=ne.useRef(),i=ne.useState(-1),a=lxe(i,2),o=a[0],c=a[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&c($)}catch{}},[]);var d=n.x,u=n.y,m=n.width,y=n.height,_=n.radius,I=n.className,D=n.animationEasing,M=n.animationDuration,R=n.animationBegin,j=n.isAnimationActive,B=n.isUpdateAnimationActive;if(d!==+d||u!==+u||m!==+m||y!==+y||m===0||y===0)return null;var U=jt("recharts-rectangle",I);return B?le.createElement(so,{canBegin:o>0,from:{width:m,height:y,x:d,y:u},to:{width:m,height:y,x:d,y:u},duration:M,animationEasing:D,isActive:B},function($){var H=$.width,G=$.height,L=$.x,V=$.y;return le.createElement(so,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:R,duration:M,isActive:j,easing:D},le.createElement("path",G1({},ot(n,!0),{className:U,d:a9(L,V,H,G,_),ref:r})))}):le.createElement("path",G1({},ot(n,!0),{className:U,d:a9(d,u,m,y,_)}))},vxe=["points","className","baseLinePoints","connectNulls"];function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}function xxe(t,e){if(t==null)return{};var n=bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o9(t){return Exe(t)||Axe(t)||_xe(t)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function Axe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Exe(t){if(Array.isArray(t))return $T(t)}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s9=function(e){return e&&e.x===+e.x&&e.y===+e.y},Sxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){s9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),s9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},mm=function(e,n){var r=Sxe(e);n&&(r=[r.reduce(function(a,o){return[].concat(o9(a),o9(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,c,d){return"".concat(o).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Txe=function(e,n,r){var i=mm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mm(n.reverse(),r).slice(1))},_H=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=xxe(e,vxe);if(!n||!n.length)return null;var c=jt("recharts-polygon",r);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",u=Txe(n,i,a);return le.createElement("g",{className:c},le.createElement("path",_d({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?le.createElement("path",_d({},ot(o,!0),{fill:"none",d:mm(n,a)})):null,d?le.createElement("path",_d({},ot(o,!0),{fill:"none",d:mm(i,a)})):null)}var m=mm(n,a);return le.createElement("path",_d({},ot(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:c,d:m}))};function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(this,arguments)}var qh=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=jt("recharts-dot",a);return n===+n&&r===+r&&i===+i?le.createElement("circle",WT({},ot(e,!1),p1(e),{className:o,cx:n,cy:r,r:i})):null};function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}var Cxe=["x","y","top","left","width","height","className"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(this,arguments)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ixe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){Nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e,n){return e=Rxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rxe(t){var e=Oxe(t,"string");return i0(e)=="symbol"?e:e+""}function Oxe(t,e){if(i0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(i0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mxe(t,e){if(t==null)return{};var n=Pxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dxe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},kxe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,u=d===void 0?0:d,m=e.width,y=m===void 0?0:m,_=e.height,I=_===void 0?0:_,D=e.className,M=Mxe(e,Cxe),R=Ixe({x:r,y:a,top:c,left:u,width:y,height:I},M);return!Xe(r)||!Xe(a)||!Xe(y)||!Xe(I)||!Xe(c)||!Xe(u)?null:le.createElement("path",YT({},ot(R,!0),{className:jt("recharts-cross",D),d:Dxe(r,a,y,I,c,u)}))},Lxe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}function jxe(t,e){if(t==null)return{};var n=Bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}function c9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(n),!0).forEach(function(r){Uxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uxe(t,e,n){return e=Fxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fxe(t){var e=Vxe(t,"string");return a0(e)=="symbol"?e:e+""}function Vxe(t,e){if(a0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zxe=function(e,n,r,i){var a="";return i.forEach(function(o,c){var d=Pn(n,r,e,o);c?a+="L ".concat(d.x,",").concat(d.y):a+="M ".concat(d.x,",").concat(d.y)}),a+="Z",a},Hxe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,c=e.radialLines;if(!o||!o.length||!c)return null;var d=o0({stroke:"#ccc"},ot(e,!1));return le.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var m=Pn(n,r,i,u),y=Pn(n,r,a,u);return le.createElement("line",Wl({},d,{key:"line-".concat(u),x1:m.x,y1:m.y,x2:y.x,y2:y.y}))}))},qxe=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.index,o=o0(o0({stroke:"#ccc"},ot(e,!1)),{},{fill:"none"});return le.createElement("circle",Wl({},o,{className:jt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:n,cy:r,r:i}))},Gxe=function(e){var n=e.radius,r=e.index,i=o0(o0({stroke:"#ccc"},ot(e,!1)),{},{fill:"none"});return le.createElement("path",Wl({},i,{className:jt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:zxe(n,e.cx,e.cy,e.polarAngles)}))},$xe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:le.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?le.createElement(qxe,Wl({key:o},e,{radius:i,index:a})):le.createElement(Gxe,Wl({key:o},e,{radius:i,index:a}))}))},AH=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,c=o===void 0?0:o,d=e.outerRadius,u=d===void 0?0:d,m=e.gridType,y=m===void 0?"polygon":m,_=e.radialLines,I=_===void 0?!0:_,D=jxe(e,Lxe);return u<=0?null:le.createElement("g",{className:"recharts-polar-grid"},le.createElement(Hxe,Wl({cx:r,cy:a,innerRadius:c,outerRadius:u,gridType:y,radialLines:I},D)),le.createElement($xe,Wl({cx:r,cy:a,innerRadius:c,outerRadius:u,gridType:y,radialLines:I},D)))};AH.displayName="PolarGrid";var EE,u9;function Wxe(){if(u9)return EE;u9=1;var t=wx(),e=Dz(),n=Hs();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return EE=r,EE}var Yxe=Wxe();const Kxe=En(Yxe);var SE,f9;function Xxe(){if(f9)return SE;f9=1;var t=wx(),e=Hs(),n=kz();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return SE=r,SE}var Qxe=Xxe();const Jxe=En(Qxe);var Zxe=["cx","cy","angle","ticks","axisLine"],ebe=["ticks","tick","angle","tickFormatter","stroke"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){Sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e){if(t==null)return{};var n=tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SH(r.key),r)}}function rbe(t,e,n){return e&&p9(t.prototype,e),n&&p9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ibe(t,e,n){return e=$1(e),abe(t,EH()?Reflect.construct(e,n||[],$1(t).constructor):e.apply(t,n))}function abe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return obe(t)}function obe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$1(t)}function sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KT(t,e)}function Sx(t,e,n){return e=SH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=lbe(t,"string");return ih(e)=="symbol"?e:e+""}function lbe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gh=(function(t){function e(){return nbe(this,e),ibe(this,e,arguments)}return sbe(e,t),rbe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,c=a.cx,d=a.cy;return Pn(c,d,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,d=Kxe(c,function(m){return m.coordinate||0}),u=Jxe(c,function(m){return m.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,d=r.axisLine,u=h9(r,Zxe),m=c.reduce(function(D,M){return[Math.min(D[0],M.coordinate),Math.max(D[1],M.coordinate)]},[1/0,-1/0]),y=Pn(i,a,m[0],o),_=Pn(i,a,m[1],o),I=Wu(Wu(Wu({},ot(u,!1)),{},{fill:"none"},ot(d,!1)),{},{x1:y.x,y1:y.y,x2:_.x,y2:_.y});return le.createElement("line",gm({className:"recharts-polar-radius-axis-line"},I))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.angle,d=i.tickFormatter,u=i.stroke,m=h9(i,ebe),y=this.getTickTextAnchor(),_=ot(m,!1),I=ot(o,!1),D=a.map(function(M,R){var j=r.getTickValueCoord(M),B=Wu(Wu(Wu(Wu({textAnchor:y,transform:"rotate(".concat(90-c,", ").concat(j.x,", ").concat(j.y,")")},_),{},{stroke:"none",fill:u},I),{},{index:R},j),{},{payload:M});return le.createElement(Ht,gm({className:jt("recharts-polar-radius-axis-tick",uH(o)),key:"tick-".concat(M.coordinate)},uu(r.props,M,R)),e.renderTickItem(o,B,d?d(M.value,R):M.value))});return le.createElement(Ht,{className:"recharts-polar-radius-axis-ticks"},D)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:le.createElement(Ht,{className:jt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),mi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):St(r)?o=r(i):o=le.createElement(vf,gm({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(ne.PureComponent);Sx(Gh,"displayName","PolarRadiusAxis");Sx(Gh,"axisType","radiusAxis");Sx(Gh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function m9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CH(r.key),r)}}function ube(t,e,n){return e&&g9(t.prototype,e),n&&g9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fbe(t,e,n){return e=W1(e),dbe(t,TH()?Reflect.construct(e,n||[],W1(t).constructor):e.apply(t,n))}function dbe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hbe(t)}function hbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!t})()}function W1(t){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W1(t)}function pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XT(t,e)}function Tx(t,e,n){return e=CH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CH(t){var e=mbe(t,"string");return ah(e)=="symbol"?e:e+""}function mbe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gbe=Math.PI/180,y9=1e-5,$h=(function(t){function e(){return cbe(this,e),fbe(this,e,arguments)}return pbe(e,t),ube(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,c=i.radius,d=i.orientation,u=i.tickSize,m=u||8,y=Pn(a,o,c,r.coordinate),_=Pn(a,o,c+(d==="inner"?-1:1)*m,r.coordinate);return{x1:y.x,y1:y.y,x2:_.x,y2:_.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*gbe),o;return a>y9?o=i==="outer"?"start":"end":a<-y9?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,c=r.axisLine,d=r.axisLineType,u=Yu(Yu({},ot(this.props,!1)),{},{fill:"none"},ot(c,!1));if(d==="circle")return le.createElement(qh,Zu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var m=this.props.ticks,y=m.map(function(_){return Pn(i,a,o,_.coordinate)});return le.createElement(_H,Zu({className:"recharts-polar-angle-axis-line"},u,{points:y}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.tickLine,d=i.tickFormatter,u=i.stroke,m=ot(this.props,!1),y=ot(o,!1),_=Yu(Yu({},m),{},{fill:"none"},ot(c,!1)),I=a.map(function(D,M){var R=r.getTickLineCoord(D),j=r.getTickTextAnchor(D),B=Yu(Yu(Yu({textAnchor:j},m),{},{stroke:"none",fill:u},y),{},{index:M,payload:D,x:R.x2,y:R.y2});return le.createElement(Ht,Zu({className:jt("recharts-polar-angle-axis-tick",uH(o)),key:"tick-".concat(D.coordinate)},uu(r.props,D,M)),c&&le.createElement("line",Zu({className:"recharts-polar-angle-axis-tick-line"},_,R)),o&&e.renderTickItem(o,B,d?d(D.value,M):D.value))});return le.createElement(Ht,{className:"recharts-polar-angle-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:le.createElement(Ht,{className:jt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):St(r)?o=r(i):o=le.createElement(vf,Zu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(ne.PureComponent);Tx($h,"displayName","PolarAngleAxis");Tx($h,"axisType","angleAxis");Tx($h,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TE,v9;function ybe(){if(v9)return TE;v9=1;var t=PV(),e=t(Object.getPrototypeOf,Object);return TE=e,TE}var CE,x9;function vbe(){if(x9)return CE;x9=1;var t=Zl(),e=ybe(),n=ec(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,c=a.hasOwnProperty,d=o.call(Object);function u(m){if(!n(m)||t(m)!=r)return!1;var y=e(m);if(y===null)return!0;var _=c.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&o.call(_)==d}return CE=u,CE}var xbe=vbe();const bbe=En(xbe);var IE,b9;function wbe(){if(b9)return IE;b9=1;var t=Zl(),e=ec(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return IE=r,IE}var _be=wbe();const Abe=En(_be);function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function Ebe(t,e){return Ibe(t)||Cbe(t,e)||Tbe(t,e)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbe(t,e){if(t){if(typeof t=="string")return w9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w9(t,e)}}function w9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Ibe(t){if(Array.isArray(t))return t}function _9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_9(Object(n),!0).forEach(function(r){Nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nbe(t,e,n){return e=Rbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Obe(t,"string");return s0(e)=="symbol"?e:e+""}function Obe(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E9=function(e,n,r,i,a){var o=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-o/2,",").concat(n+a),c+="L ".concat(e+r-o/2-i,",").concat(n+a),c+="L ".concat(e,",").concat(n," Z"),c},Mbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pbe=function(e){var n=A9(A9({},Mbe),e),r=ne.useRef(),i=ne.useState(-1),a=Ebe(i,2),o=a[0],c=a[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&c(U)}catch{}},[]);var d=n.x,u=n.y,m=n.upperWidth,y=n.lowerWidth,_=n.height,I=n.className,D=n.animationEasing,M=n.animationDuration,R=n.animationBegin,j=n.isUpdateAnimationActive;if(d!==+d||u!==+u||m!==+m||y!==+y||_!==+_||m===0&&y===0||_===0)return null;var B=jt("recharts-trapezoid",I);return j?le.createElement(so,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:u},to:{upperWidth:m,lowerWidth:y,height:_,x:d,y:u},duration:M,animationEasing:D,isActive:j},function(U){var $=U.upperWidth,H=U.lowerWidth,G=U.height,L=U.x,V=U.y;return le.createElement(so,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:R,duration:M,easing:D},le.createElement("path",Y1({},ot(n,!0),{className:B,d:E9(L,V,$,H,G),ref:r})))}):le.createElement("g",null,le.createElement("path",Y1({},ot(n,!0),{className:B,d:E9(d,u,m,y,_)})))},Dbe=["option","shapeType","propTransformer","activeClassName","isActive"];function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function kbe(t,e){if(t==null)return{};var n=Lbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){jbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e,n){return e=Bbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bbe(t){var e=Ube(t,"string");return l0(e)=="symbol"?e:e+""}function Ube(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fbe(t,e){return K1(K1({},e),t)}function Vbe(t,e){return t==="symbols"}function T9(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return le.createElement(kN,n);case"trapezoid":return le.createElement(Pbe,n);case"sector":return le.createElement(pH,n);case"symbols":if(Vbe(e))return le.createElement(fx,n);break;default:return null}}function zbe(t){return ne.isValidElement(t)?t.props:t}function X1(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Fbe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,c=t.isActive,d=kbe(t,Dbe),u;if(ne.isValidElement(e))u=ne.cloneElement(e,K1(K1({},d),zbe(e)));else if(St(e))u=e(d);else if(bbe(e)&&!Abe(e)){var m=i(e,d);u=le.createElement(T9,{shapeType:n,elementProps:m})}else{var y=d;u=le.createElement(T9,{shapeType:n,elementProps:y})}return c?le.createElement(Ht,{className:o},u):u}function Cx(t,e){return e!=null&&"trapezoids"in t.props}function Ix(t,e){return e!=null&&"sectors"in t.props}function c0(t,e){return e!=null&&"points"in t.props}function Hbe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function qbe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Gbe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $be(t,e){var n;return Cx(t,e)?n=Hbe:Ix(t,e)?n=qbe:c0(t,e)&&(n=Gbe),n}function Wbe(t,e){var n;return Cx(t,e)?n="trapezoids":Ix(t,e)?n="sectors":c0(t,e)&&(n="points"),n}function Ybe(t,e){if(Cx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ix(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return c0(t,e)?e.payload:{}}function Kbe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Wbe(n,e),a=Ybe(n,e),o=r.filter(function(d,u){var m=$l(a,d),y=n.props[i].filter(function(D){var M=$be(n,e);return M(D,e)}),_=n.props[i].indexOf(y[y.length-1]),I=u===_;return m&&I}),c=r.indexOf(o[o.length-1]);return c}var jy;function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function C9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C9(Object(n),!0).forEach(function(r){Mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NH(r.key),r)}}function Qbe(t,e,n){return e&&I9(t.prototype,e),n&&I9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jbe(t,e,n){return e=Q1(e),Zbe(t,IH()?Reflect.construct(e,n||[],Q1(t).constructor):e.apply(t,n))}function Zbe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewe(t)}function ewe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q1(t)}function twe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QT(t,e)}function Mo(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=nwe(t,"string");return oh(e)=="symbol"?e:e+""}function nwe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=(function(t){function e(n){var r;return Xbe(this,e),r=Jbe(this,e,[n]),Mo(r,"pieRef",null),Mo(r,"sectorRefs",[]),Mo(r,"id",vu("recharts-pie-")),Mo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),St(i)&&i()}),Mo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),St(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return twe(e,t),Qbe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,c=a.labelLine,d=a.dataKey,u=a.valueKey,m=ot(this.props,!1),y=ot(o,!1),_=ot(c,!1),I=o&&o.offsetRadius||20,D=r.map(function(M,R){var j=(M.startAngle+M.endAngle)/2,B=Pn(M.cx,M.cy,M.outerRadius+I,j),U=ir(ir(ir(ir({},m),M),{},{stroke:"none"},y),{},{index:R,textAnchor:e.getTextAnchor(B.x,M.cx)},B),$=ir(ir(ir(ir({},m),M),{},{fill:"none",stroke:M.fill},_),{},{index:R,points:[Pn(M.cx,M.cy,M.outerRadius,j),B]}),H=d;return Ct(d)&&Ct(u)?H="value":Ct(d)&&(H=u),le.createElement(Ht,{key:"label-".concat(M.startAngle,"-").concat(M.endAngle,"-").concat(M.midAngle,"-").concat(R)},c&&e.renderLabelLineItem(c,$,"line"),e.renderLabelItem(o,U,er(M,H)))});return le.createElement(Ht,{className:"recharts-pie-labels"},D)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,c=a.blendStroke,d=a.inactiveShape;return r.map(function(u,m){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var y=i.isActiveIndex(m),_=d&&i.hasActiveIndex()?d:null,I=y?o:_,D=ir(ir({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return le.createElement(Ht,Ad({ref:function(R){R&&!i.sectorRefs.includes(R)&&i.sectorRefs.push(R)},tabIndex:-1,className:"recharts-pie-sector"},uu(i.props,u,m),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(m)}),le.createElement(X1,Ad({option:I,isActive:y,shapeType:"sector"},D)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,m=i.animationId,y=this.state,_=y.prevSectors,I=y.prevIsAnimationActive;return le.createElement(so,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(I),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(D){var M=D.t,R=[],j=a&&a[0],B=j.startAngle;return a.forEach(function(U,$){var H=_&&_[$],G=$>0?oo(U,"paddingAngle",0):0;if(H){var L=Zn(H.endAngle-H.startAngle,U.endAngle-U.startAngle),V=ir(ir({},U),{},{startAngle:B+G,endAngle:B+L(M)+G});R.push(V),B=V.endAngle}else{var F=U.endAngle,ee=U.startAngle,K=Zn(0,F-ee),Q=K(M),X=ir(ir({},U),{},{startAngle:B+G,endAngle:B+Q+G});R.push(X),B=X.endAngle}}),le.createElement(Ht,null,r.renderSectorsStatically(R))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!$l(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,c=i.className,d=i.label,u=i.cx,m=i.cy,y=i.innerRadius,_=i.outerRadius,I=i.isAnimationActive,D=this.state.isAnimationFinished;if(a||!o||!o.length||!Xe(u)||!Xe(m)||!Xe(y)||!Xe(_))return null;var M=jt("recharts-pie",c);return le.createElement(Ht,{tabIndex:this.props.rootTabIndex,className:M,ref:function(j){r.pieRef=j}},this.renderSectors(),d&&this.renderLabels(o),mi.renderCallByParent(this.props,null,!1),(!I||D)&&ko.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(le.isValidElement(r))return le.cloneElement(r,i);if(St(r))return r(i);var o=jt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return le.createElement(tu,Ad({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(le.isValidElement(r))return le.cloneElement(r,i);var o=a;if(St(r)&&(o=r(i),le.isValidElement(o)))return o;var c=jt("recharts-pie-label-text",typeof r!="boolean"&&!St(r)?r.className:"");return le.createElement(vf,Ad({},i,{alignmentBaseline:"middle",className:c}),o)}}])})(ne.PureComponent);jy=nc;Mo(nc,"displayName","Pie");Mo(nc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mo(nc,"parseDeltaAngle",function(t,e){var n=ca(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Mo(nc,"getRealPieData",function(t){var e=t.data,n=t.children,r=ot(t,!1),i=pa(n,Uh);return e&&e.length?e.map(function(a,o){return ir(ir(ir({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ir(ir({},r),a.props)}):[]});Mo(nc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=lH(i,a),c=r+ua(t.cx,i,i/2),d=n+ua(t.cy,a,a/2),u=ua(t.innerRadius,o,0),m=ua(t.outerRadius,o,o*.8),y=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:y}});Mo(nc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ir(ir({},e.type.defaultProps),e.props):e.props,i=jy.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,c=r.endAngle,d=r.paddingAngle,u=r.dataKey,m=r.nameKey,y=r.valueKey,_=r.tooltipType,I=Math.abs(r.minAngle),D=jy.parseCoordinateOfPie(r,n),M=jy.parseDeltaAngle(o,c),R=Math.abs(M),j=u;Ct(u)&&Ct(y)?(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Ct(u)&&(ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=y);var B=i.filter(function(V){return er(V,j,0)!==0}).length,U=(R>=360?B:B-1)*d,$=R-B*I-U,H=i.reduce(function(V,F){var ee=er(F,j,0);return V+(Xe(ee)?ee:0)},0),G;if(H>0){var L;G=i.map(function(V,F){var ee=er(V,j,0),K=er(V,m,F),Q=(Xe(ee)?ee:0)/H,X;F?X=L.endAngle+ca(M)*d*(ee!==0?1:0):X=o;var ge=X+ca(M)*((ee!==0?I:0)+Q*$),oe=(X+ge)/2,ie=(D.innerRadius+D.outerRadius)/2,fe=[{name:K,value:ee,payload:V,dataKey:j,type:_}],Ae=Pn(D.cx,D.cy,ie,oe);return L=ir(ir(ir({percent:Q,cornerRadius:a,name:K,tooltipPayload:fe,midAngle:oe,middleRadius:ie,tooltipPosition:Ae},V),D),{},{value:er(V,j),startAngle:X,endAngle:ge,payload:V,paddingAngle:ca(M)*d}),L})}return ir(ir({},D),{},{sectors:G,data:i})});var NE,N9;function rwe(){if(N9)return NE;N9=1;function t(e){return e&&e.length?e[0]:void 0}return NE=t,NE}var RE,R9;function iwe(){return R9||(R9=1,RE=rwe()),RE}var awe=iwe();const owe=En(awe);var swe=["key"];function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function lwe(t,e){if(t==null)return{};var n=cwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(this,arguments)}function O9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OH(r.key),r)}}function fwe(t,e,n){return e&&M9(t.prototype,e),n&&M9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dwe(t,e,n){return e=Z1(e),hwe(t,RH()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function hwe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pwe(t)}function pwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function mwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JT(t,e)}function JT(t,e){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JT(t,e)}function El(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=gwe(t,"string");return sh(e)=="symbol"?e:e+""}function gwe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z0=(function(t){function e(){var n;uwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=dwe(this,e,[].concat(i)),El(n,"state",{isAnimationFinished:!1}),El(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(o)&&o()}),El(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(o)&&o()}),El(n,"handleMouseEnter",function(o){var c=n.props.onMouseEnter;c&&c(n.props,o)}),El(n,"handleMouseLeave",function(o){var c=n.props.onMouseLeave;c&&c(n.props,o)}),n}return mwe(e,t),fwe(e,[{key:"renderDots",value:function(r){var i=this.props,a=i.dot,o=i.dataKey,c=ot(this.props,!1),d=ot(a,!0),u=r.map(function(m,y){var _=la(la(la({key:"dot-".concat(y),r:3},c),d),{},{dataKey:o,cx:m.x,cy:m.y,index:y,payload:m});return e.renderDotItem(a,_)});return le.createElement(Ht,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,a=i.shape,o=i.dot,c=i.isRange,d=i.baseLinePoints,u=i.connectNulls,m;return le.isValidElement(a)?m=le.cloneElement(a,la(la({},this.props),{},{points:r})):St(a)?m=a(la(la({},this.props),{},{points:r})):m=le.createElement(_H,J1({},ot(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:c?d:null,connectNulls:u})),le.createElement(Ht,{className:"recharts-radar-polygon"},m,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,m=i.animationId,y=this.state.prevPoints;return le.createElement(so,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var I=_.t,D=y&&y.length/a.length,M=a.map(function(R,j){var B=y&&y[Math.floor(j*D)];if(B){var U=Zn(B.x,R.x),$=Zn(B.y,R.y);return la(la({},R),{},{x:U(I),y:$(I)})}var H=Zn(R.cx,R.x),G=Zn(R.cy,R.y);return la(la({},R),{},{x:H(I),y:G(I)})});return r.renderPolygonStatically(M)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=r.isRange,c=this.state.prevPoints;return a&&i&&i.length&&!o&&(!c||!$l(c,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.className,o=r.points,c=r.isAnimationActive;if(i||!o||!o.length)return null;var d=this.state.isAnimationFinished,u=jt("recharts-radar",a);return le.createElement(Ht,{className:u},this.renderPolygon(),(!c||d)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var a;if(le.isValidElement(r))a=le.cloneElement(r,i);else if(St(r))a=r(i);else{var o=i.key,c=lwe(i,swe);a=le.createElement(qh,J1({},c,{key:o,className:jt("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])})(ne.PureComponent);El(z0,"displayName","Radar");El(z0,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});El(z0,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,a=t.bandSize,o=n.cx,c=n.cy,d=!1,u=[],m=n.type!=="number"?a??0:0;r.forEach(function(_,I){var D=er(_,n.dataKey,I),M=er(_,i),R=n.scale(D)+m,j=Array.isArray(M)?dH(M):M,B=Ct(j)?void 0:e.scale(j);Array.isArray(M)&&M.length>=2&&(d=!0),u.push(la(la({},Pn(o,c,B,R)),{},{name:D,value:M,cx:o,cy:c,radius:B,angle:R,payload:_}))});var y=[];return d&&u.forEach(function(_){if(Array.isArray(_.value)){var I=owe(_.value),D=Ct(I)?void 0:e.scale(I);y.push(la(la({},_),{},{radius:D},Pn(o,c,D,_.angle)))}else y.push(_)}),{points:u,isRange:d,baseLinePoints:y}});var OE,P9;function ywe(){if(P9)return OE;P9=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var c=-1,d=e(t((i-r)/(a||1)),0),u=Array(d);d--;)u[o?d:++c]=r,r+=a;return u}return OE=n,OE}var ME,D9;function MH(){if(D9)return ME;D9=1;var t=KV(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return ME=r,ME}var PE,k9;function vwe(){if(k9)return PE;k9=1;var t=ywe(),e=px(),n=MH();function r(i){return function(a,o,c){return c&&typeof c!="number"&&e(a,o,c)&&(o=c=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),c=c===void 0?a<o?1:-1:n(c),t(a,o,c,i)}}return PE=r,PE}var DE,L9;function xwe(){if(L9)return DE;L9=1;var t=vwe(),e=t();return DE=e,DE}var bwe=xwe();const ev=En(bwe);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function j9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(n),!0).forEach(function(r){PH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PH(t,e,n){return e=wwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wwe(t){var e=_we(t,"string");return u0(e)=="symbol"?e:e+""}function _we(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Awe=["Webkit","Moz","O","ms"],Ewe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Awe.reduce(function(a,o){return B9(B9({},a),{},PH({},o+r,n))},{});return i[e]=n,i};function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){Za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kH(r.key),r)}}function Twe(t,e,n){return e&&F9(t.prototype,e),n&&F9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cwe(t,e,n){return e=nv(e),Iwe(t,DH()?Reflect.construct(e,n||[],nv(t).constructor):e.apply(t,n))}function Iwe(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(t)}function Nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZT(t,e)}function ZT(t,e){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZT(t,e)}function Za(t,e,n){return e=kH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kH(t){var e=Owe(t,"string");return lh(e)=="symbol"?e:e+""}function Owe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mwe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,u=dm().domain(ev(0,d)).range([a,a+o-c]),m=u.domain().map(function(y){return u(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:m}},V9=function(e){return e.changedTouches&&!!e.changedTouches.length},ch=(function(t){function e(n){var r;return Swe(this,e),r=Cwe(this,e,[n]),Za(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Za(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Za(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,c=i.startIndex;o==null||o({endIndex:a,startIndex:c})}),r.detachDragEndListener()}),Za(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Za(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Za(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Za(r,"handleSlideDragStart",function(i){var a=V9(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Rwe(e,t),Twe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,c=this.props,d=c.gap,u=c.data,m=u.length-1,y=Math.min(i,a),_=Math.max(i,a),I=e.getIndexInRange(o,y),D=e.getIndexInRange(o,_);return{startIndex:I-I%d,endIndex:D===m?m:D-D%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,c=i.dataKey,d=er(a[r],c,r);return St(o)?o(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,u=d.x,m=d.width,y=d.travellerWidth,_=d.startIndex,I=d.endIndex,D=d.onChange,M=r.pageX-a;M>0?M=Math.min(M,u+m-y-c,u+m-y-o):M<0&&(M=Math.max(M,u-o,u-c));var R=this.getIndex({startX:o+M,endX:c+M});(R.startIndex!==_||R.endIndex!==I)&&D&&D(R),this.setState({startX:o+M,endX:c+M,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=V9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,u=this.state[o],m=this.props,y=m.x,_=m.width,I=m.travellerWidth,D=m.onChange,M=m.gap,R=m.data,j={startX:this.state.startX,endX:this.state.endX},B=r.pageX-a;B>0?B=Math.min(B,y+_-I-u):B<0&&(B=Math.max(B,y-u)),j[o]=u+B;var U=this.getIndex(j),$=U.startIndex,H=U.endIndex,G=function(){var V=R.length-1;return o==="startX"&&(c>d?$%M===0:H%M===0)||c<d&&H===V||o==="endX"&&(c>d?H%M===0:$%M===0)||c>d&&H===V};this.setState(Za(Za({},o,u+B),"brushMoveStartX",r.pageX),function(){D&&G()&&D(U)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,c=o.scaleValues,d=o.startX,u=o.endX,m=this.state[i],y=c.indexOf(m);if(y!==-1){var _=y+r;if(!(_===-1||_>=c.length)){var I=c[_];i==="startX"&&I>=u||i==="endX"&&I<=d||this.setState(Za({},i,I),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.fill,u=r.stroke;return le.createElement("rect",{stroke:u,fill:d,x:i,y:a,width:o,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.data,u=r.children,m=r.padding,y=ne.Children.only(u);return y?le.cloneElement(y,{x:i,y:a,width:o,height:c,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,c=this,d=this.props,u=d.y,m=d.travellerWidth,y=d.height,_=d.traveller,I=d.ariaLabel,D=d.data,M=d.startIndex,R=d.endIndex,j=Math.max(r,this.props.x),B=kE(kE({},ot(this.props,!1)),{},{x:j,y:u,width:m,height:y}),U=I||"Min value: ".concat((a=D[M])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=D[R])===null||o===void 0?void 0:o.name);return le.createElement(Ht,{tabIndex:0,role:"slider","aria-label":U,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(H){["ArrowLeft","ArrowRight"].includes(H.key)&&(H.preventDefault(),H.stopPropagation(),c.handleTravellerMoveKeyboard(H.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,B))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,c=a.height,d=a.stroke,u=a.travellerWidth,m=Math.min(r,i)+u,y=Math.max(Math.abs(i-r)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:o,width:y,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,c=r.height,d=r.travellerWidth,u=r.stroke,m=this.state,y=m.startX,_=m.endX,I=5,D={pointerEvents:"none",fill:u};return le.createElement(Ht,{className:"recharts-brush-texts"},le.createElement(vf,tv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(y,_)-I,y:o+c/2},D),this.getTextOfTick(i)),le.createElement(vf,tv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(y,_)+d+I,y:o+c/2},D),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,c=r.x,d=r.y,u=r.width,m=r.height,y=r.alwaysShowText,_=this.state,I=_.startX,D=_.endX,M=_.isTextActive,R=_.isSlideMoving,j=_.isTravellerMoving,B=_.isTravellerFocused;if(!i||!i.length||!Xe(c)||!Xe(d)||!Xe(u)||!Xe(m)||u<=0||m<=0)return null;var U=jt("recharts-brush",a),$=le.Children.count(o)===1,H=Ewe("userSelect","none");return le.createElement(Ht,{className:U,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:H},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(I,D),this.renderTravellerLayer(I,"startX"),this.renderTravellerLayer(D,"endX"),(M||R||j||B||y)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,c=r.height,d=r.stroke,u=Math.floor(a+c/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:a,width:o,height:c,fill:d,stroke:"none"}),le.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return le.isValidElement(r)?a=le.cloneElement(r,i):St(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,c=r.x,d=r.travellerWidth,u=r.updateId,m=r.startIndex,y=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return kE({prevData:a,prevTravellerWidth:d,prevUpdateId:u,prevX:c,prevWidth:o},a&&a.length?Mwe({data:a,width:o,x:c,travellerWidth:d,startIndex:m,endIndex:y}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var _=i.scale.domain().map(function(I){return i.scale(I)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:u,prevX:c,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,c=a-1;c-o>1;){var d=Math.floor((o+c)/2);r[d]>i?c=d:o=d}return i>=r[c]?c:o}}])})(ne.PureComponent);Za(ch,"displayName","Brush");Za(ch,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LE,z9;function Pwe(){if(z9)return LE;z9=1;var t=oN();function e(n,r){var i;return t(n,function(a,o,c){return i=r(a,o,c),!i}),!!i}return LE=e,LE}var jE,H9;function Dwe(){if(H9)return jE;H9=1;var t=TV(),e=Hs(),n=Pwe(),r=Pa(),i=px();function a(o,c,d){var u=r(o)?t:n;return d&&i(o,c,d)&&(c=void 0),u(o,e(c,3))}return jE=a,jE}var kwe=Dwe();const Lwe=En(kwe);var Bs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},BE,q9;function jwe(){if(q9)return BE;q9=1;var t=qV();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return BE=e,BE}var UE,G9;function Bwe(){if(G9)return UE;G9=1;var t=jwe(),e=zV(),n=Hs();function r(i,a){var o={};return a=n(a,3),e(i,function(c,d,u){t(o,d,a(c,d,u))}),o}return UE=r,UE}var Uwe=Bwe();const Fwe=En(Uwe);var FE,$9;function Vwe(){if($9)return FE;$9=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return FE=t,FE}var VE,W9;function zwe(){if(W9)return VE;W9=1;var t=oN();function e(n,r){var i=!0;return t(n,function(a,o,c){return i=!!r(a,o,c),i}),i}return VE=e,VE}var zE,Y9;function Hwe(){if(Y9)return zE;Y9=1;var t=Vwe(),e=zwe(),n=Hs(),r=Pa(),i=px();function a(o,c,d){var u=r(o)?t:e;return d&&i(o,c,d)&&(c=void 0),u(o,n(c,3))}return zE=a,zE}var qwe=Hwe();const LH=En(qwe);var Gwe=["x","y"];function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eC.apply(this,arguments)}function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){$we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e,n){return e=Wwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wwe(t){var e=Ywe(t,"string");return f0(e)=="symbol"?e:e+""}function Ywe(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kwe(t,e){if(t==null)return{};var n=Xwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qwe(t,e){var n=t.x,r=t.y,i=Kwe(t,Gwe),a="".concat(n),o=parseInt(a,10),c="".concat(r),d=parseInt(c,10),u="".concat(e.height||i.height),m=parseInt(u,10),y="".concat(e.width||i.width),_=parseInt(y,10);return qp(qp(qp(qp(qp({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:_,name:e.name,radius:e.radius})}function X9(t){return le.createElement(X1,eC({shapeType:"rectangle",propTransformer:Qwe,activeClassName:"recharts-active-bar"},t))}var Jwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||bf(),n)}},Zwe=["value","background"],jH;function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function e_e(t,e){if(t==null)return{};var n=t_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){Wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UH(r.key),r)}}function r_e(t,e,n){return e&&J9(t.prototype,e),n&&J9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i_e(t,e,n){return e=iv(e),a_e(t,BH()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function a_e(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tC(t,e)}function Wc(t,e,n){return e=UH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UH(t){var e=l_e(t,"string");return uh(e)=="symbol"?e:e+""}function l_e(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=(function(t){function e(){var n;n_e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=i_e(this,e,[].concat(i)),Wc(n,"state",{isAnimationFinished:!1}),Wc(n,"id",vu("recharts-bar-")),Wc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Wc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return s_e(e,t),r_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.dataKey,d=a.activeIndex,u=a.activeBar,m=ot(this.props,!1);return r&&r.map(function(y,_){var I=_===d,D=I?u:o,M=Yr(Yr(Yr({},m),y),{},{isActive:I,option:D,index:_,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(Ht,rv({className:"recharts-bar-rectangle"},uu(i.props,y,_),{key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value)}),le.createElement(X9,M))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,u=i.animationDuration,m=i.animationEasing,y=i.animationId,_=this.state.prevData;return le.createElement(so,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var D=I.t,M=a.map(function(R,j){var B=_&&_[j];if(B){var U=Zn(B.x,R.x),$=Zn(B.y,R.y),H=Zn(B.width,R.width),G=Zn(B.height,R.height);return Yr(Yr({},R),{},{x:U(D),y:$(D),width:H(D),height:G(D)})}if(o==="horizontal"){var L=Zn(0,R.height),V=L(D);return Yr(Yr({},R),{},{y:R.y+R.height-V,height:V})}var F=Zn(0,R.width),ee=F(D);return Yr(Yr({},R),{},{width:ee})});return le.createElement(Ht,null,r.renderRectanglesStatically(M))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!$l(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,c=i.activeIndex,d=ot(this.props.background,!1);return a.map(function(u,m){u.value;var y=u.background,_=e_e(u,Zwe);if(!y)return null;var I=Yr(Yr(Yr(Yr(Yr({},_),{},{fill:"#eee"},y),d),uu(r.props,u,m)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return le.createElement(X9,rv({key:"background-bar-".concat(m),option:r.props.background,isActive:m===c},I))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,c=a.xAxis,d=a.yAxis,u=a.layout,m=a.children,y=pa(m,Hh);if(!y)return null;var _=u==="vertical"?o[0].height/2:o[0].width/2,I=function(R,j){var B=Array.isArray(R.value)?R.value[1]:R.value;return{x:R.x,y:R.y,value:B,errorVal:er(R,j)}},D={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(Ht,D,y.map(function(M){return le.cloneElement(M,{key:"error-bar-".concat(i,"-").concat(M.props.dataKey),data:o,xAxis:c,yAxis:d,layout:u,offset:_,dataPointFormatter:I})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,c=r.xAxis,d=r.yAxis,u=r.left,m=r.top,y=r.width,_=r.height,I=r.isAnimationActive,D=r.background,M=r.id;if(i||!a||!a.length)return null;var R=this.state.isAnimationFinished,j=jt("recharts-bar",o),B=c&&c.allowDataOverflow,U=d&&d.allowDataOverflow,$=B||U,H=Ct(M)?this.id:M;return le.createElement(Ht,{className:j},B||U?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(H)},le.createElement("rect",{x:B?u:u-y/2,y:U?m:m-_/2,width:B?y:y*2,height:U?_:_*2}))):null,le.createElement(Ht,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(H,")"):null},D?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,H),(!I||R)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(ne.PureComponent);jH=rc;Wc(rc,"displayName","Bar");Wc(rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wc(rc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,u=t.stackedData,m=t.dataStartIndex,y=t.displayedData,_=t.offset,I=dye(r,n);if(!I)return null;var D=e.layout,M=n.type.defaultProps,R=M!==void 0?Yr(Yr({},M),n.props):n.props,j=R.dataKey,B=R.children,U=R.minPointSize,$=D==="horizontal"?o:a,H=u?$.scale.domain():null,G=xye({numericAxis:$}),L=pa(B,Uh),V=y.map(function(F,ee){var K,Q,X,ge,oe,ie;u?K=hye(u[m+ee],H):(K=er(F,j),Array.isArray(K)||(K=[G,K]));var fe=Jwe(U,jH.defaultProps.minPointSize)(K[1],ee);if(D==="horizontal"){var Ae,Oe=[o.scale(K[0]),o.scale(K[1])],qe=Oe[0],ue=Oe[1];Q=wL({axis:a,ticks:c,bandSize:i,offset:I.offset,entry:F,index:ee}),X=(Ae=ue??qe)!==null&&Ae!==void 0?Ae:void 0,ge=I.size;var pe=qe-ue;if(oe=Number.isNaN(pe)?0:pe,ie={x:Q,y:o.y,width:ge,height:o.height},Math.abs(fe)>0&&Math.abs(oe)<Math.abs(fe)){var Te=ca(oe||fe)*(Math.abs(fe)-Math.abs(oe));X-=Te,oe+=Te}}else{var Me=[a.scale(K[0]),a.scale(K[1])],Ze=Me[0],Be=Me[1];if(Q=Ze,X=wL({axis:o,ticks:d,bandSize:i,offset:I.offset,entry:F,index:ee}),ge=Be-Ze,oe=I.size,ie={x:a.x,y:X,width:a.width,height:oe},Math.abs(fe)>0&&Math.abs(ge)<Math.abs(fe)){var Rt=ca(ge||fe)*(Math.abs(fe)-Math.abs(ge));ge+=Rt}}return Yr(Yr(Yr({},F),{},{x:Q,y:X,width:ge,height:oe,value:u?K:K[1],payload:F,background:ie},L&&L[ee]&&L[ee].props),{},{tooltipPayload:[oH(n,F)],tooltipPosition:{x:Q+ge/2,y:X+oe/2}})});return Yr({data:V,layout:D},_)});function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function c_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FH(r.key),r)}}function u_e(t,e,n){return e&&Z9(t.prototype,e),n&&Z9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(n),!0).forEach(function(r){Nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nx(t,e,n){return e=FH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FH(t){var e=f_e(t,"string");return d0(e)=="symbol"?e:e+""}function f_e(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rx=function(e,n,r,i,a){var o=e.width,c=e.height,d=e.layout,u=e.children,m=Object.keys(n),y={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},_=!!eo(u,rc);return m.reduce(function(I,D){var M=n[D],R=M.orientation,j=M.domain,B=M.padding,U=B===void 0?{}:B,$=M.mirror,H=M.reversed,G="".concat(R).concat($?"Mirror":""),L,V,F,ee,K;if(M.type==="number"&&(M.padding==="gap"||M.padding==="no-gap")){var Q=j[1]-j[0],X=1/0,ge=M.categoricalDomain.sort();if(ge.forEach(function(Me,Ze){Ze>0&&(X=Math.min((Me||0)-(ge[Ze-1]||0),X))}),Number.isFinite(X)){var oe=X/Q,ie=M.layout==="vertical"?r.height:r.width;if(M.padding==="gap"&&(L=oe*ie/2),M.padding==="no-gap"){var fe=ua(e.barCategoryGap,oe*ie),Ae=oe*ie/2;L=Ae-fe-(Ae-fe)/ie*fe}}}i==="xAxis"?V=[r.left+(U.left||0)+(L||0),r.left+r.width-(U.right||0)-(L||0)]:i==="yAxis"?V=d==="horizontal"?[r.top+r.height-(U.bottom||0),r.top+(U.top||0)]:[r.top+(U.top||0)+(L||0),r.top+r.height-(U.bottom||0)-(L||0)]:V=M.range,H&&(V=[V[1],V[0]]);var Oe=nH(M,a,_),qe=Oe.scale,ue=Oe.realScaleType;qe.domain(j).range(V),rH(qe);var pe=iH(qe,Xo(Xo({},M),{},{realScaleType:ue}));i==="xAxis"?(K=R==="top"&&!$||R==="bottom"&&$,F=r.left,ee=y[G]-K*M.height):i==="yAxis"&&(K=R==="left"&&!$||R==="right"&&$,F=y[G]-K*M.width,ee=r.top);var Te=Xo(Xo(Xo({},M),pe),{},{realScaleType:ue,x:F,y:ee,scale:qe,width:i==="xAxis"?r.width:M.width,height:i==="yAxis"?r.height:M.height});return Te.bandSize=B1(Te,pe),!M.hide&&i==="xAxis"?y[G]+=(K?-1:1)*Te.height:M.hide||(y[G]+=(K?-1:1)*Te.width),Xo(Xo({},I),{},Nx({},D,Te))},{})},VH=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},d_e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return VH({x:n,y:r},{x:i,y:a})},zH=(function(){function t(e){c_e(this,t),this.scale=e}return u_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Nx(zH,"EPS",1e-4);var LN=function(e){var n=Object.keys(e).reduce(function(r,i){return Xo(Xo({},r),{},Nx({},i,zH.create(e[i])))},{});return Xo(Xo({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,c=a.position;return Fwe(i,function(d,u){return n[u].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return LH(i,function(a,o){return n[o].isInRange(a)})}})};function h_e(t){return(t%180+180)%180}var p_e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=h_e(i),o=a*Math.PI/180,c=Math.atan(r/n),d=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},HE,t7;function m_e(){if(t7)return HE;t7=1;var t=Hs(),e=j0(),n=dx();function r(i){return function(a,o,c){var d=Object(a);if(!e(a)){var u=t(o,3);a=n(a),o=function(y){return u(d[y],y,d)}}var m=i(a,o,c);return m>-1?d[u?a[m]:m]:void 0}}return HE=r,HE}var qE,n7;function g_e(){if(n7)return qE;n7=1;var t=MH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return qE=e,qE}var GE,r7;function y_e(){if(r7)return GE;r7=1;var t=jV(),e=Hs(),n=g_e(),r=Math.max;function i(a,o,c){var d=a==null?0:a.length;if(!d)return-1;var u=c==null?0:n(c);return u<0&&(u=r(d+u,0)),t(a,e(o,3),u)}return GE=i,GE}var $E,i7;function v_e(){if(i7)return $E;i7=1;var t=m_e(),e=y_e(),n=t(e);return $E=n,$E}var x_e=v_e();const b_e=En(x_e);var w_e=JF();const __e=En(w_e);var A_e=__e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jN=ne.createContext(void 0),BN=ne.createContext(void 0),HH=ne.createContext(void 0),qH=ne.createContext({}),GH=ne.createContext(void 0),$H=ne.createContext(0),WH=ne.createContext(0),a7=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,c=e.children,d=e.width,u=e.height,m=A_e(a);return le.createElement(jN.Provider,{value:r},le.createElement(BN.Provider,{value:i},le.createElement(qH.Provider,{value:a},le.createElement(HH.Provider,{value:m},le.createElement(GH.Provider,{value:o},le.createElement($H.Provider,{value:u},le.createElement(WH.Provider,{value:d},c)))))))},E_e=function(){return ne.useContext(GH)},YH=function(e){var n=ne.useContext(jN);n==null&&bf();var r=n[e];return r==null&&bf(),r},S_e=function(){var e=ne.useContext(jN);return Hc(e)},T_e=function(){var e=ne.useContext(BN),n=b_e(e,function(r){return LH(r.domain,Number.isFinite)});return n||Hc(e)},KH=function(e){var n=ne.useContext(BN);n==null&&bf();var r=n[e];return r==null&&bf(),r},C_e=function(){var e=ne.useContext(HH);return e},I_e=function(){return ne.useContext(qH)},UN=function(){return ne.useContext(WH)},FN=function(){return ne.useContext($H)};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QH(r.key),r)}}function O_e(t,e,n){return e&&R_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M_e(t,e,n){return e=av(e),P_e(t,XH()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function P_e(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(t)}function D_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function k_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function o7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(n),!0).forEach(function(r){VN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VN(t,e,n){return e=QH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QH(t){var e=L_e(t,"string");return fh(e)=="symbol"?e:e+""}function L_e(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j_e(t,e){return V_e(t)||F_e(t,e)||U_e(t,e)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t,e){if(t){if(typeof t=="string")return l7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l7(t,e)}}function l7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function V_e(t){if(Array.isArray(t))return t}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rC.apply(this,arguments)}var z_e=function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):St(e)?r=e(n):r=le.createElement("line",rC({},n,{className:"recharts-reference-line-line"})),r},H_e=function(e,n,r,i,a,o,c,d,u){var m=a.x,y=a.y,_=a.width,I=a.height;if(r){var D=u.y,M=e.y.apply(D,{position:o});if(Bs(u,"discard")&&!e.y.isInRange(M))return null;var R=[{x:m+_,y:M},{x:m,y:M}];return d==="left"?R.reverse():R}if(n){var j=u.x,B=e.x.apply(j,{position:o});if(Bs(u,"discard")&&!e.x.isInRange(B))return null;var U=[{x:B,y:y+I},{x:B,y}];return c==="top"?U.reverse():U}if(i){var $=u.segment,H=$.map(function(G){return e.apply(G,{position:o})});return Bs(u,"discard")&&Lwe(H,function(G){return!e.isInRange(G)})?null:H}return null};function q_e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,u=E_e(),m=YH(i),y=KH(a),_=C_e();if(!u||!_)return null;ss(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var I=LN({x:m.scale,y:y.scale}),D=ai(e),M=ai(n),R=r&&r.length===2,j=H_e(I,D,M,R,_,t.position,m.orientation,y.orientation,t);if(!j)return null;var B=j_e(j,2),U=B[0],$=U.x,H=U.y,G=B[1],L=G.x,V=G.y,F=Bs(t,"hidden")?"url(#".concat(u,")"):void 0,ee=s7(s7({clipPath:F},ot(t,!0)),{},{x1:$,y1:H,x2:L,y2:V});return le.createElement(Ht,{className:jt("recharts-reference-line",c)},z_e(o,ee),mi.renderCallByParent(t,d_e({x1:$,y1:H,x2:L,y2:V})))}var Ld=(function(t){function e(){return N_e(this,e),M_e(this,e,arguments)}return k_e(e,t),O_e(e,[{key:"render",value:function(){return le.createElement(q_e,this.props)}}])})(le.Component);VN(Ld,"displayName","ReferenceLine");VN(Ld,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(this,arguments)}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function c7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(n),!0).forEach(function(r){Ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZH(r.key),r)}}function W_e(t,e,n){return e&&$_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y_e(t,e,n){return e=ov(e),K_e(t,JH()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function K_e(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aC(t,e)}function Ox(t,e,n){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=J_e(t,"string");return dh(e)=="symbol"?e:e+""}function J_e(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=LN({x:i.scale,y:a.scale}),c=o.apply({x:n,y:r},{bandAware:!0});return Bs(e,"discard")&&!o.isInRange(c)?null:c},Mx=(function(t){function e(){return G_e(this,e),Y_e(this,e,arguments)}return Q_e(e,t),W_e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,c=r.alwaysShow,d=r.clipPathId,u=ai(i),m=ai(a);if(ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var y=Z_e(this.props);if(!y)return null;var _=y.x,I=y.y,D=this.props,M=D.shape,R=D.className,j=Bs(this.props,"hidden")?"url(#".concat(d,")"):void 0,B=u7(u7({clipPath:j},ot(this.props,!0)),{},{cx:_,cy:I});return le.createElement(Ht,{className:jt("recharts-reference-dot",R)},e.renderDot(M,B),mi.renderCallByParent(this.props,{x:_-o,y:I-o,width:2*o,height:2*o}))}}])})(le.Component);Ox(Mx,"displayName","ReferenceDot");Ox(Mx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ox(Mx,"renderDot",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):St(t)?n=t(e):n=le.createElement(qh,iC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function f7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(n),!0).forEach(function(r){Px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tq(r.key),r)}}function nAe(t,e,n){return e&&tAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rAe(t,e,n){return e=sv(e),iAe(t,eq()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function iAe(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aAe(t)}function aAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function oAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sC(t,e)}function sC(t,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sC(t,e)}function Px(t,e,n){return e=tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=sAe(t,"string");return hh(e)=="symbol"?e:e+""}function sAe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lAe=function(e,n,r,i,a){var o=a.x1,c=a.x2,d=a.y1,u=a.y2,m=a.xAxis,y=a.yAxis;if(!m||!y)return null;var _=LN({x:m.scale,y:y.scale}),I={x:e?_.x.apply(o,{position:"start"}):_.x.rangeMin,y:r?_.y.apply(d,{position:"start"}):_.y.rangeMin},D={x:n?_.x.apply(c,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(u,{position:"end"}):_.y.rangeMax};return Bs(a,"discard")&&(!_.isInRange(I)||!_.isInRange(D))?null:VH(I,D)},Dx=(function(t){function e(){return eAe(this,e),rAe(this,e,arguments)}return oAe(e,t),nAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,c=r.y2,d=r.className,u=r.alwaysShow,m=r.clipPathId;ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=ai(i),_=ai(a),I=ai(o),D=ai(c),M=this.props.shape;if(!y&&!_&&!I&&!D&&!M)return null;var R=lAe(y,_,I,D,this.props);if(!R&&!M)return null;var j=Bs(this.props,"hidden")?"url(#".concat(m,")"):void 0;return le.createElement(Ht,{className:jt("recharts-reference-area",d)},e.renderRect(M,d7(d7({clipPath:j},ot(this.props,!0)),R)),mi.renderCallByParent(this.props,R))}}])})(le.Component);Px(Dx,"displayName","ReferenceArea");Px(Dx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Px(Dx,"renderRect",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):St(t)?n=t(e):n=le.createElement(kN,oC({},e,{className:"recharts-reference-area-rect"})),n});function nq(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function cAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return p_e(r,n)}function uAe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function lv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function fAe(t,e){return nq(t,e+1)}function dAe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,c=e.end,d=0,u=1,m=o,y=function(){var D=r==null?void 0:r[d];if(D===void 0)return{v:nq(r,u)};var M=d,R,j=function(){return R===void 0&&(R=n(D,M)),R},B=D.coordinate,U=d===0||lv(t,B,j,m,c);U||(d=0,m=o,u+=1),U&&(m=B+t*(j()/2+i),d+=u)},_;u<=a.length;)if(_=y(),_)return _.v;return[]}function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function h7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(n),!0).forEach(function(r){hAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hAe(t,e,n){return e=pAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pAe(t){var e=mAe(t,"string");return h0(e)=="symbol"?e:e+""}function mAe(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gAe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,c=e.start,d=e.end,u=function(_){var I=a[_],D,M=function(){return D===void 0&&(D=n(I,_)),D};if(_===o-1){var R=t*(I.coordinate+t*M()/2-d);a[_]=I=Gi(Gi({},I),{},{tickCoord:R>0?I.coordinate-R*t:I.coordinate})}else a[_]=I=Gi(Gi({},I),{},{tickCoord:I.coordinate});var j=lv(t,I.tickCoord,M,c,d);j&&(d=I.tickCoord-t*(M()/2+i),a[_]=Gi(Gi({},I),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return a}function yAe(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,d=e.start,u=e.end;if(a){var m=r[c-1],y=n(m,c-1),_=t*(m.coordinate+t*y/2-u);o[c-1]=m=Gi(Gi({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate});var I=lv(t,m.tickCoord,function(){return y},d,u);I&&(u=m.tickCoord-t*(y/2+i),o[c-1]=Gi(Gi({},m),{},{isShow:!0}))}for(var D=a?c-1:c,M=function(B){var U=o[B],$,H=function(){return $===void 0&&($=n(U,B)),$};if(B===0){var G=t*(U.coordinate-t*H()/2-d);o[B]=U=Gi(Gi({},U),{},{tickCoord:G<0?U.coordinate-G*t:U.coordinate})}else o[B]=U=Gi(Gi({},U),{},{tickCoord:U.coordinate});var L=lv(t,U.tickCoord,H,d,u);L&&(d=U.tickCoord+t*(H()/2+i),o[B]=Gi(Gi({},U),{},{isShow:!0}))},R=0;R<D;R++)M(R);return o}function zN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,u=t.tickFormatter,m=t.unit,y=t.angle;if(!i||!i.length||!r)return[];if(Xe(d)||qs.isSsr)return fAe(i,typeof d=="number"&&Xe(d)?d:0);var _=[],I=c==="top"||c==="bottom"?"width":"height",D=m&&I==="width"?fm(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},M=function(U,$){var H=St(u)?u(U.value,$):U.value;return I==="width"?cAe(fm(H,{fontSize:e,letterSpacing:n}),D,y):fm(H,{fontSize:e,letterSpacing:n})[I]},R=i.length>=2?ca(i[1].coordinate-i[0].coordinate):1,j=uAe(a,R,I);return d==="equidistantPreserveStart"?dAe(R,j,M,i,o):(d==="preserveStart"||d==="preserveStartEnd"?_=yAe(R,j,M,i,o,d==="preserveStartEnd"):_=gAe(R,j,M,i,o),_.filter(function(B){return B.isShow}))}var vAe=["viewBox"],xAe=["viewBox"],bAe=["ticks"];function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ed.apply(this,arguments)}function p7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(n),!0).forEach(function(r){HN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WE(t,e){if(t==null)return{};var n=wAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iq(r.key),r)}}function AAe(t,e,n){return e&&m7(t.prototype,e),n&&m7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function EAe(t,e,n){return e=cv(e),SAe(t,rq()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(t)}function TAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lC(t,e)}function HN(t,e,n){return e=iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iq(t){var e=IAe(t,"string");return ph(e)=="symbol"?e:e+""}function IAe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wh=(function(t){function e(n){var r;return _Ae(this,e),r=EAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return CAe(e,t),AAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=WE(r,vAe),c=this.props,d=c.viewBox,u=WE(c,xAe);return!Pd(a,d)||!Pd(o,u)||!Pd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,c=i.width,d=i.height,u=i.orientation,m=i.tickSize,y=i.mirror,_=i.tickMargin,I,D,M,R,j,B,U=y?-1:1,$=r.tickSize||m,H=Xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":I=D=r.coordinate,R=o+ +!y*d,M=R-U*$,B=M-U*_,j=H;break;case"left":M=R=r.coordinate,D=a+ +!y*c,I=D-U*$,j=I-U*_,B=H;break;case"right":M=R=r.coordinate,D=a+ +y*c,I=D+U*$,j=I+U*_,B=H;break;default:I=D=r.coordinate,R=o+ +y*d,M=R+U*$,B=M+U*_,j=H;break}return{line:{x1:I,y1:M,x2:D,y2:R},tick:{x:j,y:B}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.orientation,u=r.mirror,m=r.axisLine,y=oa(oa(oa({},ot(this.props,!1)),ot(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!u||d==="bottom"&&u);y=oa(oa({},y),{},{x1:i,y1:a+_*c,x2:i+o,y2:a+_*c})}else{var I=+(d==="left"&&!u||d==="right"&&u);y=oa(oa({},y),{},{x1:i+I*o,y1:a,x2:i+I*o,y2:a+c})}return le.createElement("line",Ed({},y,{className:jt("recharts-cartesian-axis-line",oo(m,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,c=this.props,d=c.tickLine,u=c.stroke,m=c.tick,y=c.tickFormatter,_=c.unit,I=zN(oa(oa({},this.props),{},{ticks:r}),i,a),D=this.getTickTextAnchor(),M=this.getTickVerticalAnchor(),R=ot(this.props,!1),j=ot(m,!1),B=oa(oa({},R),{},{fill:"none"},ot(d,!1)),U=I.map(function($,H){var G=o.getTickLineCoord($),L=G.line,V=G.tick,F=oa(oa(oa(oa({textAnchor:D,verticalAnchor:M},R),{},{stroke:"none",fill:u},j),V),{},{index:H,payload:$,visibleTicksCount:I.length,tickFormatter:y});return le.createElement(Ht,Ed({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},uu(o.props,$,H)),d&&le.createElement("line",Ed({},B,L,{className:jt("recharts-cartesian-axis-tick-line",oo(d,"className"))})),m&&e.renderTickItem(m,F,"".concat(St(y)?y($.value,H):$.value).concat(_||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},U)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,u=i.className,m=i.hide;if(m)return null;var y=this.props,_=y.ticks,I=WE(y,bAe),D=_;return St(d)&&(D=_&&_.length>0?d(this.props):d(I)),o<=0||c<=0||!D||!D.length?null:le.createElement(Ht,{className:jt("recharts-cartesian-axis",u),ref:function(R){r.layerReference=R}},a&&this.renderAxisLine(),this.renderTicks(D,this.state.fontSize,this.state.letterSpacing),mi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):St(r)?o=r(i):o=le.createElement(vf,Ed({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(ne.Component);HN(Wh,"displayName","CartesianAxis");HN(Wh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NAe=["x1","y1","x2","y2","key"],RAe=["offset"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function g7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(n),!0).forEach(function(r){OAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OAe(t,e,n){return e=MAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MAe(t){var e=PAe(t,"string");return wf(e)=="symbol"?e:e+""}function PAe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function y7(t,e){if(t==null)return{};var n=DAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kAe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,c=e.height,d=e.ry;return le.createElement("rect",{x:i,y:a,ry:d,width:o,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function aq(t,e){var n;if(le.isValidElement(t))n=le.cloneElement(t,e);else if(St(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,c=e.key,d=y7(e,NAe),u=ot(d,!1);u.offset;var m=y7(u,RAe);n=le.createElement("line",of({},m,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function LAe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var u=Yi(Yi({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return aq(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jAe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var u=Yi(Yi({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return aq(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function BAe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,u=d===void 0?!0:d;if(!u||!e||!e.length)return null;var m=c.map(function(_){return Math.round(_+i-i)}).sort(function(_,I){return _-I});i!==m[0]&&m.unshift(0);var y=m.map(function(_,I){var D=!m[I+1],M=D?i+o-_:m[I+1]-_;if(M<=0)return null;var R=I%e.length;return le.createElement("rect",{key:"react-".concat(I),y:_,x:r,height:M,width:a,stroke:"none",fill:e[R],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function UAe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,c=t.width,d=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var m=u.map(function(_){return Math.round(_+a-a)}).sort(function(_,I){return _-I});a!==m[0]&&m.unshift(0);var y=m.map(function(_,I){var D=!m[I+1],M=D?a+c-_:m[I+1]-_;if(M<=0)return null;var R=I%r.length;return le.createElement("rect",{key:"react-".concat(I),x:_,y:o,width:M,height:d,stroke:"none",fill:r[R],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var FAe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return tH(zN(Yi(Yi(Yi({},Wh.defaultProps),r),{},{ticks:Nl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},VAe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return tH(zN(Yi(Yi(Yi({},Wh.defaultProps),r),{},{ticks:Nl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},dd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ns(t){var e,n,r,i,a,o,c=UN(),d=FN(),u=I_e(),m=Yi(Yi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:dd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:dd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:dd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:dd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:dd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:dd.verticalFill,x:Xe(t.x)?t.x:u.left,y:Xe(t.y)?t.y:u.top,width:Xe(t.width)?t.width:u.width,height:Xe(t.height)?t.height:u.height}),y=m.x,_=m.y,I=m.width,D=m.height,M=m.syncWithTicks,R=m.horizontalValues,j=m.verticalValues,B=S_e(),U=T_e();if(!Xe(I)||I<=0||!Xe(D)||D<=0||!Xe(y)||y!==+y||!Xe(_)||_!==+_)return null;var $=m.verticalCoordinatesGenerator||FAe,H=m.horizontalCoordinatesGenerator||VAe,G=m.horizontalPoints,L=m.verticalPoints;if((!G||!G.length)&&St(H)){var V=R&&R.length,F=H({yAxis:U?Yi(Yi({},U),{},{ticks:V?R:U.ticks}):void 0,width:c,height:d,offset:u},V?!0:M);ss(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wf(F),"]")),Array.isArray(F)&&(G=F)}if((!L||!L.length)&&St($)){var ee=j&&j.length,K=$({xAxis:B?Yi(Yi({},B),{},{ticks:ee?j:B.ticks}):void 0,width:c,height:d,offset:u},ee?!0:M);ss(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wf(K),"]")),Array.isArray(K)&&(L=K)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(kAe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),le.createElement(LAe,of({},m,{offset:u,horizontalPoints:G,xAxis:B,yAxis:U})),le.createElement(jAe,of({},m,{offset:u,verticalPoints:L,xAxis:B,yAxis:U})),le.createElement(BAe,of({},m,{horizontalPoints:G})),le.createElement(UAe,of({},m,{verticalPoints:L})))}Ns.displayName="CartesianGrid";var zAe=["type","layout","connectNulls","ref"],HAe=["key"];function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function v7(t,e){if(t==null)return{};var n=qAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){Qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hd(t){return YAe(t)||WAe(t)||$Ae(t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ae(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function WAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YAe(t){if(Array.isArray(t))return cC(t)}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sq(r.key),r)}}function XAe(t,e,n){return e&&b7(t.prototype,e),n&&b7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QAe(t,e,n){return e=uv(e),JAe(t,oq()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function JAe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZAe(t)}function ZAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function e2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uC(t,e)}function Qo(t,e,n){return e=sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sq(t){var e=t2e(t,"string");return mh(e)=="symbol"?e:e+""}function t2e(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yl=(function(t){function e(){var n;KAe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=QAe(this,e,[].concat(i)),Qo(n,"state",{isAnimationFinished:!0,totalLength:0}),Qo(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),Qo(n,"getStrokeDasharray",function(o,c,d){var u=d.reduce(function(j,B){return j+B});if(!u)return n.generateSimpleStrokeDasharray(c,o);for(var m=Math.floor(o/u),y=o%u,_=c-o,I=[],D=0,M=0;D<d.length;M+=d[D],++D)if(M+d[D]>y){I=[].concat(hd(d.slice(0,D)),[y-M]);break}var R=I.length%2===0?[0,_]:[_];return[].concat(hd(e.repeat(d,m)),hd(I),R).map(function(j){return"".concat(j,"px")}).join(", ")}),Qo(n,"id",vu("recharts-line-")),Qo(n,"pathRef",function(o){n.mainCurve=o}),Qo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return e2e(e,t),XAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,d=a.yAxis,u=a.layout,m=a.children,y=pa(m,Hh);if(!y)return null;var _=function(M,R){return{x:M.x,y:M.y,value:M.value,errorVal:er(M.payload,R)}},I={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(Ht,I,y.map(function(D){return le.cloneElement(D,{key:"bar-".concat(D.props.dataKey),data:o,xAxis:c,yAxis:d,layout:u,dataPointFormatter:_})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,u=c.points,m=c.dataKey,y=ot(this.props,!1),_=ot(d,!0),I=u.map(function(M,R){var j=Xa(Xa(Xa({key:"dot-".concat(R),r:3},y),_),{},{value:M.value,dataKey:m,cx:M.x,cy:M.y,index:R,payload:M.payload});return e.renderDotItem(d,j)}),D={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(Ht,ym({className:"recharts-line-dots",key:"dots"},D),I)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,d=c.type,u=c.layout,m=c.connectNulls;c.ref;var y=v7(c,zAe),_=Xa(Xa(Xa({},ot(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:d,layout:u,connectNulls:m});return le.createElement(tu,ym({},_,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,d=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,y=o.animationDuration,_=o.animationEasing,I=o.animationId,D=o.animateNewValues,M=o.width,R=o.height,j=this.state,B=j.prevPoints,U=j.totalLength;return le.createElement(so,{begin:m,duration:y,isActive:u,easing:_,from:{t:0},to:{t:1},key:"line-".concat(I),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var H=$.t;if(B){var G=B.length/c.length,L=c.map(function(Q,X){var ge=Math.floor(X*G);if(B[ge]){var oe=B[ge],ie=Zn(oe.x,Q.x),fe=Zn(oe.y,Q.y);return Xa(Xa({},Q),{},{x:ie(H),y:fe(H)})}if(D){var Ae=Zn(M*2,Q.x),Oe=Zn(R/2,Q.y);return Xa(Xa({},Q),{},{x:Ae(H),y:Oe(H)})}return Xa(Xa({},Q),{},{x:Q.x,y:Q.y})});return a.renderCurveStatically(L,r,i)}var V=Zn(0,U),F=V(H),ee;if(d){var K="".concat(d).split(/[,\s]+/gim).map(function(Q){return parseFloat(Q)});ee=a.getStrokeDasharray(F,U,K)}else ee=a.generateSimpleStrokeDasharray(U,F);return a.renderCurveStatically(c,r,i,{strokeDasharray:ee})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,d=this.state,u=d.prevPoints,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!$l(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,d=i.className,u=i.xAxis,m=i.yAxis,y=i.top,_=i.left,I=i.width,D=i.height,M=i.isAnimationActive,R=i.id;if(a||!c||!c.length)return null;var j=this.state.isAnimationFinished,B=c.length===1,U=jt("recharts-line",d),$=u&&u.allowDataOverflow,H=m&&m.allowDataOverflow,G=$||H,L=Ct(R)?this.id:R,V=(r=ot(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=V.r,ee=F===void 0?3:F,K=V.strokeWidth,Q=K===void 0?2:K,X=rV(o)?o:{},ge=X.clipDot,oe=ge===void 0?!0:ge,ie=ee*2+Q;return le.createElement(Ht,{className:U},$||H?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(L)},le.createElement("rect",{x:$?_:_-I/2,y:H?y:y-D/2,width:$?I:I*2,height:H?D:D*2})),!oe&&le.createElement("clipPath",{id:"clipPath-dots-".concat(L)},le.createElement("rect",{x:_-ie/2,y:y-ie/2,width:I+ie,height:D+ie}))):null,!B&&this.renderCurve(G,L),this.renderErrorBar(G,L),(B||o)&&this.renderDots(G,oe,L),(!M||j)&&ko.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(hd(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(hd(o),hd(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(le.isValidElement(r))a=le.cloneElement(r,i);else if(St(r))a=r(i);else{var o=i.key,c=v7(i,HAe),d=jt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=le.createElement(qh,ym({key:o},c,{className:d}))}return a}}])})(ne.PureComponent);Qo(Yl,"displayName","Line");Qo(Yl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qo(Yl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,d=t.displayedData,u=t.offset,m=e.layout,y=d.map(function(_,I){var D=er(_,o);return m==="horizontal"?{x:nh({axis:n,ticks:i,bandSize:c,entry:_,index:I}),y:Ct(D)?null:r.scale(D),value:D,payload:_}:{x:Ct(D)?null:n.scale(D),y:nh({axis:r,ticks:a,bandSize:c,entry:_,index:I}),value:D,payload:_}});return Xa({points:y,layout:m},u)});var n2e=["layout","type","stroke","connectNulls","isRange","ref"],r2e=["key"],lq;function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function cq(t,e){if(t==null)return{};var n=i2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function w7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fq(r.key),r)}}function o2e(t,e,n){return e&&_7(t.prototype,e),n&&_7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s2e(t,e,n){return e=fv(e),l2e(t,uq()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function l2e(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c2e(t)}function c2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function u2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fC(t,e)}function Rs(t,e,n){return e=fq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fq(t){var e=f2e(t,"string");return gh(e)=="symbol"?e:e+""}function f2e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oa=(function(t){function e(){var n;a2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s2e(this,e,[].concat(i)),Rs(n,"state",{isAnimationFinished:!0}),Rs(n,"id",vu("recharts-area-")),Rs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(o)&&o()}),Rs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(o)&&o()}),n}return u2e(e,t),o2e(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,u=d.dot,m=d.points,y=d.dataKey,_=ot(this.props,!1),I=ot(u,!0),D=m.map(function(R,j){var B=Bc(Bc(Bc({key:"dot-".concat(j),r:3},_),I),{},{index:j,cx:R.x,cy:R.y,dataKey:y,value:R.value,payload:R.payload,points:m});return e.renderDotItem(u,B)}),M={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(Ht,sf({className:"recharts-area-dots"},M),D)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].x,u=o[o.length-1].x,m=r*Math.abs(d-u),y=$c(o.map(function(_){return _.y||0}));return Xe(a)&&typeof a=="number"?y=Math.max(a,y):a&&Array.isArray(a)&&a.length&&(y=Math.max($c(a.map(function(_){return _.y||0})),y)),Xe(y)?le.createElement("rect",{x:d<u?d:d-m,y:0,width:m,height:Math.floor(y+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,c=i.strokeWidth,d=o[0].y,u=o[o.length-1].y,m=r*Math.abs(d-u),y=$c(o.map(function(_){return _.x||0}));return Xe(a)&&typeof a=="number"?y=Math.max(a,y):a&&Array.isArray(a)&&a.length&&(y=Math.max($c(a.map(function(_){return _.x||0})),y)),Xe(y)?le.createElement("rect",{x:0,y:d<u?d:d-m,width:y+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var c=this.props,d=c.layout,u=c.type,m=c.stroke,y=c.connectNulls,_=c.isRange;c.ref;var I=cq(c,n2e);return le.createElement(Ht,{clipPath:a?"url(#clipPath-".concat(o,")"):null},le.createElement(tu,sf({},ot(I,!0),{points:r,connectNulls:y,type:u,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&le.createElement(tu,sf({},ot(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:y,fill:"none",points:r})),m!=="none"&&_&&le.createElement(tu,sf({},ot(this.props,!1),{className:"recharts-area-curve",layout:d,type:u,connectNulls:y,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,d=o.baseLine,u=o.isAnimationActive,m=o.animationBegin,y=o.animationDuration,_=o.animationEasing,I=o.animationId,D=this.state,M=D.prevPoints,R=D.prevBaseLine;return le.createElement(so,{begin:m,duration:y,isActive:u,easing:_,from:{t:0},to:{t:1},key:"area-".concat(I),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var B=j.t;if(M){var U=M.length/c.length,$=c.map(function(V,F){var ee=Math.floor(F*U);if(M[ee]){var K=M[ee],Q=Zn(K.x,V.x),X=Zn(K.y,V.y);return Bc(Bc({},V),{},{x:Q(B),y:X(B)})}return V}),H;if(Xe(d)&&typeof d=="number"){var G=Zn(R,d);H=G(B)}else if(Ct(d)||jh(d)){var L=Zn(R,0);H=L(B)}else H=d.map(function(V,F){var ee=Math.floor(F*U);if(R[ee]){var K=R[ee],Q=Zn(K.x,V.x),X=Zn(K.y,V.y);return Bc(Bc({},V),{},{x:Q(B),y:X(B)})}return V});return a.renderAreaStatically($,H,r,i)}return le.createElement(Ht,null,le.createElement("defs",null,le.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(B))),le.createElement(Ht,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(c,d,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,c=a.baseLine,d=a.isAnimationActive,u=this.state,m=u.prevPoints,y=u.prevBaseLine,_=u.totalLength;return d&&o&&o.length&&(!m&&_>0||!$l(m,o)||!$l(y,c))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,c,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,d=i.className,u=i.top,m=i.left,y=i.xAxis,_=i.yAxis,I=i.width,D=i.height,M=i.isAnimationActive,R=i.id;if(a||!c||!c.length)return null;var j=this.state.isAnimationFinished,B=c.length===1,U=jt("recharts-area",d),$=y&&y.allowDataOverflow,H=_&&_.allowDataOverflow,G=$||H,L=Ct(R)?this.id:R,V=(r=ot(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=V.r,ee=F===void 0?3:F,K=V.strokeWidth,Q=K===void 0?2:K,X=rV(o)?o:{},ge=X.clipDot,oe=ge===void 0?!0:ge,ie=ee*2+Q;return le.createElement(Ht,{className:U},$||H?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(L)},le.createElement("rect",{x:$?m:m-I/2,y:H?u:u-D/2,width:$?I:I*2,height:H?D:D*2})),!oe&&le.createElement("clipPath",{id:"clipPath-dots-".concat(L)},le.createElement("rect",{x:m-ie/2,y:u-ie/2,width:I+ie,height:D+ie}))):null,B?null:this.renderArea(G,L),(o||B)&&this.renderDots(G,oe,L),(!M||j)&&ko.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(ne.PureComponent);lq=Oa;Rs(Oa,"displayName","Area");Rs(Oa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Rs(Oa,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,c=o??a;if(Xe(c)&&typeof c=="number")return c;var d=i==="horizontal"?r:n,u=d.scale.domain();if(d.type==="number"){var m=Math.max(u[0],u[1]),y=Math.min(u[0],u[1]);return c==="dataMin"?y:c==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});Rs(Oa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,d=t.dataKey,u=t.stackedData,m=t.dataStartIndex,y=t.displayedData,_=t.offset,I=e.layout,D=u&&u.length,M=lq.getBaseValue(e,n,r,i),R=I==="horizontal",j=!1,B=y.map(function($,H){var G;D?G=u[m+H]:(G=er($,d),Array.isArray(G)?j=!0:G=[M,G]);var L=G[1]==null||D&&er($,d)==null;return R?{x:nh({axis:r,ticks:a,bandSize:c,entry:$,index:H}),y:L?null:i.scale(G[1]),value:G,payload:$}:{x:L?null:r.scale(G[1]),y:nh({axis:i,ticks:o,bandSize:c,entry:$,index:H}),value:G,payload:$}}),U;return D||j?U=B.map(function($){var H=Array.isArray($.value)?$.value[0]:null;return R?{x:$.x,y:H!=null&&$.y!=null?i.scale(H):null}:{x:H!=null?r.scale(H):null,y:$.y}}):U=R?i.scale(M):r.scale(M),Bc({points:B,baseLine:U,layout:I,isRange:j},_)});Rs(Oa,"renderDotItem",function(t,e){var n;if(le.isValidElement(t))n=le.cloneElement(t,e);else if(St(t))n=t(e);else{var r=jt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=cq(e,r2e);n=le.createElement(qh,sf({},a,{key:i,className:r}))}return n});function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function d2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pq(r.key),r)}}function p2e(t,e,n){return e&&h2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m2e(t,e,n){return e=dv(e),g2e(t,dq()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function g2e(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y2e(t)}function y2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dq=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function v2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dC(t,e)}function hq(t,e,n){return e=pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pq(t){var e=x2e(t,"string");return yh(e)=="symbol"?e:e+""}function x2e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kx=(function(t){function e(){return d2e(this,e),m2e(this,e,arguments)}return v2e(e,t),p2e(e,[{key:"render",value:function(){return null}}])})(le.Component);hq(kx,"displayName","ZAxis");hq(kx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var b2e=["option","isActive"];function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function w2e(t,e){if(t==null)return{};var n=_2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A2e(t){var e=t.option,n=t.isActive,r=w2e(t,b2e);return typeof e=="string"?le.createElement(X1,vm({option:le.createElement(fx,vm({type:e},r)),isActive:n,shapeType:"symbols"},r)):le.createElement(X1,vm({option:e,isActive:n,shapeType:"symbols"},r))}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function A7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A7(Object(n),!0).forEach(function(r){Yc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gq(r.key),r)}}function S2e(t,e,n){return e&&E7(t.prototype,e),n&&E7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T2e(t,e,n){return e=hv(e),C2e(t,mq()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function C2e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2e(t)}function I2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mq=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function N2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function Yc(t,e,n){return e=gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gq(t){var e=R2e(t,"string");return vh(e)=="symbol"?e:e+""}function R2e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lx=(function(t){function e(){var n;E2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=T2e(this,e,[].concat(i)),Yc(n,"state",{isAnimationFinished:!1}),Yc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Yc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Yc(n,"id",vu("recharts-scatter-")),n}return N2e(e,t),S2e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.activeShape,d=a.activeIndex,u=ot(this.props,!1);return r.map(function(m,y){var _=d===y,I=_?c:o,D=Ro(Ro({},u),m);return le.createElement(Ht,xm({className:"recharts-scatter-symbol",key:"symbol-".concat(m==null?void 0:m.cx,"-").concat(m==null?void 0:m.cy,"-").concat(m==null?void 0:m.size,"-").concat(y)},uu(i.props,m,y),{role:"img"}),le.createElement(A2e,xm({option:I,isActive:_,key:"symbol-".concat(y)},D)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,m=i.animationId,y=this.state.prevPoints;return le.createElement(so,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var I=_.t,D=a.map(function(M,R){var j=y&&y[R];if(j){var B=Zn(j.cx,M.cx),U=Zn(j.cy,M.cy),$=Zn(j.size,M.size);return Ro(Ro({},M),{},{cx:B(I),cy:U(I),size:$(I)})}var H=Zn(0,M.size);return Ro(Ro({},M),{},{size:H(I)})});return le.createElement(Ht,null,r.renderSymbolsStatically(D))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!$l(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,c=i.yAxis,d=i.children,u=pa(d,Hh);return u?u.map(function(m,y){var _=m.props,I=_.direction,D=_.dataKey;return le.cloneElement(m,{key:"".concat(I,"-").concat(D,"-").concat(a[y]),data:a,xAxis:o,yAxis:c,layout:I==="x"?"vertical":"horizontal",dataPointFormatter:function(R,j){return{x:R.cx,y:R.cy,value:I==="x"?+R.node.x:+R.node.y,errorVal:er(R,j)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,c=r.lineJointType,d=ot(this.props,!1),u=ot(a,!1),m,y;if(o==="joint")m=i.map(function(U){return{x:U.cx,y:U.cy}});else if(o==="fitting"){var _=tue(i),I=_.xmin,D=_.xmax,M=_.a,R=_.b,j=function($){return M*$+R};m=[{x:I,y:j(I)},{x:D,y:j(D)}]}var B=Ro(Ro(Ro({},d),{},{fill:"none",stroke:d&&d.fill},u),{},{points:m});return le.isValidElement(a)?y=le.cloneElement(a,B):St(a)?y=a(B):y=le.createElement(tu,xm({},B,{type:c})),le.createElement(Ht,{className:"recharts-scatter-line",key:"recharts-scatter-line"},y)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,c=r.className,d=r.xAxis,u=r.yAxis,m=r.left,y=r.top,_=r.width,I=r.height,D=r.id,M=r.isAnimationActive;if(i||!a||!a.length)return null;var R=this.state.isAnimationFinished,j=jt("recharts-scatter",c),B=d&&d.allowDataOverflow,U=u&&u.allowDataOverflow,$=B||U,H=Ct(D)?this.id:D;return le.createElement(Ht,{className:j,clipPath:$?"url(#clipPath-".concat(H,")"):null},B||U?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(H)},le.createElement("rect",{x:B?m:m-_/2,y:U?y:y-I/2,width:B?_:_*2,height:U?I:I*2}))):null,o&&this.renderLine(),this.renderErrorBar(),le.createElement(Ht,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!M||R)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(ne.PureComponent);Yc(Lx,"displayName","Scatter");Yc(Lx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yc(Lx,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,c=t.yAxisTicks,d=t.offset,u=i.props.tooltipType,m=pa(i.props.children,Uh),y=Ct(e.dataKey)?i.props.dataKey:e.dataKey,_=Ct(n.dataKey)?i.props.dataKey:n.dataKey,I=r&&r.dataKey,D=r?r.range:kx.defaultProps.range,M=D&&D[0],R=e.scale.bandwidth?e.scale.bandwidth():0,j=n.scale.bandwidth?n.scale.bandwidth():0,B=a.map(function(U,$){var H=er(U,y),G=er(U,_),L=!Ct(I)&&er(U,I)||"-",V=[{name:Ct(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:H,payload:U,dataKey:y,type:u},{name:Ct(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:G,payload:U,dataKey:_,type:u}];L!=="-"&&V.push({name:r.name||r.dataKey,unit:r.unit||"",value:L,payload:U,dataKey:I,type:u});var F=nh({axis:e,ticks:o,bandSize:R,entry:U,index:$,dataKey:y}),ee=nh({axis:n,ticks:c,bandSize:j,entry:U,index:$,dataKey:_}),K=L!=="-"?r.scale(L):M,Q=Math.sqrt(Math.max(K,0)/Math.PI);return Ro(Ro({},U),{},{cx:F,cy:ee,x:F-Q,y:ee-Q,xAxis:e,yAxis:n,zAxis:r,width:2*Q,height:2*Q,size:K,node:{x:H,y:G,z:L},tooltipPayload:V,tooltipPosition:{x:F,y:ee},payload:U},m&&m[$]&&m[$].props)});return Ro({points:B},d)});function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function O2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xq(r.key),r)}}function P2e(t,e,n){return e&&M2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D2e(t,e,n){return e=pv(e),k2e(t,yq()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function k2e(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L2e(t)}function L2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function j2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function vq(t,e,n){return e=xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xq(t){var e=B2e(t,"string");return xh(e)=="symbol"?e:e+""}function B2e(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mC.apply(this,arguments)}function U2e(t){var e=t.xAxisId,n=UN(),r=FN(),i=YH(e);return i==null?null:le.createElement(Wh,mC({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Nl(o,!0)}}))}var da=(function(t){function e(){return O2e(this,e),D2e(this,e,arguments)}return j2e(e,t),P2e(e,[{key:"render",value:function(){return le.createElement(U2e,this.props)}}])})(le.Component);vq(da,"displayName","XAxis");vq(da,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function F2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_q(r.key),r)}}function z2e(t,e,n){return e&&V2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H2e(t,e,n){return e=mv(e),q2e(t,bq()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function q2e(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G2e(t)}function G2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function $2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gC(t,e)}function wq(t,e,n){return e=_q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=W2e(t,"string");return bh(e)=="symbol"?e:e+""}function W2e(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(this,arguments)}var Y2e=function(e){var n=e.yAxisId,r=UN(),i=FN(),a=KH(n);return a==null?null:le.createElement(Wh,yC({},a,{className:jt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return Nl(c,!0)}}))},Ma=(function(t){function e(){return F2e(this,e),H2e(this,e,arguments)}return $2e(e,t),z2e(e,[{key:"render",value:function(){return le.createElement(Y2e,this.props)}}])})(le.Component);wq(Ma,"displayName","YAxis");wq(Ma,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function S7(t){return J2e(t)||Q2e(t)||X2e(t)||K2e()}function K2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X2e(t,e){if(t){if(typeof t=="string")return vC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(t,e)}}function Q2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J2e(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xC=function(e,n,r,i,a){var o=pa(e,Ld),c=pa(e,Mx),d=[].concat(S7(o),S7(c)),u=pa(e,Dx),m="".concat(i,"Id"),y=i[0],_=n;if(d.length&&(_=d.reduce(function(M,R){if(R.props[m]===r&&Bs(R.props,"extendDomain")&&Xe(R.props[y])){var j=R.props[y];return[Math.min(M[0],j),Math.max(M[1],j)]}return M},_)),u.length){var I="".concat(y,"1"),D="".concat(y,"2");_=u.reduce(function(M,R){if(R.props[m]===r&&Bs(R.props,"extendDomain")&&Xe(R.props[I])&&Xe(R.props[D])){var j=R.props[I],B=R.props[D];return[Math.min(M[0],j,B),Math.max(M[1],j,B)]}return M},_)}return a&&a.length&&(_=a.reduce(function(M,R){return Xe(R)?[Math.min(M[0],R),Math.max(M[1],R)]:M},_)),_},YE={exports:{}},T7;function Z2e(){return T7||(T7=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,u,m){this.fn=d,this.context=u,this.once=m||!1}function a(d,u,m,y,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var I=new i(m,y||d,_),D=n?n+u:u;return d._events[D]?d._events[D].fn?d._events[D]=[d._events[D],I]:d._events[D].push(I):(d._events[D]=I,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new r:delete d._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],m,y;if(this._eventsCount===0)return u;for(y in m=this._events)e.call(m,y)&&u.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},c.prototype.listeners=function(u){var m=n?n+u:u,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,I=y.length,D=new Array(I);_<I;_++)D[_]=y[_].fn;return D},c.prototype.listenerCount=function(u){var m=n?n+u:u,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(u,m,y,_,I,D){var M=n?n+u:u;if(!this._events[M])return!1;var R=this._events[M],j=arguments.length,B,U;if(R.fn){switch(R.once&&this.removeListener(u,R.fn,void 0,!0),j){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,m),!0;case 3:return R.fn.call(R.context,m,y),!0;case 4:return R.fn.call(R.context,m,y,_),!0;case 5:return R.fn.call(R.context,m,y,_,I),!0;case 6:return R.fn.call(R.context,m,y,_,I,D),!0}for(U=1,B=new Array(j-1);U<j;U++)B[U-1]=arguments[U];R.fn.apply(R.context,B)}else{var $=R.length,H;for(U=0;U<$;U++)switch(R[U].once&&this.removeListener(u,R[U].fn,void 0,!0),j){case 1:R[U].fn.call(R[U].context);break;case 2:R[U].fn.call(R[U].context,m);break;case 3:R[U].fn.call(R[U].context,m,y);break;case 4:R[U].fn.call(R[U].context,m,y,_);break;default:if(!B)for(H=1,B=new Array(j-1);H<j;H++)B[H-1]=arguments[H];R[U].fn.apply(R[U].context,B)}}return!0},c.prototype.on=function(u,m,y){return a(this,u,m,y,!1)},c.prototype.once=function(u,m,y){return a(this,u,m,y,!0)},c.prototype.removeListener=function(u,m,y,_){var I=n?n+u:u;if(!this._events[I])return this;if(!m)return o(this,I),this;var D=this._events[I];if(D.fn)D.fn===m&&(!_||D.once)&&(!y||D.context===y)&&o(this,I);else{for(var M=0,R=[],j=D.length;M<j;M++)(D[M].fn!==m||_&&!D[M].once||y&&D[M].context!==y)&&R.push(D[M]);R.length?this._events[I]=R.length===1?R[0]:R:o(this,I)}return this},c.prototype.removeAllListeners=function(u){var m;return u?(m=n?n+u:u,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(YE)),YE.exports}var eEe=Z2e();const tEe=En(eEe);var KE=new tEe,XE="recharts.syncMouseEvents";function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function nEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aq(r.key),r)}}function iEe(t,e,n){return e&&rEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QE(t,e,n){return e=Aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aq(t){var e=aEe(t,"string");return p0(e)=="symbol"?e:e+""}function aEe(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oEe=(function(){function t(){nEe(this,t),QE(this,"activeIndex",0),QE(this,"coordinateList",[]),QE(this,"layout","horizontal")}return iEe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,c=o===void 0?null:o,d=n.layout,u=d===void 0?null:d,m=n.offset,y=m===void 0?null:m,_=n.mouseHandlerCallback,I=_===void 0?null:_;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=y??this.offset,this.mouseHandlerCallback=I??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=a+d+u,_=o+this.offset.top+c/2+m;this.mouseHandlerCallback({pageX:y,pageY:_})}}}])})();function sEe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Xe(r)&&Xe(i))return!0}return!1}function lEe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Eq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Pn(e,n,r,i),c=Pn(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function cEe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,u=e.innerRadius,m=e.outerRadius,y=e.angle,_=Pn(c,d,u,y),I=Pn(c,d,m,y);r=_.x,i=_.y,a=I.x,o=I.y}else return Eq(e);return[{x:r,y:i},{x:a,y:o}]}function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function C7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(n),!0).forEach(function(r){uEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uEe(t,e,n){return e=fEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fEe(t){var e=dEe(t,"string");return m0(e)=="symbol"?e:e+""}function dEe(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hEe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,u=t.activeTooltipIndex,m=t.tooltipAxisBandSize,y=t.layout,_=t.chartName,I=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!I||!a||!o||_!=="ScatterChart"&&i!=="axis")return null;var D,M=tu;if(_==="ScatterChart")D=o,M=kxe;else if(_==="BarChart")D=lEe(y,o,d,m),M=kN;else if(y==="radial"){var R=Eq(o),j=R.cx,B=R.cy,U=R.radius,$=R.startAngle,H=R.endAngle;D={cx:j,cy:B,startAngle:$,endAngle:H,innerRadius:U,outerRadius:U},M=pH}else D={points:cEe(y,o,d)},M=tu;var G=xy(xy(xy(xy({stroke:"#ccc",pointerEvents:"none"},d),D),ot(I,!1)),{},{payload:c,payloadIndex:u,className:jt("recharts-tooltip-cursor",I.className)});return ne.isValidElement(I)?ne.cloneElement(I,G):ne.createElement(M,G)}var pEe=["item"],mEe=["children","className","width","height","style","compact","title","desc"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function I7(t,e){return vEe(t)||yEe(t,e)||Tq(t,e)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(m){u=!0,i=m}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function vEe(t){if(Array.isArray(t))return t}function N7(t,e){if(t==null)return{};var n=xEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cq(r.key),r)}}function _Ee(t,e,n){return e&&wEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AEe(t,e,n){return e=gv(e),EEe(t,Sq()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function EEe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(t)}function SEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sq=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function TEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bC(t,e)}function bC(t,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bC(t,e)}function _h(t){return NEe(t)||IEe(t)||Tq(t)||CEe()}function CEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function IEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NEe(t){if(Array.isArray(t))return wC(t)}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(n),!0).forEach(function(r){Pt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pt(t,e,n){return e=Cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cq(t){var e=REe(t,"string");return wh(e)=="symbol"?e:e+""}function REe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OEe={xAxis:["bottom","top"],yAxis:["left","right"]},MEe={width:"100%",height:"100%"},Iq={x:0,y:0};function by(t){return t}var PEe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},DEe=function(e,n,r,i){var a=n.find(function(m){return m&&m.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,c=i.radius;return De(De(De({},i),Pn(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=a.coordinate,u=i.angle;return De(De(De({},i),Pn(i.cx,i.cy,d,u)),{},{angle:u,radius:d})}return Iq},jx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(c,d){var u=d.props.data;return u&&u.length?[].concat(_h(c),_h(u)):c},[]);return o.length>0?o:e&&e.length&&Xe(i)&&Xe(a)?e.slice(i,a+1):[]};function Nq(t){return t==="number"?[0,"auto"]:void 0}var _C=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,c=jx(n,e);return r<0||!a||!a.length||r>=c.length?null:a.reduce(function(d,u){var m,y=(m=u.props.data)!==null&&m!==void 0?m:n;y&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(y=y.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(o.dataKey&&!o.allowDuplicatedCategory){var I=y===void 0?c:y;_=h1(I,o.dataKey,i)}else _=y&&y[r]||c[r];return _?[].concat(_h(d),[oH(u,_)]):d},[])},O7=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=PEe(a,r),c=e.orderedTooltipTicks,d=e.tooltipAxis,u=e.tooltipTicks,m=oye(o,c,u,d);if(m>=0&&u){var y=u[m]&&u[m].value,_=_C(e,n,m,y),I=DEe(r,c,m,a);return{activeTooltipIndex:m,activeLabel:y,activePayload:_,activeCoordinate:I}}return null},kEe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,m=e.layout,y=e.children,_=e.stackOffset,I=eH(m,a);return r.reduce(function(D,M){var R,j=M.type.defaultProps!==void 0?De(De({},M.type.defaultProps),M.props):M.props,B=j.type,U=j.dataKey,$=j.allowDataOverflow,H=j.allowDuplicatedCategory,G=j.scale,L=j.ticks,V=j.includeHidden,F=j[o];if(D[F])return D;var ee=jx(e.data,{graphicalItems:i.filter(function(pe){var Te,Me=o in pe.props?pe.props[o]:(Te=pe.type.defaultProps)===null||Te===void 0?void 0:Te[o];return Me===F}),dataStartIndex:d,dataEndIndex:u}),K=ee.length,Q,X,ge;sEe(j.domain,$,B)&&(Q=MT(j.domain,null,$),I&&(B==="number"||G!=="auto")&&(ge=hm(ee,U,"category")));var oe=Nq(B);if(!Q||Q.length===0){var ie,fe=(ie=j.domain)!==null&&ie!==void 0?ie:oe;if(U){if(Q=hm(ee,U,B),B==="category"&&I){var Ae=eue(Q);H&&Ae?(X=Q,Q=ev(0,K)):H||(Q=EL(fe,Q,M).reduce(function(pe,Te){return pe.indexOf(Te)>=0?pe:[].concat(_h(pe),[Te])},[]))}else if(B==="category")H?Q=Q.filter(function(pe){return pe!==""&&!Ct(pe)}):Q=EL(fe,Q,M).reduce(function(pe,Te){return pe.indexOf(Te)>=0||Te===""||Ct(Te)?pe:[].concat(_h(pe),[Te])},[]);else if(B==="number"){var Oe=fye(ee,i.filter(function(pe){var Te,Me,Ze=o in pe.props?pe.props[o]:(Te=pe.type.defaultProps)===null||Te===void 0?void 0:Te[o],Be="hide"in pe.props?pe.props.hide:(Me=pe.type.defaultProps)===null||Me===void 0?void 0:Me.hide;return Ze===F&&(V||!Be)}),U,a,m);Oe&&(Q=Oe)}I&&(B==="number"||G!=="auto")&&(ge=hm(ee,U,"category"))}else I?Q=ev(0,K):c&&c[F]&&c[F].hasStack&&B==="number"?Q=_==="expand"?[0,1]:aH(c[F].stackGroups,d,u):Q=Zz(ee,i.filter(function(pe){var Te=o in pe.props?pe.props[o]:pe.type.defaultProps[o],Me="hide"in pe.props?pe.props.hide:pe.type.defaultProps.hide;return Te===F&&(V||!Me)}),B,m,!0);if(B==="number")Q=xC(y,Q,F,a,L),fe&&(Q=MT(fe,Q,$));else if(B==="category"&&fe){var qe=fe,ue=Q.every(function(pe){return qe.indexOf(pe)>=0});ue&&(Q=qe)}}return De(De({},D),{},Pt({},F,De(De({},j),{},{axisType:a,domain:Q,categoricalDomain:ge,duplicateDomain:X,originalDomain:(R=j.domain)!==null&&R!==void 0?R:oe,isCategorical:I,layout:m})))},{})},LEe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,m=e.layout,y=e.children,_=jx(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:u}),I=_.length,D=eH(m,a),M=-1;return r.reduce(function(R,j){var B=j.type.defaultProps!==void 0?De(De({},j.type.defaultProps),j.props):j.props,U=B[o],$=Nq("number");if(!R[U]){M++;var H;return D?H=ev(0,I):c&&c[U]&&c[U].hasStack?(H=aH(c[U].stackGroups,d,u),H=xC(y,H,U,a)):(H=MT($,Zz(_,r.filter(function(G){var L,V,F=o in G.props?G.props[o]:(L=G.type.defaultProps)===null||L===void 0?void 0:L[o],ee="hide"in G.props?G.props.hide:(V=G.type.defaultProps)===null||V===void 0?void 0:V.hide;return F===U&&!ee}),"number",m),i.defaultProps.allowDataOverflow),H=xC(y,H,U,a)),De(De({},R),{},Pt({},U,De(De({axisType:a},i.defaultProps),{},{hide:!0,orientation:oo(OEe,"".concat(a,".").concat(M%2),null),domain:H,originalDomain:$,isCategorical:D,layout:m})))}return R},{})},jEe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,d=n.dataStartIndex,u=n.dataEndIndex,m=e.children,y="".concat(i,"Id"),_=pa(m,a),I={};return _&&_.length?I=kEe(e,{axes:_,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(I=LEe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:c,dataStartIndex:d,dataEndIndex:u})),I},BEe=function(e){var n=Hc(e),r=Nl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:B1(n,r)}},M7=function(e){var n=e.children,r=e.defaultShowTooltip,i=eo(n,ch),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},UEe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Pl(n&&n.type);return r&&r.indexOf("Bar")>=0})},P7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FEe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,u=r.width,m=r.height,y=r.children,_=r.margin||{},I=eo(y,ch),D=eo(y,Dl),M=Object.keys(d).reduce(function(H,G){var L=d[G],V=L.orientation;return!L.mirror&&!L.hide?De(De({},H),{},Pt({},V,H[V]+L.width)):H},{left:_.left||0,right:_.right||0}),R=Object.keys(o).reduce(function(H,G){var L=o[G],V=L.orientation;return!L.mirror&&!L.hide?De(De({},H),{},Pt({},V,oo(H,"".concat(V))+L.height)):H},{top:_.top||0,bottom:_.bottom||0}),j=De(De({},R),M),B=j.bottom;I&&(j.bottom+=I.props.height||ch.defaultProps.height),D&&n&&(j=cye(j,i,r,n));var U=u-j.left-j.right,$=m-j.top-j.bottom;return De(De({brushBottom:B},j),{},{width:Math.max(U,0),height:Math.max($,0)})},VEe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Yh=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,u=e.legendContent,m=e.formatAxisMap,y=e.defaultProps,_=function(j,B){var U=B.graphicalItems,$=B.stackGroups,H=B.offset,G=B.updateId,L=B.dataStartIndex,V=B.dataEndIndex,F=j.barSize,ee=j.layout,K=j.barGap,Q=j.barCategoryGap,X=j.maxBarSize,ge=P7(ee),oe=ge.numericAxisName,ie=ge.cateAxisName,fe=UEe(U),Ae=[];return U.forEach(function(Oe,qe){var ue=jx(j.data,{graphicalItems:[Oe],dataStartIndex:L,dataEndIndex:V}),pe=Oe.type.defaultProps!==void 0?De(De({},Oe.type.defaultProps),Oe.props):Oe.props,Te=pe.dataKey,Me=pe.maxBarSize,Ze=pe["".concat(oe,"Id")],Be=pe["".concat(ie,"Id")],Rt={},vt=d.reduce(function($e,or){var nr=B["".concat(or.axisType,"Map")],cn=pe["".concat(or.axisType,"Id")];nr&&nr[cn]||or.axisType==="zAxis"||bf();var Hn=nr[cn];return De(De({},$e),{},Pt(Pt({},or.axisType,Hn),"".concat(or.axisType,"Ticks"),Nl(Hn)))},Rt),He=vt[ie],mt=vt["".concat(ie,"Ticks")],lt=$&&$[Ze]&&$[Ze].hasStack&&bye(Oe,$[Ze].stackGroups),Ue=Pl(Oe.type).indexOf("Bar")>=0,ct=B1(He,mt),bt=[],dt=fe&&sye({barSize:F,stackGroups:$,totalSize:VEe(vt,ie)});if(Ue){var rt,gt,wt=Ct(Me)?X:Me,et=(rt=(gt=B1(He,mt,!0))!==null&&gt!==void 0?gt:wt)!==null&&rt!==void 0?rt:0;bt=lye({barGap:K,barCategoryGap:Q,bandSize:et!==ct?et:ct,sizeList:dt[Be],maxBarSize:wt}),et!==ct&&(bt=bt.map(function($e){return De(De({},$e),{},{position:De(De({},$e.position),{},{offset:$e.position.offset-et/2})})}))}var qt=Oe&&Oe.type&&Oe.type.getComposedData;qt&&Ae.push({props:De(De({},qt(De(De({},vt),{},{displayedData:ue,props:j,dataKey:Te,item:Oe,bandSize:ct,barPosition:bt,offset:H,stackedData:lt,layout:ee,dataStartIndex:L,dataEndIndex:V}))),{},Pt(Pt(Pt({key:Oe.key||"item-".concat(qe)},oe,vt[oe]),ie,vt[ie]),"animationId",G)),childIndex:due(Oe,j.children),item:Oe})}),Ae},I=function(j,B){var U=j.props,$=j.dataStartIndex,H=j.dataEndIndex,G=j.updateId;if(!Uk({props:U}))return null;var L=U.children,V=U.layout,F=U.stackOffset,ee=U.data,K=U.reverseStackOrder,Q=P7(V),X=Q.numericAxisName,ge=Q.cateAxisName,oe=pa(L,r),ie=vye(ee,oe,"".concat(X,"Id"),"".concat(ge,"Id"),F,K),fe=d.reduce(function(pe,Te){var Me="".concat(Te.axisType,"Map");return De(De({},pe),{},Pt({},Me,jEe(U,De(De({},Te),{},{graphicalItems:oe,stackGroups:Te.axisType===X&&ie,dataStartIndex:$,dataEndIndex:H}))))},{}),Ae=FEe(De(De({},fe),{},{props:U,graphicalItems:oe}),B==null?void 0:B.legendBBox);Object.keys(fe).forEach(function(pe){fe[pe]=m(U,fe[pe],Ae,pe.replace("Map",""),n)});var Oe=fe["".concat(ge,"Map")],qe=BEe(Oe),ue=_(U,De(De({},fe),{},{dataStartIndex:$,dataEndIndex:H,updateId:G,graphicalItems:oe,stackGroups:ie,offset:Ae}));return De(De({formattedGraphicalItems:ue,graphicalItems:oe,offset:Ae,stackGroups:ie},qe),fe)},D=(function(R){function j(B){var U,$,H;return bEe(this,j),H=AEe(this,j,[B]),Pt(H,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pt(H,"accessibilityManager",new oEe),Pt(H,"handleLegendBBoxUpdate",function(G){if(G){var L=H.state,V=L.dataStartIndex,F=L.dataEndIndex,ee=L.updateId;H.setState(De({legendBBox:G},I({props:H.props,dataStartIndex:V,dataEndIndex:F,updateId:ee},De(De({},H.state),{},{legendBBox:G}))))}}),Pt(H,"handleReceiveSyncEvent",function(G,L,V){if(H.props.syncId===G){if(V===H.eventEmitterSymbol&&typeof H.props.syncMethod!="function")return;H.applySyncEvent(L)}}),Pt(H,"handleBrushChange",function(G){var L=G.startIndex,V=G.endIndex;if(L!==H.state.dataStartIndex||V!==H.state.dataEndIndex){var F=H.state.updateId;H.setState(function(){return De({dataStartIndex:L,dataEndIndex:V},I({props:H.props,dataStartIndex:L,dataEndIndex:V,updateId:F},H.state))}),H.triggerSyncEvent({dataStartIndex:L,dataEndIndex:V})}}),Pt(H,"handleMouseEnter",function(G){var L=H.getMouseInfo(G);if(L){var V=De(De({},L),{},{isTooltipActive:!0});H.setState(V),H.triggerSyncEvent(V);var F=H.props.onMouseEnter;St(F)&&F(V,G)}}),Pt(H,"triggeredAfterMouseMove",function(G){var L=H.getMouseInfo(G),V=L?De(De({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};H.setState(V),H.triggerSyncEvent(V);var F=H.props.onMouseMove;St(F)&&F(V,G)}),Pt(H,"handleItemMouseEnter",function(G){H.setState(function(){return{isTooltipActive:!0,activeItem:G,activePayload:G.tooltipPayload,activeCoordinate:G.tooltipPosition||{x:G.cx,y:G.cy}}})}),Pt(H,"handleItemMouseLeave",function(){H.setState(function(){return{isTooltipActive:!1}})}),Pt(H,"handleMouseMove",function(G){G.persist(),H.throttleTriggeredAfterMouseMove(G)}),Pt(H,"handleMouseLeave",function(G){H.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};H.setState(L),H.triggerSyncEvent(L);var V=H.props.onMouseLeave;St(V)&&V(L,G)}),Pt(H,"handleOuterEvent",function(G){var L=fue(G),V=oo(H.props,"".concat(L));if(L&&St(V)){var F,ee;/.*touch.*/i.test(L)?ee=H.getMouseInfo(G.changedTouches[0]):ee=H.getMouseInfo(G),V((F=ee)!==null&&F!==void 0?F:{},G)}}),Pt(H,"handleClick",function(G){var L=H.getMouseInfo(G);if(L){var V=De(De({},L),{},{isTooltipActive:!0});H.setState(V),H.triggerSyncEvent(V);var F=H.props.onClick;St(F)&&F(V,G)}}),Pt(H,"handleMouseDown",function(G){var L=H.props.onMouseDown;if(St(L)){var V=H.getMouseInfo(G);L(V,G)}}),Pt(H,"handleMouseUp",function(G){var L=H.props.onMouseUp;if(St(L)){var V=H.getMouseInfo(G);L(V,G)}}),Pt(H,"handleTouchMove",function(G){G.changedTouches!=null&&G.changedTouches.length>0&&H.throttleTriggeredAfterMouseMove(G.changedTouches[0])}),Pt(H,"handleTouchStart",function(G){G.changedTouches!=null&&G.changedTouches.length>0&&H.handleMouseDown(G.changedTouches[0])}),Pt(H,"handleTouchEnd",function(G){G.changedTouches!=null&&G.changedTouches.length>0&&H.handleMouseUp(G.changedTouches[0])}),Pt(H,"handleDoubleClick",function(G){var L=H.props.onDoubleClick;if(St(L)){var V=H.getMouseInfo(G);L(V,G)}}),Pt(H,"handleContextMenu",function(G){var L=H.props.onContextMenu;if(St(L)){var V=H.getMouseInfo(G);L(V,G)}}),Pt(H,"triggerSyncEvent",function(G){H.props.syncId!==void 0&&KE.emit(XE,H.props.syncId,G,H.eventEmitterSymbol)}),Pt(H,"applySyncEvent",function(G){var L=H.props,V=L.layout,F=L.syncMethod,ee=H.state.updateId,K=G.dataStartIndex,Q=G.dataEndIndex;if(G.dataStartIndex!==void 0||G.dataEndIndex!==void 0)H.setState(De({dataStartIndex:K,dataEndIndex:Q},I({props:H.props,dataStartIndex:K,dataEndIndex:Q,updateId:ee},H.state)));else if(G.activeTooltipIndex!==void 0){var X=G.chartX,ge=G.chartY,oe=G.activeTooltipIndex,ie=H.state,fe=ie.offset,Ae=ie.tooltipTicks;if(!fe)return;if(typeof F=="function")oe=F(Ae,G);else if(F==="value"){oe=-1;for(var Oe=0;Oe<Ae.length;Oe++)if(Ae[Oe].value===G.activeLabel){oe=Oe;break}}var qe=De(De({},fe),{},{x:fe.left,y:fe.top}),ue=Math.min(X,qe.x+qe.width),pe=Math.min(ge,qe.y+qe.height),Te=Ae[oe]&&Ae[oe].value,Me=_C(H.state,H.props.data,oe),Ze=Ae[oe]?{x:V==="horizontal"?Ae[oe].coordinate:ue,y:V==="horizontal"?pe:Ae[oe].coordinate}:Iq;H.setState(De(De({},G),{},{activeLabel:Te,activeCoordinate:Ze,activePayload:Me,activeTooltipIndex:oe}))}else H.setState(G)}),Pt(H,"renderCursor",function(G){var L,V=H.state,F=V.isTooltipActive,ee=V.activeCoordinate,K=V.activePayload,Q=V.offset,X=V.activeTooltipIndex,ge=V.tooltipAxisBandSize,oe=H.getTooltipEventType(),ie=(L=G.props.active)!==null&&L!==void 0?L:F,fe=H.props.layout,Ae=G.key||"_recharts-cursor";return le.createElement(hEe,{key:Ae,activeCoordinate:ee,activePayload:K,activeTooltipIndex:X,chartName:n,element:G,isActive:ie,layout:fe,offset:Q,tooltipAxisBandSize:ge,tooltipEventType:oe})}),Pt(H,"renderPolarAxis",function(G,L,V){var F=oo(G,"type.axisType"),ee=oo(H.state,"".concat(F,"Map")),K=G.type.defaultProps,Q=K!==void 0?De(De({},K),G.props):G.props,X=ee&&ee[Q["".concat(F,"Id")]];return ne.cloneElement(G,De(De({},X),{},{className:jt(F,X.className),key:G.key||"".concat(L,"-").concat(V),ticks:Nl(X,!0)}))}),Pt(H,"renderPolarGrid",function(G){var L=G.props,V=L.radialLines,F=L.polarAngles,ee=L.polarRadius,K=H.state,Q=K.radiusAxisMap,X=K.angleAxisMap,ge=Hc(Q),oe=Hc(X),ie=oe.cx,fe=oe.cy,Ae=oe.innerRadius,Oe=oe.outerRadius;return ne.cloneElement(G,{polarAngles:Array.isArray(F)?F:Nl(oe,!0).map(function(qe){return qe.coordinate}),polarRadius:Array.isArray(ee)?ee:Nl(ge,!0).map(function(qe){return qe.coordinate}),cx:ie,cy:fe,innerRadius:Ae,outerRadius:Oe,key:G.key||"polar-grid",radialLines:V})}),Pt(H,"renderLegend",function(){var G=H.state.formattedGraphicalItems,L=H.props,V=L.children,F=L.width,ee=L.height,K=H.props.margin||{},Q=F-(K.left||0)-(K.right||0),X=Qz({children:V,formattedGraphicalItems:G,legendWidth:Q,legendContent:u});if(!X)return null;var ge=X.item,oe=N7(X,pEe);return ne.cloneElement(ge,De(De({},oe),{},{chartWidth:F,chartHeight:ee,margin:K,onBBoxUpdate:H.handleLegendBBoxUpdate}))}),Pt(H,"renderTooltip",function(){var G,L=H.props,V=L.children,F=L.accessibilityLayer,ee=eo(V,Kr);if(!ee)return null;var K=H.state,Q=K.isTooltipActive,X=K.activeCoordinate,ge=K.activePayload,oe=K.activeLabel,ie=K.offset,fe=(G=ee.props.active)!==null&&G!==void 0?G:Q;return ne.cloneElement(ee,{viewBox:De(De({},ie),{},{x:ie.left,y:ie.top}),active:fe,label:oe,payload:fe?ge:[],coordinate:X,accessibilityLayer:F})}),Pt(H,"renderBrush",function(G){var L=H.props,V=L.margin,F=L.data,ee=H.state,K=ee.offset,Q=ee.dataStartIndex,X=ee.dataEndIndex,ge=ee.updateId;return ne.cloneElement(G,{key:G.key||"_recharts-brush",onChange:my(H.handleBrushChange,G.props.onChange),data:F,x:Xe(G.props.x)?G.props.x:K.left,y:Xe(G.props.y)?G.props.y:K.top+K.height+K.brushBottom-(V.bottom||0),width:Xe(G.props.width)?G.props.width:K.width,startIndex:Q,endIndex:X,updateId:"brush-".concat(ge)})}),Pt(H,"renderReferenceElement",function(G,L,V){if(!G)return null;var F=H,ee=F.clipPathId,K=H.state,Q=K.xAxisMap,X=K.yAxisMap,ge=K.offset,oe=G.type.defaultProps||{},ie=G.props,fe=ie.xAxisId,Ae=fe===void 0?oe.xAxisId:fe,Oe=ie.yAxisId,qe=Oe===void 0?oe.yAxisId:Oe;return ne.cloneElement(G,{key:G.key||"".concat(L,"-").concat(V),xAxis:Q[Ae],yAxis:X[qe],viewBox:{x:ge.left,y:ge.top,width:ge.width,height:ge.height},clipPathId:ee})}),Pt(H,"renderActivePoints",function(G){var L=G.item,V=G.activePoint,F=G.basePoint,ee=G.childIndex,K=G.isRange,Q=[],X=L.props.key,ge=L.item.type.defaultProps!==void 0?De(De({},L.item.type.defaultProps),L.item.props):L.item.props,oe=ge.activeDot,ie=ge.dataKey,fe=De(De({index:ee,dataKey:ie,cx:V.x,cy:V.y,r:4,fill:PN(L.item),strokeWidth:2,stroke:"#fff",payload:V.payload,value:V.value},ot(oe,!1)),p1(oe));return Q.push(j.renderActiveDot(oe,fe,"".concat(X,"-activePoint-").concat(ee))),F?Q.push(j.renderActiveDot(oe,De(De({},fe),{},{cx:F.x,cy:F.y}),"".concat(X,"-basePoint-").concat(ee))):K&&Q.push(null),Q}),Pt(H,"renderGraphicChild",function(G,L,V){var F=H.filterFormatItem(G,L,V);if(!F)return null;var ee=H.getTooltipEventType(),K=H.state,Q=K.isTooltipActive,X=K.tooltipAxis,ge=K.activeTooltipIndex,oe=K.activeLabel,ie=H.props.children,fe=eo(ie,Kr),Ae=F.props,Oe=Ae.points,qe=Ae.isRange,ue=Ae.baseLine,pe=F.item.type.defaultProps!==void 0?De(De({},F.item.type.defaultProps),F.item.props):F.item.props,Te=pe.activeDot,Me=pe.hide,Ze=pe.activeBar,Be=pe.activeShape,Rt=!!(!Me&&Q&&fe&&(Te||Ze||Be)),vt={};ee!=="axis"&&fe&&fe.props.trigger==="click"?vt={onClick:my(H.handleItemMouseEnter,G.props.onClick)}:ee!=="axis"&&(vt={onMouseLeave:my(H.handleItemMouseLeave,G.props.onMouseLeave),onMouseEnter:my(H.handleItemMouseEnter,G.props.onMouseEnter)});var He=ne.cloneElement(G,De(De({},F.props),vt));function mt(or){return typeof X.dataKey=="function"?X.dataKey(or.payload):null}if(Rt)if(ge>=0){var lt,Ue;if(X.dataKey&&!X.allowDuplicatedCategory){var ct=typeof X.dataKey=="function"?mt:"payload.".concat(X.dataKey.toString());lt=h1(Oe,ct,oe),Ue=qe&&ue&&h1(ue,ct,oe)}else lt=Oe==null?void 0:Oe[ge],Ue=qe&&ue&&ue[ge];if(Be||Ze){var bt=G.props.activeIndex!==void 0?G.props.activeIndex:ge;return[ne.cloneElement(G,De(De(De({},F.props),vt),{},{activeIndex:bt})),null,null]}if(!Ct(lt))return[He].concat(_h(H.renderActivePoints({item:F,activePoint:lt,basePoint:Ue,childIndex:ge,isRange:qe})))}else{var dt,rt=(dt=H.getItemByXY(H.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:He},gt=rt.graphicalItem,wt=gt.item,et=wt===void 0?G:wt,qt=gt.childIndex,$e=De(De(De({},F.props),vt),{},{activeIndex:qt});return[ne.cloneElement(et,$e),null,null]}return qe?[He,null,null]:[He,null]}),Pt(H,"renderCustomized",function(G,L,V){return ne.cloneElement(G,De(De({key:"recharts-customized-".concat(V)},H.props),H.state))}),Pt(H,"renderMap",{CartesianGrid:{handler:by,once:!0},ReferenceArea:{handler:H.renderReferenceElement},ReferenceLine:{handler:by},ReferenceDot:{handler:H.renderReferenceElement},XAxis:{handler:by},YAxis:{handler:by},Brush:{handler:H.renderBrush,once:!0},Bar:{handler:H.renderGraphicChild},Line:{handler:H.renderGraphicChild},Area:{handler:H.renderGraphicChild},Radar:{handler:H.renderGraphicChild},RadialBar:{handler:H.renderGraphicChild},Scatter:{handler:H.renderGraphicChild},Pie:{handler:H.renderGraphicChild},Funnel:{handler:H.renderGraphicChild},Tooltip:{handler:H.renderCursor,once:!0},PolarGrid:{handler:H.renderPolarGrid,once:!0},PolarAngleAxis:{handler:H.renderPolarAxis},PolarRadiusAxis:{handler:H.renderPolarAxis},Customized:{handler:H.renderCustomized}}),H.clipPathId="".concat((U=B.id)!==null&&U!==void 0?U:vu("recharts"),"-clip"),H.throttleTriggeredAfterMouseMove=XV(H.triggeredAfterMouseMove,($=B.throttleDelay)!==null&&$!==void 0?$:1e3/60),H.state={},H}return TEe(j,R),_Ee(j,[{key:"componentDidMount",value:function(){var U,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(U=this.props.margin.left)!==null&&U!==void 0?U:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var U=this.props,$=U.children,H=U.data,G=U.height,L=U.layout,V=eo($,Kr);if(V){var F=V.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var ee=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,K=_C(this.state,H,F,ee),Q=this.state.tooltipTicks[F].coordinate,X=(this.state.offset.top+G)/2,ge=L==="horizontal",oe=ge?{x:Q,y:X}:{y:Q,x:X},ie=this.state.formattedGraphicalItems.find(function(Ae){var Oe=Ae.item;return Oe.type.name==="Scatter"});ie&&(oe=De(De({},oe),ie.props.points[F].tooltipPosition),K=ie.props.points[F].tooltipPayload);var fe={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:ee,activePayload:K,activeCoordinate:oe};this.setState(fe),this.renderCursor(V),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(U,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==U.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==U.margin){var H,G;this.accessibilityManager.setDetails({offset:{left:(H=this.props.margin.left)!==null&&H!==void 0?H:0,top:(G=this.props.margin.top)!==null&&G!==void 0?G:0}})}return null}},{key:"componentDidUpdate",value:function(U){eT([eo(U.children,Kr)],[eo(this.props.children,Kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var U=eo(this.props.children,Kr);if(U&&typeof U.props.shared=="boolean"){var $=U.props.shared?"axis":"item";return c.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(U){if(!this.container)return null;var $=this.container,H=$.getBoundingClientRect(),G=Jhe(H),L={chartX:Math.round(U.pageX-G.left),chartY:Math.round(U.pageY-G.top)},V=H.width/$.offsetWidth||1,F=this.inRange(L.chartX,L.chartY,V);if(!F)return null;var ee=this.state,K=ee.xAxisMap,Q=ee.yAxisMap,X=this.getTooltipEventType();if(X!=="axis"&&K&&Q){var ge=Hc(K).scale,oe=Hc(Q).scale,ie=ge&&ge.invert?ge.invert(L.chartX):null,fe=oe&&oe.invert?oe.invert(L.chartY):null;return De(De({},L),{},{xValue:ie,yValue:fe})}var Ae=O7(this.state,this.props.data,this.props.layout,F);return Ae?De(De({},L),Ae):null}},{key:"inRange",value:function(U,$){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,G=this.props.layout,L=U/H,V=$/H;if(G==="horizontal"||G==="vertical"){var F=this.state.offset,ee=L>=F.left&&L<=F.left+F.width&&V>=F.top&&V<=F.top+F.height;return ee?{x:L,y:V}:null}var K=this.state,Q=K.angleAxisMap,X=K.radiusAxisMap;if(Q&&X){var ge=Hc(Q);return CL({x:L,y:V},ge)}return null}},{key:"parseEventsOfWrapper",value:function(){var U=this.props.children,$=this.getTooltipEventType(),H=eo(U,Kr),G={};H&&$==="axis"&&(H.props.trigger==="click"?G={onClick:this.handleClick}:G={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=p1(this.props,this.handleOuterEvent);return De(De({},L),G)}},{key:"addListener",value:function(){KE.on(XE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){KE.removeListener(XE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(U,$,H){for(var G=this.state.formattedGraphicalItems,L=0,V=G.length;L<V;L++){var F=G[L];if(F.item===U||F.props.key===U.key||$===Pl(F.item.type)&&H===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var U=this.clipPathId,$=this.state.offset,H=$.left,G=$.top,L=$.height,V=$.width;return le.createElement("defs",null,le.createElement("clipPath",{id:U},le.createElement("rect",{x:H,y:G,height:L,width:V})))}},{key:"getXScales",value:function(){var U=this.state.xAxisMap;return U?Object.entries(U).reduce(function($,H){var G=I7(H,2),L=G[0],V=G[1];return De(De({},$),{},Pt({},L,V.scale))},{}):null}},{key:"getYScales",value:function(){var U=this.state.yAxisMap;return U?Object.entries(U).reduce(function($,H){var G=I7(H,2),L=G[0],V=G[1];return De(De({},$),{},Pt({},L,V.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(U){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[U])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(U){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[U])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(U){var $=this.state,H=$.formattedGraphicalItems,G=$.activeItem;if(H&&H.length)for(var L=0,V=H.length;L<V;L++){var F=H[L],ee=F.props,K=F.item,Q=K.type.defaultProps!==void 0?De(De({},K.type.defaultProps),K.props):K.props,X=Pl(K.type);if(X==="Bar"){var ge=(ee.data||[]).find(function(Ae){return gxe(U,Ae)});if(ge)return{graphicalItem:F,payload:ge}}else if(X==="RadialBar"){var oe=(ee.data||[]).find(function(Ae){return CL(U,Ae)});if(oe)return{graphicalItem:F,payload:oe}}else if(Cx(F,G)||Ix(F,G)||c0(F,G)){var ie=Kbe({graphicalItem:F,activeTooltipItem:G,itemData:Q.data}),fe=Q.activeIndex===void 0?ie:Q.activeIndex;return{graphicalItem:De(De({},F),{},{childIndex:fe}),payload:c0(F,G)?Q.data[ie]:F.props.data[ie]}}}return null}},{key:"render",value:function(){var U=this;if(!Uk(this))return null;var $=this.props,H=$.children,G=$.className,L=$.width,V=$.height,F=$.style,ee=$.compact,K=$.title,Q=$.desc,X=N7($,mEe),ge=ot(X,!1);if(ee)return le.createElement(a7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(nT,Sd({},ge,{width:L,height:V,title:K,desc:Q}),this.renderClipPath(),Vk(H,this.renderMap)));if(this.props.accessibilityLayer){var oe,ie;ge.tabIndex=(oe=this.props.tabIndex)!==null&&oe!==void 0?oe:0,ge.role=(ie=this.props.role)!==null&&ie!==void 0?ie:"application",ge.onKeyDown=function(Ae){U.accessibilityManager.keyboardEvent(Ae)},ge.onFocus=function(){U.accessibilityManager.focus()}}var fe=this.parseEventsOfWrapper();return le.createElement(a7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Sd({className:jt("recharts-wrapper",G),style:De({position:"relative",cursor:"default",width:L,height:V},F)},fe,{ref:function(Oe){U.container=Oe}}),le.createElement(nT,Sd({},ge,{width:L,height:V,title:K,desc:Q,style:MEe}),this.renderClipPath(),Vk(H,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ne.Component);Pt(D,"displayName",n),Pt(D,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y)),Pt(D,"getDerivedStateFromProps",function(R,j){var B=R.dataKey,U=R.data,$=R.children,H=R.width,G=R.height,L=R.layout,V=R.stackOffset,F=R.margin,ee=j.dataStartIndex,K=j.dataEndIndex;if(j.updateId===void 0){var Q=M7(R);return De(De(De({},Q),{},{updateId:0},I(De(De({props:R},Q),{},{updateId:0}),j)),{},{prevDataKey:B,prevData:U,prevWidth:H,prevHeight:G,prevLayout:L,prevStackOffset:V,prevMargin:F,prevChildren:$})}if(B!==j.prevDataKey||U!==j.prevData||H!==j.prevWidth||G!==j.prevHeight||L!==j.prevLayout||V!==j.prevStackOffset||!Pd(F,j.prevMargin)){var X=M7(R),ge={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},oe=De(De({},O7(j,U,L)),{},{updateId:j.updateId+1}),ie=De(De(De({},X),ge),oe);return De(De(De({},ie),I(De({props:R},ie),j)),{},{prevDataKey:B,prevData:U,prevWidth:H,prevHeight:G,prevLayout:L,prevStackOffset:V,prevMargin:F,prevChildren:$})}if(!eT($,j.prevChildren)){var fe,Ae,Oe,qe,ue=eo($,ch),pe=ue&&(fe=(Ae=ue.props)===null||Ae===void 0?void 0:Ae.startIndex)!==null&&fe!==void 0?fe:ee,Te=ue&&(Oe=(qe=ue.props)===null||qe===void 0?void 0:qe.endIndex)!==null&&Oe!==void 0?Oe:K,Me=pe!==ee||Te!==K,Ze=!Ct(U),Be=Ze&&!Me?j.updateId:j.updateId+1;return De(De({updateId:Be},I(De(De({props:R},j),{},{updateId:Be,dataStartIndex:pe,dataEndIndex:Te}),j)),{},{prevChildren:$,dataStartIndex:pe,dataEndIndex:Te})}return null}),Pt(D,"renderActiveDot",function(R,j,B){var U;return ne.isValidElement(R)?U=ne.cloneElement(R,j):St(R)?U=R(j):U=le.createElement(qh,j),le.createElement(Ht,{className:"recharts-active-dot",key:B},U)});var M=ne.forwardRef(function(j,B){return le.createElement(D,Sd({},j,{ref:B}))});return M.displayName=D.displayName,M},Rq=Yh({chartName:"LineChart",GraphicalChild:Yl,axisComponents:[{axisType:"xAxis",AxisComp:da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Rx}),Oq=Yh({chartName:"BarChart",GraphicalChild:rc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Rx}),zEe=Yh({chartName:"PieChart",GraphicalChild:nc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$h},{axisType:"radiusAxis",AxisComp:Gh}],formatAxisMap:cH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),HEe=Yh({chartName:"RadarChart",GraphicalChild:z0,axisComponents:[{axisType:"angleAxis",AxisComp:$h},{axisType:"radiusAxis",AxisComp:Gh}],formatAxisMap:cH,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),yv=Yh({chartName:"AreaChart",GraphicalChild:Oa,axisComponents:[{axisType:"xAxis",AxisComp:da},{axisType:"yAxis",AxisComp:Ma}],formatAxisMap:Rx}),qEe=Yh({chartName:"ComposedChart",GraphicalChild:[Yl,Oa,rc,Lx],axisComponents:[{axisType:"xAxis",AxisComp:da},{axisType:"yAxis",AxisComp:Ma},{axisType:"zAxis",AxisComp:kx}],formatAxisMap:Rx});const GEe=({events:t,dailyAlertCount:e=0,currentFatigue:n=0,dailyAvgFatigue:r=0})=>{const{t:i}=Zr(),a=ne.useMemo(()=>{if(t.length===0)return Array.from({length:7},(u,m)=>({time:`${m+8}:00`,events:0,severity:0}));const c=new Map;t.forEach(u=>{const m=new Date(u.timestamp).getHours()+":00",y=c.get(m)||0;c.set(m,y+1)});const d=Array.from(c.entries()).sort((u,m)=>parseInt(u[0])-parseInt(m[0]));return d.length===0?[]:d.map(([u,m])=>({time:u,events:m,severity:m*20}))},[t]),o=ne.useMemo(()=>{let c="bg-slate-500";return n>=1&&n<=3?c="bg-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)]":n>=4&&n<=6?c="bg-green-500 shadow-[0_0_15px_rgba(34,197,94,0.5)]":n>=7&&n<=9&&(c="bg-red-500 shadow-[0_0_15px_rgba(239,68,68,0.5)]"),[{label:i("components.healthCharts.totalAlerts"),value:e,trend:i("components.healthCharts.today")},{label:i("components.healthCharts.fatigueDetection"),value:n,isLed:!0,ledColor:c},{label:i("components.healthCharts.avgFatigue"),value:r,trend:i("components.healthCharts.daily")}]},[t,e,n,r,i]);return b.jsxs("div",{className:"space-y-8",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((c,d)=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800 relative overflow-hidden group",children:[b.jsx("p",{className:"text-xs text-slate-500 font-medium mb-2 uppercase tracking-wider",children:c.label}),b.jsxs("div",{className:"flex items-end justify-between",children:[c.isLed?b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("h4",{className:"text-3xl font-black text-slate-200",children:[i("components.healthCharts.level")," ",c.value]}),b.jsx("div",{className:`w-6 h-6 rounded-full ${c.ledColor} animate-pulse`})]}):b.jsx("h4",{className:"text-3xl font-black text-slate-200",children:c.value}),!c.isLed&&b.jsx("span",{className:"text-[10px] font-bold px-3 py-1 bg-white/5 rounded-full text-slate-400 border border-white/5",children:c.trend})]})]},d))}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800",children:[b.jsx("h3",{className:"font-bold mb-4",children:i("components.healthCharts.wellnessTrend")}),b.jsx("div",{className:"h-[200px] w-full",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(yv,{data:a,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorEvents",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),b.jsx(Ns,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),b.jsx(da,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),b.jsx(Ma,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),b.jsx(Kr,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",background:"#1e293b",color:"#fff"},itemStyle:{color:"#fff"}}),b.jsx(Oa,{type:"monotone",dataKey:"events",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorEvents)"})]})})})]})]})},$Ee=({events:t=[]})=>{const{t:e}=Zr(),{data:n,score:r}=ne.useMemo(()=>{const i={Focus:100,Posture:100,Energy:100,Health:100,Hydration:100,Breaks:100};t.length>0&&t.forEach(d=>{const u=d.severity===$d.HIGH?20:d.severity===$d.MEDIUM?10:5;d.type===Zp.FOCUS&&(i.Focus=Math.max(0,i.Focus-u)),d.type===Zp.POSTURE&&(i.Posture=Math.max(0,i.Posture-u)),d.type===Zp.FATIGUE&&(i.Energy=Math.max(0,i.Energy-u),i.Breaks=Math.max(0,i.Breaks-u)),d.type===Zp.STRESS&&(i.Health=Math.max(0,i.Health-u),i.Focus=Math.max(0,i.Focus-u/2))});const a=Object.keys(i).map(d=>({subject:d,A:i[d],fullMark:150})),o=Object.values(i).reduce((d,u)=>d+u,0),c=Math.round(o/6);return{data:a,score:c}},[t]);return b.jsxs("div",{className:"bg-slate-900 border border-white/5 rounded-[32px] p-8 flex flex-col",children:[b.jsxs("h3",{className:"text-lg font-black uppercase mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),e("components.activityChart.title")]}),b.jsx("div",{className:"w-full h-[200px]",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(HEe,{cx:"50%",cy:"50%",outerRadius:"70%",data:n,children:[b.jsx(AH,{stroke:"#334155"}),b.jsx($h,{dataKey:"subject",tick:{fill:"#94a3b8",fontSize:12,fontWeight:"bold"}}),b.jsx(Gh,{angle:30,domain:[0,150],tick:!1,axisLine:!1}),b.jsx(z0,{name:"Current Status",dataKey:"A",stroke:"#3b82f6",strokeWidth:3,fill:"#3b82f6",fillOpacity:.3}),b.jsx(Kr,{contentStyle:{borderRadius:"12px",backgroundColor:"#0f172a",border:"1px solid rgba(255,255,255,0.1)",color:"#fff",fontSize:"12px",fontWeight:"bold"},itemStyle:{color:"#60a5fa"}})]})})}),b.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500 font-bold uppercase tracking-wider",children:[b.jsx("span",{children:e("components.activityChart.optimization")}),b.jsxs("span",{className:`text-${r>80?"emerald":r>50?"yellow":"red"}-400`,children:[r,"% ",e("components.activityChart.optimal")]})]})]})},WEe=({isADHDMode:t=!1,healthEvents:e=[],cameraRef:n,voiceEnabled:r=!1})=>{const{t:i,language:a}=Zr(),[o,c]=ne.useState(!1),[d,u]=ne.useState(""),[m,y]=ne.useState([]);ne.useEffect(()=>{y([{role:"bot",text:i("components.chatbot.initial")}])},[a]);const[_,I]=ne.useState(!1),[D,M]=ne.useState(!1),[R,j]=ne.useState(!1),[B,U]=ne.useState(!1),[$,H]=ne.useState(!1),[G,L]=ne.useState(new Array(12).fill(10)),V=ne.useRef(null);ne.useRef(null),ne.useRef(null),ne.useRef(null),ne.useRef(null);const F=ne.useRef([]),[ee,K]=ne.useState(null),Q=ne.useRef(null);ne.useEffect(()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)},[m,_]);const X=async()=>{var qe;let ie=null;if(F.current.length>0){const ue=F.current.reduce((Te,Me)=>Te+Me.length,0);ie=new Int16Array(ue);let pe=0;for(const Te of F.current)ie.set(Te,pe),pe+=Te.length;F.current=[]}if(!d.trim()&&!ie&&!ee||_)return;const fe=d.trim();let Ae;if(ie){const ue=new Uint8Array(ie.buffer);let pe="";for(let Te=0;Te<ue.byteLength;Te++)pe+=String.fromCharCode(ue[Te]);Ae=btoa(pe)}let Oe=fe;ee?Oe=Oe?`${Oe}
[Attached: ${ee.name}]`:`[Attached: ${ee.name}]`:!Oe&&Ae?Oe="Vocal stress profile captured...":Oe||(Oe="Uplinking..."),u(""),K(null),y(ue=>[...ue,{role:"user",text:Oe}]),I(!0);try{let ue="",pe=[],Te;if(Ae){const Me=((qe=n==null?void 0:n.current)==null?void 0:qe.getSnapshot())||void 0,Ze=await io.analyzeMultimodalWellness({message:fe,audioBase64:Ae,visualContext:Me||void 0,healthContext:e,history:m,isADHDMode:t});ue=Ze.reply,Te=Ze.vocalWellness}else if($){const Me=await io.getSearchGroundedInfo(fe);ue=Me.text,pe=Me.sources}else ue=await io.getWellnessChat({message:fe,useThinking:B,isADHDMode:t});y(Me=>[...Me,{role:"bot",text:ue,sources:pe,vocalWellness:Te}]),(Ae||r)&&ge(ue)}catch{y(pe=>[...pe,{role:"bot",text:"Neural uplink failed. Connection to Oracle lost."}])}finally{I(!1)}},ge=async ie=>{if(D){window.speechSynthesis.cancel(),M(!1);return}M(!0);try{await io.speak(ie)}catch(fe){console.error("Speaking failed",fe)}finally{M(!1)}},oe=ie=>{ie.target.files&&ie.target.files[0]&&K(ie.target.files[0])};return b.jsx("div",{className:"fixed bottom-10 right-10 z-50",children:o?b.jsxs("div",{className:"bg-slate-900 w-[440px] h-[680px] rounded-[40px] shadow-2xl border border-white/10 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 duration-500",children:[b.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 flex items-center justify-center backdrop-blur-md",children:b.jsx(Gp,{size:24,className:"neural-glow"})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-black text-sm tracking-widest uppercase",children:"DevWell Oracle"}),b.jsx("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-tighter",children:t?"ADHD Protocol Active":"Neural Hub Online"})]})]}),b.jsx("button",{onClick:()=>c(!1),className:"hover:bg-white/20 p-2 rounded-xl transition-colors",children:b.jsx(Fy,{size:20})})]}),b.jsxs("div",{ref:V,className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-950 scrollbar-hide",children:[m.map((ie,fe)=>b.jsx("div",{className:`flex ${ie.role==="user"?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[85%] p-5 rounded-[24px] text-sm leading-relaxed ${ie.role==="user"?"bg-blue-600 text-white rounded-tr-none shadow-lg shadow-blue-900/40":"bg-white/5 text-slate-200 border border-white/10 rounded-tl-none shadow-xl"}`,children:[b.jsx("div",{className:"whitespace-pre-wrap",children:ie.text}),ie.vocalWellness&&b.jsxs("div",{className:`mt-4 p-4 rounded-2xl border flex flex-col gap-2 ${ie.vocalWellness.stressLevel==="HIGH"?"bg-red-500/10 border-red-500/30":ie.vocalWellness.stressLevel==="MEDIUM"?"bg-orange-500/10 border-orange-500/30":"bg-emerald-500/10 border-emerald-500/30"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 font-black text-[10px] uppercase tracking-widest",children:[b.jsx(Ra,{size:12,className:ie.vocalWellness.stressLevel!=="LOW"?"text-red-400":"text-emerald-400"}),"Neural Feedback: ",ie.vocalWellness.stressLevel," Vocal Stress"]}),b.jsxs("p",{className:"text-[11px] font-bold text-slate-300 leading-tight",children:['"',ie.vocalWellness.observation,'"']}),b.jsxs("div",{className:"mt-2 p-3 bg-white/5 rounded-xl border border-white/5 text-[11px] font-black text-blue-400 uppercase tracking-tight",children:["RX: ",ie.vocalWellness.recommendation]})]}),ie.sources&&ie.sources.length>0&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-2",children:[b.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Research Grounding"}),ie.sources.map((Ae,Oe)=>b.jsxs("a",{href:Ae.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[11px] text-blue-400 hover:text-blue-300 transition-colors",children:[b.jsx(nY,{size:10}),b.jsx("span",{className:"truncate",children:Ae.title||Ae.uri})]},Oe))]}),ie.role==="bot"&&b.jsx("div",{className:"mt-4 flex justify-end gap-2",children:b.jsx("button",{onClick:()=>ge(ie.text),className:`p-2 rounded-xl transition-all ${D?"bg-blue-500 text-white animate-pulse":"bg-white/5 text-slate-400 hover:text-white"}`,children:b.jsx(SY,{size:16})})})]})},fe)),_&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"bg-white/5 p-6 rounded-[24px] border border-white/10",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex gap-1.5",children:[b.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce"}),b.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce [animation-delay:0.2s]"}),b.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}),R?b.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-red-500 uppercase tracking-widest animate-pulse",children:[b.jsx(TY,{size:14})," Synchronizing Vocal Cues..."]}):b.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest animate-pulse",children:"Consulting Neural Oracle..."})]})})})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 bg-slate-900/50 space-y-4",children:[R&&b.jsx("div",{className:"flex justify-center items-end gap-1.5 h-12",children:G.map((ie,fe)=>b.jsx("div",{className:"w-2 bg-blue-500 rounded-full transition-all duration-75",style:{height:`${ie}%`,opacity:.3+ie/100*.7}},fe))}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("button",{onClick:()=>{U(!B),H(!1)},className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${B?"bg-amber-500 text-slate-950 shadow-lg shadow-amber-500/20":"bg-white/5 text-slate-400 hover:bg-white/10"}`,children:[b.jsx(ru,{size:14,className:"inline mr-2"})," Reasoning"]}),b.jsxs("button",{onClick:()=>{H(!$),U(!1)},className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${$?"bg-emerald-500 text-slate-950 shadow-lg shadow-emerald-500/20":"bg-white/5 text-slate-400 hover:bg-white/10"}`,children:[b.jsx(xY,{size:14,className:"inline mr-2"})," Research"]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("input",{type:"file",ref:Q,className:"hidden",onChange:oe}),b.jsxs("div",{className:"relative flex-1",children:[ee&&b.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-full flex items-center justify-between bg-white/10 p-2 px-3 rounded-xl border border-white/5 animate-in slide-in-from-bottom-2 backdrop-blur-md",children:[b.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[b.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-500/20 flex items-center justify-center",children:b.jsx("span",{className:"text-[9px] font-bold text-blue-400 uppercase",children:ee.name.split(".").pop()})}),b.jsx("span",{className:"text-[10px] text-white truncate max-w-[140px]",children:ee.name})]}),b.jsx("button",{onClick:()=>K(null),className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:b.jsx(Fy,{size:12,className:"text-slate-400"})})]}),b.jsx("input",{value:d,onChange:ie=>u(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&X(),placeholder:"Message the Oracle...",className:"w-full bg-white/5 border-none rounded-2xl pl-6 pr-12 py-4 text-sm focus:ring-2 focus:ring-blue-500 transition-all text-white placeholder-slate-600"}),b.jsx("button",{onClick:()=>{var ie;return(ie=Q.current)==null?void 0:ie.click()},className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white p-2 rounded-xl hover:bg-white/10 transition-all",title:"Upload file",children:b.jsx(hO,{size:20})})]}),b.jsx("button",{onClick:X,disabled:_||!d.trim()&&!R&&F.current.length===0&&!ee,className:"bg-blue-600 text-white p-4 rounded-2xl hover:bg-blue-700 transition-all disabled:opacity-30 shadow-xl shadow-blue-600/30",children:b.jsx(Tj,{size:22})})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("input",{type:"file",accept:"audio/*",onChange:oe,ref:Q,className:"hidden"}),b.jsxs("button",{onClick:()=>{var ie;return(ie=Q.current)==null?void 0:ie.click()},className:"w-full py-3 rounded-2xl bg-white/5 text-slate-400 hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[b.jsx(hO,{size:16}),b.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Upload Audio File"})]})]})]})]}):b.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white p-6 rounded-[32px] shadow-2xl hover:scale-110 active:scale-95 transition-all shadow-blue-600/40 relative group",children:[b.jsx(Ev,{size:32}),b.jsx("div",{className:"absolute right-full mr-6 bg-white text-slate-950 text-[10px] font-black px-4 py-2 rounded-xl whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity uppercase tracking-widest pointer-events-none shadow-2xl",children:"Vocal Stress Analysis Ready"})]})})},YEe=()=>{const{t}=Zr(),[e,n]=ne.useState(0),[r,i]=ne.useState(""),[a,o]=ne.useState(!1),[c,d]=ne.useState(0),u=async m=>{m.preventDefault();const y=Lt.currentUser;await Lt.saveFeedback(y?y.uid:null,e,r),o(!0),n(0),i(""),setTimeout(()=>o(!1),5e3)};return b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800",children:[b.jsx("h3",{className:"font-bold mb-4",children:t("feedback.title")}),a?b.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center animate-in zoom-in-95 duration-300",children:[b.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-4",children:b.jsx(JW,{size:24})}),b.jsx("p",{className:"font-bold text-sm",children:t("feedback.thankYou")}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t("feedback.helpImprove")})]}):b.jsxs("form",{onSubmit:u,className:"space-y-4",children:[b.jsx("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4,5].map(m=>b.jsx("button",{type:"button",onClick:()=>n(m),onMouseEnter:()=>d(m),onMouseLeave:()=>d(0),className:"transition-transform active:scale-90",children:b.jsx(Uy,{size:24,className:`${(c||e)>=m?"fill-yellow-400 text-yellow-400":"text-slate-300"} transition-colors`})},m))}),b.jsx("textarea",{placeholder:t("feedback.placeholder"),value:r,onChange:m=>i(m.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl p-3 text-xs min-h-[80px] focus:ring-2 focus:ring-blue-500"}),b.jsx("button",{type:"submit",disabled:e===0,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white py-3 rounded-2xl text-xs font-bold hover:opacity-90 transition-opacity disabled:opacity-50",children:t("feedback.submit")})]})]})},KEe=({data:t})=>{const e=t.map(n=>({time:new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),level:n.level,originalTimestamp:n.timestamp}));return b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800",children:[b.jsx("h3",{className:"font-bold mb-4",children:"Fatigue Levels (1-9)"}),b.jsx("div",{className:"h-[200px] w-full",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(Rq,{data:e,children:[b.jsx(Ns,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.1}),b.jsx(da,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),b.jsx(Ma,{domain:[0,10],axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},ticks:[1,3,6,9]}),b.jsx(Kr,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",background:"#1e293b",color:"#fff"}}),b.jsx(Ld,{y:3,stroke:"#3b82f6",strokeDasharray:"3 3",opacity:.3}),b.jsx(Ld,{y:6,stroke:"#22c55e",strokeDasharray:"3 3",opacity:.3}),b.jsx(Ld,{y:9,stroke:"#ef4444",strokeDasharray:"3 3",opacity:.3}),b.jsx(Yl,{type:"monotone",dataKey:"level",stroke:"#6366f1",strokeWidth:3,dot:{fill:"#6366f1",strokeWidth:2,r:4},activeDot:{r:6,fill:"#fff"}})]})})})]})},XEe=({data:t})=>{const e=ne.useRef(null);ne.useEffect(()=>{e.current&&(e.current.scrollLeft=e.current.scrollWidth)},[t]);const i=Math.max(800,t.length*60);return b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800",children:[b.jsx("h3",{className:"font-bold mb-4",children:"Continuous Improvement Process"}),b.jsx("div",{ref:e,className:"w-full overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:b.jsx("div",{style:{width:`${i}px`,height:"250px"},children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(qEe,{data:t,margin:{top:5,right:20,left:10,bottom:5},children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorProd",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),b.jsx(Ns,{strokeDasharray:"3 3",vertical:!0,stroke:"#334155",opacity:.2}),b.jsx(da,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},interval:"preserveStartEnd",padding:{left:20,right:20}}),b.jsx(Ma,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#10b981"},domain:[0,100],label:{value:"Productivity",angle:-90,position:"insideLeft",fill:"#10b981",fontSize:10}}),b.jsx(Ma,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#ef4444"},domain:[0,10],label:{value:"Avg Fatigue",angle:90,position:"insideRight",fill:"#ef4444",fontSize:10}}),b.jsx(Kr,{contentStyle:{borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",background:"#0f172a",color:"#fff"},labelStyle:{color:"#94a3b8",fontSize:"12px",marginBottom:"8px"}}),b.jsx(Dl,{verticalAlign:"top",height:36,iconType:"circle"}),b.jsx(Oa,{yAxisId:"left",type:"monotone",dataKey:"productivityScore",name:"Productivity Index",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorProd)"}),b.jsx(Yl,{yAxisId:"right",type:"monotone",dataKey:"avgFatigue",name:"Avg Fatigue",stroke:"#ef4444",strokeWidth:2,dot:!1,strokeDasharray:"5 5"})]})})})}),b.jsx("p",{className:"text-[10px] text-slate-500 mt-4 text-center uppercase tracking-widest",children:"Timeline Data from initial synchronization"})]})},QEe=({data:t})=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-200 dark:border-slate-800 h-full",children:[b.jsx("h3",{className:"font-bold mb-4",children:"Weekly Activity"}),b.jsx("div",{className:"h-[200px] w-full",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(Oq,{data:t,children:[b.jsx(Ns,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.1}),b.jsx(da,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),b.jsx(Ma,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),b.jsx(Kr,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",background:"#1e293b",color:"#fff"}}),b.jsx(rc,{dataKey:"activity",radius:[4,4,0,0],children:t.map((e,n)=>b.jsx(Uh,{fill:n===t.length-1?"#3b82f6":"#334155"},`cell-${n}`))})]})})})]}),JEe=()=>{const[t,e]=ne.useState("idle"),[n,r]=ne.useState(0),[i,a]=ne.useState(0),[o,c]=ne.useState(0),[d,u]=ne.useState(0),[m,y]=ne.useState(0),[_,I]=ne.useState(0),[D,M]=ne.useState("#3b82f6"),R=()=>{e("ping"),I(0),r(0),a(0),c(0),u(0),y(0),M("#06b6d4"),setTimeout(()=>{r(Math.floor(Math.random()*25)+8),a(Math.floor(Math.random()*5)+1),e("download"),M("#06b6d4")},1500)};ne.useEffect(()=>{if(t==="download"){M("#06b6d4");const U=150+Math.random()*50;let $=0;const H=setInterval(()=>{$+=(U-$)*.1+(Math.random()*5-2.5),$<0&&($=0),y($),_<100&&I(G=>G+1)},50);setTimeout(()=>{clearInterval(H),c($),y(0),I(0),e("upload")},5e3)}if(t==="upload"){M("#a855f7");const U=50+Math.random()*20;let $=0;const H=setInterval(()=>{$+=(U-$)*.1+(Math.random()*2-1),$<0&&($=0),y($),_<100&&I(G=>G+1.5)},50);setTimeout(()=>{clearInterval(H),u($),y(0),I(100),e("complete"),M("#3b82f6")},4e3)}},[t]);const B=565-565*(m/(t==="upload"?100:300));return b.jsxs("div",{className:"rounded-[24px] p-4 border border-white/5 relative overflow-hidden h-full flex flex-col bg-slate-900/50",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("div",{className:"flex items-center gap-1 mb-0.5 text-cyan-400",children:[b.jsx(GW,{size:10}),b.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:"Down"})]}),b.jsx("div",{className:"text-2xl font-black text-white tracking-tighter",children:o>0?o.toFixed(1):t==="download"?m.toFixed(1):""})]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("div",{className:"flex items-center gap-1 mb-0.5 text-purple-400",children:[b.jsx(WW,{size:10}),b.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:"Up"})]}),b.jsx("div",{className:"text-2xl font-black text-white tracking-tighter",children:d>0?d.toFixed(1):t==="upload"?m.toFixed(1):""})]})]}),b.jsx("div",{className:"flex items-center justify-between px-1 mb-2",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase block",children:"Ping"}),b.jsxs("span",{className:"text-xs font-black text-white flex items-center gap-1",children:[n>0?n:"-"," ",b.jsx(Ra,{size:8,className:"text-yellow-500"})]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase block",children:"Jitter"}),b.jsxs("span",{className:"text-xs font-black text-white flex items-center gap-1",children:[i>0?i:"-"," ",b.jsx(Af,{size:8,className:"text-cyan-500"})]})]})]})}),b.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-[160px]",children:b.jsxs("div",{className:"relative w-40 h-40",children:[b.jsxs("svg",{className:"w-full h-full transform -rotate-[120deg]",viewBox:"0 0 256 256",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),b.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]}),b.jsxs("linearGradient",{id:"purpleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),b.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]})]}),b.jsx("path",{d:"M 50,206 A 110,110 0 1,1 206,206",fill:"none",stroke:"#1e293b",strokeWidth:"20",strokeLinecap:"round"}),b.jsx("path",{d:"M 50,206 A 110,110 0 1,1 206,206",fill:"none",stroke:`url(#${t==="upload"?"purpleGradient":"gaugeGradient"})`,strokeWidth:"20",strokeLinecap:"round",strokeDasharray:"565",strokeDashoffset:B,className:"transition-all duration-100 ease-linear",style:{filter:`drop-shadow(0 0 10px ${D}80)`}})]}),b.jsx("div",{className:"absolute inset-0 w-full h-full",style:{transform:"rotate(-30deg)"},children:[0,10,50,100,250,500].map((U,$)=>{const H=$/5*240-120;return b.jsx("div",{className:"absolute top-1/2 left-1/2 w-full text-center",style:{transform:`translate(-50%, -50%) rotate(${H}deg) translate(0, -90px) rotate(${-H+30}deg)`},children:b.jsx("span",{className:"text-[10px] font-bold text-slate-600",children:U})},U)})}),b.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pt-6",children:t==="idle"?b.jsx("button",{onClick:R,className:"w-12 h-12 rounded-full bg-transparent border-2 border-cyan-500 text-cyan-400 font-black text-xs uppercase tracking-widest hover:bg-cyan-500 hover:text-white hover:scale-110 active:scale-95 transition-all flex items-center justify-center shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:"GO"}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-2xl font-black text-white tracking-tighter tabular-nums leading-none",children:m.toFixed(0)}),b.jsx("div",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest mt-0.5",children:t==="download"?"Down":"Up"})]})})]})}),t==="complete"&&b.jsx("div",{className:"absolute bottom-8 right-8",children:b.jsx("button",{onClick:R,className:"p-4 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 active:scale-95 transition-all",children:b.jsx(Ey,{size:20,className:"text-cyan-400"})})})]})},ZEe=({data:t})=>{const{t:e}=Zr(),n=[{time:"09:00",focus:0,distraction:0},{time:"10:00",focus:0,distraction:0},{time:"11:00",focus:0,distraction:0},{time:"12:00",focus:0,distraction:0},{time:"13:00",focus:0,distraction:0},{time:"14:00",focus:0,distraction:0},{time:"15:00",focus:0,distraction:0}],r=t&&t.length>0?t:n;return b.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/5 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white mb-1",children:e("components.focusTrend.title")}),b.jsx("p",{className:"text-xs text-slate-400",children:e("components.focusTrend.subtitle")})]}),b.jsx("div",{className:"bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20 text-emerald-400 text-[10px] font-black uppercase tracking-widest",children:e("components.focusTrend.live")})]}),b.jsx("div",{className:"h-[200px] w-full",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(yv,{data:r,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorFocus",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),b.jsx(Ns,{strokeDasharray:"3 3",vertical:!1,stroke:"#ffffff10"}),b.jsx(da,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10,fontWeight:700},dy:10}),b.jsx(Ma,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10,fontWeight:700}}),b.jsx(Kr,{contentStyle:{backgroundColor:"#0f172a",borderRadius:"12px",border:"1px solid #1e293b"},itemStyle:{color:"#e2e8f0",fontSize:"12px",fontWeight:"bold"},cursor:{stroke:"#ffffff20"}}),b.jsx(Oa,{type:"monotone",dataKey:"focus",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorFocus)"})]})})})]})},eSe=({data:t})=>{const{t:e}=Zr(),n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=["Morning","Noon","Afternoon","Evening","Night"],a=t||[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],o=c=>{switch(c){case 0:return"bg-emerald-500/20 text-emerald-500 border-emerald-500/20";case 1:return"bg-amber-500/20 text-amber-500 border-amber-500/20";case 2:return"bg-red-500/20 text-red-500 border-red-500/20";default:return"bg-slate-800"}};return b.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/5 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-white mb-1",children:e("components.stressHeatmap.title")}),b.jsx("p",{className:"text-xs text-slate-400",children:e("components.stressHeatmap.subtitle")})]}),b.jsx("div",{className:"bg-indigo-500/10 px-3 py-1 rounded-full border border-indigo-500/20 text-indigo-400 text-[10px] font-black uppercase tracking-widest",children:e("components.stressHeatmap.proInsights")})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("div",{className:"min-w-[300px] grid grid-cols-6 gap-2",children:[b.jsx("div",{className:"col-span-1"}),r.map((c,d)=>b.jsx("div",{className:"text-[10px] font-black uppercase text-slate-500 text-center tracking-widest",children:c.slice(0,3)},d)),n.map((c,d)=>b.jsxs(le.Fragment,{children:[b.jsx("div",{className:"text-[10px] font-bold text-slate-400 self-center uppercase tracking-wider",children:c}),r.map((u,m)=>{const y=a[d][m];return b.jsx("div",{className:`h-8 rounded-lg border flex items-center justify-center transition-all hover:scale-105 cursor-default ${o(y)}`,children:b.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${y===0?"bg-emerald-500":y===1?"bg-amber-500":"bg-red-500"}`})},m)})]},d))]})})]})},tSe=()=>{const t=Fo(),e=si(),{t:n,dir:r}=Zr(),[i,a]=ne.useState([]),[o,c]=ne.useState(!1),[d,u]=ne.useState(!1),[m,y]=ne.useState(!1),[_,I]=ne.useState("free"),[D,M]=ne.useState(100),[R,j]=ne.useState(50),[B,U]=ne.useState(null),[$,H]=ne.useState(null),[G,L]=ne.useState(!1),[V,F]=ne.useState(null),[ee,K]=ne.useState(null),[Q,X]=ne.useState(!1),ge=ne.useRef(null),[oe,ie]=ne.useState(0),[fe,Ae]=ne.useState([]),[Oe,qe]=ne.useState([]),[ue,pe]=ne.useState(0),[Te,Me]=ne.useState(0),[Ze,Be]=ne.useState([]),[Rt,vt]=ne.useState([]),He=le.useMemo(()=>{const dt=new Date;dt.setHours(0,0,0,0);const rt=i.filter($e=>$e.timestamp>=dt.getTime());if(rt.length===0)return;const gt=new Map;rt.forEach($e=>{const or=new Date($e.timestamp).getHours(),nr=gt.get(or)||[];gt.set(or,[...nr,$e])});const wt=[],et=new Date().getHours(),qt=Math.max(9,et-6);for(let $e=qt;$e<=et;$e++){const or=gt.get($e)||[];let nr=90-($e-9)*2,cn=10;or.forEach(Hn=>{Hn.type==="FATIGUE"&&(nr-=Hn.severity==="HIGH"?25:10),Hn.type==="STRESS"&&(nr-=Hn.severity==="HIGH"?30:15),Hn.type==="FOCUS"&&(nr+=Hn.severity==="HIGH"?20:10)}),nr=Math.max(10,Math.min(100,nr)),cn=100-nr,wt.push({time:`${$e}:00`,focus:nr,distraction:cn})}return wt},[i]),mt=le.useMemo(()=>{if(i.length===0)return;const dt=Array(7).fill(0).map(()=>Array(5).fill(0));return Array(7).fill(0).map(()=>Array(5).fill(0)),i.forEach(rt=>{const gt=new Date(rt.timestamp);let wt=gt.getDay()-1;wt<0&&(wt=6);const et=gt.getHours();let qt=4;et>=6&&et<11?qt=0:et>=11&&et<14?qt=1:et>=14&&et<18?qt=2:et>=18&&et<22&&(qt=3);let $e=0;rt.type==="STRESS"?$e=rt.severity==="HIGH"?3:2:rt.type==="FATIGUE"&&($e=rt.severity==="HIGH"?2:1),dt[wt][qt]+=$e}),dt.map(rt=>rt.map(gt=>gt===0?0:gt<5?1:2))},[i]);ne.useEffect(()=>{const dt=Lt.onAuthChange(async rt=>{if(rt){K(rt);const[gt,wt,et,qt,$e,or,nr]=await Promise.all([Lt.getHealthEvents(rt.uid),Lt.getUserSubscription(rt.uid),Lt.get24HourAlerts(rt.uid),Lt.getFatigueReadings(rt.uid),Lt.getHourlyFatigueAverage(rt.uid),Lt.get7DayActivity(rt.uid),Lt.getProgressData(rt.uid)]);if(a(gt),ie(et),Ae(qt),qe($e),Be(or),vt(nr),qt.length>0&&(Me(qt[qt.length-1].level),$e.length>0)){const Hn=$e.reduce((hr,Da)=>hr+Da.avgFatigue,0)/$e.length;pe(Math.round(Hn*10)/10)}const cn=Math.max(0,100-gt.reduce((Hn,hr)=>Hn+(hr.severity===$d.HIGH?10:4),0));M(cn),I(wt)}else t("/login")});return()=>dt()},[t]);const lt=async dt=>{if(!ee)return;if(await Lt.saveHealthEvent(ee.uid,dt),dt.type==="FATIGUE"){const gt=dt.fatigueLevel||0;Me(gt),Ae(wt=>[...wt,{timestamp:Date.now(),level:gt}]),ie(wt=>wt+1)}const rt=await Lt.getHealthEvents(ee.uid);a(rt),M(gt=>dt.severity===$d.HIGH?Math.max(0,gt-10):Math.max(0,gt-4))},Ue=async()=>{if(_==="free"){t("/pricing");return}if(!(i.length<2)){L(!0);try{const[dt,rt]=await Promise.all([io.getPredictiveForecast(i),io.generateBioBlueprint(i)]);dt&&U(dt),rt&&H(rt)}finally{L(!1)}}},ct=async()=>{if(_==="free"){t("/pricing");return}L(!0);const dt=await io.generateWellnessVideo("Calm forest with a stream, soft lighting, 4k");F(dt),L(!1)},bt=async()=>{if(!ee)return;const dt=_==="pro"?"free":"pro";I(dt);try{await Lt.toggleTier(ee.uid,dt)}catch{I(_),console.error("Failed to toggle tier")}};return b.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-950 text-slate-100 relative",children:[Q&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>X(!1)}),b.jsxs("aside",{className:`w-72 glass-card border-r border-white/5 flex flex-col z-50 fixed inset-y-0 left-0 lg:static transition-transform duration-300 ${Q?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[b.jsxs("div",{className:"p-8 flex items-center justify-between",children:[b.jsxs(Mn,{to:"/",className:"flex items-center gap-4 font-black text-2xl text-blue-500 tracking-tighter",children:[b.jsx(Ra,{size:32,className:"neural-glow"}),b.jsx("span",{children:"DEVWELL"})]}),b.jsx("button",{onClick:()=>X(!1),className:"lg:hidden p-2 text-slate-400 hover:text-white",children:b.jsx(Fy,{size:24})})]}),b.jsxs("nav",{className:"flex-1 px-8 space-y-3",children:[b.jsxs("button",{onClick:()=>t("/dashboard"),className:`w-full flex items-center gap-3 px-6 py-5 rounded-[24px] text-sm font-black transition-all ${e.pathname==="/dashboard"?"bg-blue-600 shadow-2xl shadow-blue-600/30":"text-slate-500 hover:bg-white/5"}`,children:[b.jsx(sY,{size:20})," ",n("dashboard")]}),b.jsxs("button",{onClick:()=>t("/dashboard/settings"),className:"w-full flex items-center gap-3 px-6 py-5 rounded-[24px] text-sm font-black text-slate-500 hover:bg-white/5 transition-all",children:[b.jsx(wY,{size:20})," ",n("settings")]}),b.jsxs("button",{onClick:()=>t("/pricing",{state:{from:"dashboard"}}),className:"w-full flex items-center gap-3 px-6 py-5 rounded-[24px] text-sm font-black text-blue-500 hover:bg-blue-500/10 transition-all",children:[b.jsx(Uy,{size:20,fill:_==="pro"?"currentColor":"none"})," ",_==="pro"?"MANAGE PRO":n("upgradeToPro")]}),b.jsxs("button",{onClick:()=>t("/docs",{state:{from:"dashboard"}}),className:"w-full flex items-center gap-3 px-6 py-5 rounded-[24px] text-sm font-black text-slate-500 hover:bg-white/5 transition-all",children:[b.jsx(Af,{size:20})," ",n("howItWorks")]}),b.jsx("div",{className:"px-2 pt-4",children:b.jsx("div",{className:"h-[280px]",children:b.jsx(JEe,{})})})]}),b.jsx("div",{className:"p-8",children:b.jsxs("div",{className:`p-6 rounded-[32px] shadow-2xl relative overflow-hidden group ${_==="pro"?"bg-gradient-to-br from-blue-600 to-indigo-700":"bg-slate-900 border border-white/5"}`,children:[b.jsx(im,{className:"absolute -top-2 -right-2 text-white/10 group-hover:scale-150 transition-transform duration-1000",size:80}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest mb-1",children:n("status")}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h4",{className:"text-xl font-black text-white uppercase",children:_==="pro"?"Zen Pro":"Free Tier"}),b.jsx("button",{onClick:dt=>{dt.preventDefault(),dt.stopPropagation(),bt()},className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors cursor-pointer hover:scale-110 active:scale-95",title:`Switch to ${_==="pro"?"Free":"Pro"} View`,children:b.jsx(Ey,{size:14,className:"text-white"})})]}),_==="free"&&b.jsx("button",{onClick:()=>t("/pricing"),className:"w-full py-3 bg-blue-600 rounded-xl text-[10px] font-black uppercase hover:bg-blue-700 transition-colors",children:n("unlockOracle")})]})]})})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto relative scrollbar-hide w-full",dir:r,children:[b.jsxs("header",{className:"sticky top-0 z-20 bg-slate-950/80 backdrop-blur-3xl border-b border-white/5 px-6 py-6 lg:px-12 lg:py-8 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>X(!0),className:"lg:hidden text-slate-400 hover:text-white transition-colors",children:b.jsx(Ej,{size:24})}),b.jsx("h2",{className:"text-2xl lg:text-3xl font-black tracking-tighter",children:n("neuralHub")})]}),b.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[b.jsxs("button",{onClick:()=>y(!m),className:`px-3 py-2 lg:px-4 lg:py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border ${m?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-600/20":"bg-slate-900 border-white/10 text-slate-500 hover:text-white"}`,children:[b.jsxs("span",{className:"hidden sm:inline",children:[n("voice")," "]}),n(m?"on":"off")]}),b.jsxs("button",{onClick:()=>u(!d),className:`px-3 py-2 lg:px-4 lg:py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border ${d?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-600/20":"bg-slate-900 border-white/10 text-slate-500 hover:text-white"}`,children:[b.jsxs("span",{className:"hidden sm:inline",children:[n("adhdMode")," "]}),n(d?"on":"off")]}),_==="pro"&&b.jsxs("div",{className:"hidden xl:flex bg-amber-500/10 text-amber-500 px-4 py-2 rounded-xl text-[10px] font-black uppercase border border-amber-500/20 items-center gap-2",children:[b.jsx(Uy,{size:12,fill:"currentColor"})," ",n("proEngineActive")]}),b.jsxs("div",{className:"bg-slate-900 border border-white/5 rounded-2xl px-3 py-2 lg:px-6 lg:py-3 flex items-center gap-3",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${o?"bg-green-500 animate-pulse":"bg-slate-600"}`}),b.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden sm:inline",children:n(o?"flowSynchronized":"sensorsIdle")})]})]})]}),b.jsxs("div",{className:"p-6 lg:p-12 max-w-[1400px] mx-auto space-y-8 lg:space-y-12",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-10",children:[b.jsx("div",{className:"lg:col-span-4 space-y-6",children:b.jsxs("div",{className:"glass-card rounded-[32px] lg:rounded-[48px] p-6 lg:p-10 flex flex-col items-center justify-center text-center relative",children:[b.jsxs("div",{className:"relative w-40 h-40 lg:w-48 lg:h-48 mb-6",children:[b.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[b.jsx("circle",{cx:"96",cy:"96",r:"84",stroke:"currentColor",strokeWidth:"16",fill:"transparent",className:"text-slate-900"}),b.jsx("circle",{cx:"96",cy:"96",r:"84",stroke:"currentColor",strokeWidth:"16",fill:"transparent",strokeDasharray:527,strokeDashoffset:527-527*D/100,className:"text-blue-500 transition-all duration-1000",strokeLinecap:"round"})]}),b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[b.jsxs("span",{className:"text-5xl font-black",children:[Math.round(D),"%"]}),b.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:n("wellnessScore")})]})]}),b.jsxs("button",{onClick:Ue,className:"w-full flex items-center justify-center gap-3 bg-white text-slate-950 py-5 rounded-[24px] text-xs font-black uppercase hover:scale-[1.02] transition-all relative group overflow-hidden",children:[G?b.jsx(Ey,{className:"animate-spin",size:16}):_==="free"?b.jsx(ns,{size:16}):b.jsx(ru,{size:16}),n(_==="free"?"unlockOracle":"summonOracle")]})]})}),b.jsx("div",{className:"lg:col-span-8",children:b.jsx(dce,{ref:ge,onEventDetected:lt,isMonitoring:o,setIsMonitoring:c})})]}),_==="pro"&&b.jsxs("div",{className:"glass-card rounded-[48px] p-12 border border-blue-500/20 bg-gradient-to-br from-blue-600/5 to-transparent",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(fS,{className:"text-blue-500"}),b.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Neural Meditation Engine (Veo)"})]}),b.jsxs("button",{onClick:ct,disabled:G,className:"bg-blue-600 px-6 py-3 rounded-2xl text-xs font-black uppercase flex items-center gap-2 hover:bg-blue-700 transition-all",children:[G?b.jsx(Ey,{size:14,className:"animate-spin"}):b.jsx(mY,{size:14,fill:"currentColor"}),"Generate Deep Session"]})]}),V?b.jsx("div",{className:"aspect-video rounded-[32px] overflow-hidden border border-white/10 shadow-2xl",children:b.jsx("video",{src:V,controls:!0,autoPlay:!0,className:"w-full h-full object-cover"})}):b.jsxs("div",{className:"aspect-video rounded-[32px] bg-slate-900/50 flex flex-col items-center justify-center text-slate-500 border border-white/5 border-dashed",children:[b.jsx(fS,{size:48,className:"mb-4 opacity-20"}),b.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:"Awaiting Neural Prompt..."})]})]}),(B||$)&&b.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 animate-in slide-in-from-bottom-10 duration-700",children:[B&&b.jsxs("div",{className:"glass-card rounded-[40px] p-10 border-l-4 border-l-blue-500 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsx("h3",{className:"text-xl font-black uppercase",children:"Burnout Forecast"}),b.jsxs("div",{className:"px-4 py-2 rounded-xl text-[10px] font-black uppercase bg-blue-500/10 text-blue-400 border border-blue-500/30",children:["Risk: ",B.riskScore,"%"]})]}),b.jsxs("p",{className:"text-xs text-slate-400 italic mb-6",children:['"',B.reasoning,'"']}),b.jsxs("div",{className:"bg-blue-600/10 p-6 rounded-3xl border border-blue-500/20",children:[b.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase mb-2",children:"Pro Action Plan"}),b.jsx("p",{className:"text-xs font-bold",children:B.actionPlan})]})]}),$&&b.jsxs("div",{className:"glass-card rounded-[40px] p-10 border-l-4 border-l-indigo-500 flex flex-col",children:[b.jsx("h3",{className:"text-xl font-black uppercase mb-8",children:"Bio-Blueprint"}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase mb-4",children:"Prime Window"}),b.jsx("p",{className:"text-sm font-black",children:$.productivityWindow})]}),b.jsx("div",{className:"space-y-4",children:$.suggestedStretches.slice(0,2).map((dt,rt)=>b.jsx("div",{className:"text-xs font-bold p-3 bg-white/5 rounded-xl border border-white/5",children:dt},rt))})]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx(GEe,{events:i,dailyAlertCount:oe,currentFatigue:Te,dailyAvgFatigue:ue}),b.jsx(ZEe,{data:He}),b.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[_==="pro"?b.jsx(KEe,{data:fe}):b.jsxs("div",{className:"glass-card p-8 rounded-3xl border border-white/5 flex flex-col items-center justify-center text-center relative overflow-hidden bg-slate-900/40",children:[b.jsx("div",{className:"absolute inset-0 bg-blue-600/5 blur-xl"}),b.jsx(ns,{className:"mb-4 text-blue-500",size:32}),b.jsx("h3",{className:"font-bold text-lg text-white mb-2",children:n("fatigueAnalysis")}),b.jsx("p",{className:"text-xs text-slate-400 mb-6 max-w-[200px]",children:"Unlock real-time fatigue monitoring, cortisol heatmaps, and hourly breakdowns."}),b.jsx("button",{onClick:()=>t("/pricing"),className:"px-6 py-2 bg-blue-600 rounded-xl text-[10px] font-black uppercase text-white hover:bg-blue-700 transition-colors",children:n("unlockPro")})]}),b.jsx($Ee,{events:i})]}),b.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:_==="pro"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"lg:col-span-2",children:b.jsx(eSe,{data:mt})}),b.jsx(QEe,{data:Ze}),b.jsx(XEe,{data:Rt})]}):b.jsxs("div",{className:"lg:col-span-2 glass-card p-12 rounded-3xl border border-white/5 flex flex-col items-center justify-center text-center relative overflow-hidden group hover:border-blue-500/20 transition-all bg-slate-900/40",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/0 via-blue-600/5 to-blue-600/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),b.jsx(Cj,{className:"mb-6 text-slate-600 group-hover:text-blue-500 transition-colors",size:48}),b.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:n("advanceCareer")}),b.jsx("p",{className:"text-slate-400 max-w-lg mb-8",children:"Zen Pro users get access to cortisol heatmaps, weekly productivity breakdown, burnout forecasting, and long-term velocity tracking."}),b.jsx("button",{onClick:()=>t("/pricing"),className:"px-8 py-4 bg-white text-slate-950 rounded-2xl font-black uppercase tracking-widest text-xs hover:scale-105 transition-transform",children:n("upgradeToPro")})]})})]})]}),b.jsxs("footer",{className:"mt-20 border-t border-white/5 bg-slate-900/50 backdrop-blur-sm p-6 lg:p-12",children:[b.jsxs("div",{className:"max-w-[1400px] mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[b.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[b.jsxs("div",{className:"flex items-center gap-3 font-bold text-2xl text-white",children:[b.jsx("div",{className:"bg-blue-600 p-2 rounded-xl",children:b.jsx(Ra,{size:24})}),b.jsx("span",{children:"DevWell"})]}),b.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed max-w-md",children:["Built by ",b.jsx("span",{className:"text-white font-bold",children:"Anas Kessou"}),". DevWell employs advanced AI to synchronize your biological rhythm with your development workflow, ensuring peak performance without burnout."]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("a",{href:"https://github.com/anas-kessou",target:"_blank",rel:"noreferrer",className:"p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-slate-400 hover:text-white",children:b.jsx(Av,{size:20})}),b.jsx("a",{href:"https://linkedin.com/in/anas-kessou",target:"_blank",rel:"noreferrer",className:"p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-slate-400 hover:text-white",children:b.jsx(lY,{size:20})}),b.jsx("a",{href:"mailto:anaskessou4@gmail.com",className:"p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-slate-400 hover:text-white",children:b.jsx(jd,{size:20})})]})]}),b.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[b.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-500",children:"Legal & Support"}),b.jsxs("ul",{className:"space-y-4 text-sm font-medium text-slate-400",children:[b.jsx("li",{children:b.jsxs(Mn,{to:"/docs",state:{from:"dashboard"},className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[b.jsx(YW,{size:14})," Documentation"]})}),b.jsx("li",{children:b.jsxs(Mn,{to:"/privacy",state:{from:"dashboard"},className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[b.jsx(b0,{size:14})," Privacy Policy"]})}),b.jsx("li",{children:b.jsxs(Mn,{to:"/terms",state:{from:"dashboard"},className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[b.jsx(ns,{size:14})," Terms of Service"]})}),b.jsx("li",{children:b.jsxs(Mn,{to:"/support",state:{from:"dashboard"},className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[b.jsx(OC,{size:14})," Support Center"]})})]})]}),b.jsxs("div",{className:"lg:col-span-4",children:[b.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-slate-500 mb-6",children:"Feedback Loop"}),b.jsx(YEe,{})]})]}),b.jsxs("div",{className:"mt-12 pt-8 border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-4 text-xs font-bold text-slate-600 uppercase tracking-wider",children:[b.jsx("p",{children:" 2026 DevWell Protocol. All rights reserved."}),b.jsxs("p",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"System Operational"]})]})]}),b.jsx(WEe,{isADHDMode:d,healthEvents:i,cameraRef:ge,voiceEnabled:m})]})]})};var at;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var D7=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),k7;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(k7||(k7={}));function nSe(t){return Object.values(at).includes(t)}var fu;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fu||(fu={}));var Jo=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[fu.SCAN_TYPE_CAMERA,fu.SCAN_TYPE_FILE],t})(),Mq=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!D7.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,D7.get(e))},t})(),L7=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),AC;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(AC||(AC={}));var Pq=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:AC.UNKWOWN_ERROR}},t})(),Dq=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Ts(t){return typeof t>"u"||t===null}function rSe(t,e,n){return t>n?n:t<e?e:t}var Td=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),zn=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),j7=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),kq=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(e),c=0,d=o;c<d.length;c++){var u=d[c];if(a.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t})(),rm={exports:{}},iSe=rm.exports,B7;function aSe(){return B7||(B7=1,(function(t,e){(function(n,r){r(e)})(iSe,(function(n){function r(J){return J==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,l){J.__proto__=l}||function(J,l){for(var h in l)l.hasOwnProperty(h)&&(J[h]=l[h])};function a(J,l){i(J,l);function h(){this.constructor=J}J.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function o(J,l){var h=Object.setPrototypeOf;h?h(J,l):J.__proto__=l}function c(J,l){l===void 0&&(l=J.constructor);var h=Error.captureStackTrace;h&&h(J,l)}var d=(function(J){a(l,J);function l(h){var p=this.constructor,v=J.call(this,h)||this;return Object.defineProperty(v,"name",{value:p.name,enumerable:!1}),o(v,p.prototype),c(v),v}return l})(Error);class u extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class m extends u{}m.kind="ArgumentException";class y extends u{}y.kind="IllegalArgumentException";class _{constructor(l){if(this.binarizer=l,l===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,p,v){const x=this.binarizer.getLuminanceSource().crop(l,h,p,v);return new _(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends u{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class D{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(l,h,p,v,x){for(;x--;)p[v++]=l[h++]}static currentTimeMillis(){return Date.now()}}class R extends u{}R.kind="IndexOutOfBoundsException";class j extends R{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}j.kind="ArrayIndexOutOfBoundsException";class B{static fill(l,h){for(let p=0,v=l.length;p<v;p++)l[p]=h}static fillWithin(l,h,p,v){B.rangeCheck(l.length,h,p);for(let x=h;x<p;x++)l[x]=v}static rangeCheck(l,h,p){if(h>p)throw new y("fromIndex("+h+") > toIndex("+p+")");if(h<0)throw new j(h);if(p>l)throw new j(p)}static asList(...l){return l}static create(l,h,p){return Array.from({length:l}).map(x=>Array.from({length:h}).fill(p))}static createInt32Array(l,h,p){return Array.from({length:l}).map(x=>Int32Array.from({length:h}).fill(p))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let p=0,v=l.length;p<v;p++)if(l[p]!==h[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const p of l)h=31*h+p;return h}static fillUint8Array(l,h){for(let p=0;p!==l.length;p++)l[p]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const p=new Uint8Array(h);return p.set(l),p}return l.slice(0,h)}static copyOfRange(l,h,p){const v=p-h,x=new Int32Array(v);return M.arraycopy(l,h,x,0,v),x}static binarySearch(l,h,p){p===void 0&&(p=B.numberComparator);let v=0,x=l.length-1;for(;v<=x;){const A=x+v>>1,T=p(h,l[A]);if(T>0)v=A+1;else if(T<0)x=A-1;else return A}return-v-1}static numberComparator(l,h){return l-h}}class U{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let p=31;return h=l<<16,h!==0&&(p-=16,l=h),h=l<<8,h!==0&&(p-=8,l=h),h=l<<4,h!==0&&(p-=4,l=h),h=l<<2,h!==0&&(p-=2,l=h),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=$.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=$.makeArray(l);M.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const p=this.bits;let v=Math.floor(l/32),x=p[v];x&=~((1<<(l&31))-1);const A=p.length;for(;x===0;){if(++v===A)return h;x=p[v]}const T=v*32+U.numberOfTrailingZeros(x);return T>h?h:T}getNextUnset(l){const h=this.size;if(l>=h)return h;const p=this.bits;let v=Math.floor(l/32),x=~p[v];x&=~((1<<(l&31))-1);const A=p.length;for(;x===0;){if(++v===A)return h;x=~p[v]}const T=v*32+U.numberOfTrailingZeros(x);return T>h?h:T}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new y;if(h===l)return;h--;const p=Math.floor(l/32),v=Math.floor(h/32),x=this.bits;for(let A=p;A<=v;A++){const T=A>p?0:l&31,k=(2<<(A<v?31:h&31))-(1<<T);x[A]|=k}}clear(){const l=this.bits.length,h=this.bits;for(let p=0;p<l;p++)h[p]=0}isRange(l,h,p){if(h<l||l<0||h>this.size)throw new y;if(h===l)return!0;h--;const v=Math.floor(l/32),x=Math.floor(h/32),A=this.bits;for(let T=v;T<=x;T++){const O=T>v?0:l&31,q=(2<<(T<x?31:h&31))-(1<<O)&4294967295;if((A[T]&q)!==(p?q:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let p=h;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let p=0;p<h;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new y("Sizes don't match");const h=this.bits;for(let p=0,v=h.length;p<v;p++)h[p]^=l.bits[p]}toBytes(l,h,p,v){for(let x=0;x<v;x++){let A=0;for(let T=0;T<8;T++)this.get(l)&&(A|=1<<7-T),l++;h[p+x]=A}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),p=h+1,v=this.bits;for(let x=0;x<p;x++){let A=v[x];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,l[h-x]=A}if(this.size!==p*32){const x=p*32-this.size;let A=l[0]>>>x;for(let T=1;T<p;T++){const O=l[T];A|=O<<32-x,l[T-1]=A,A=O>>>x}l[p-1]=A}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof $))return!1;const h=l;return this.size===h.size&&B.equals(this.bits,h.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let l="";for(let h=0,p=this.size;h<p;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new $(this.size,this.bits.slice())}}var H;(function(J){J[J.OTHER=0]="OTHER",J[J.PURE_BARCODE=1]="PURE_BARCODE",J[J.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",J[J.TRY_HARDER=3]="TRY_HARDER",J[J.CHARACTER_SET=4]="CHARACTER_SET",J[J.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",J[J.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",J[J.ASSUME_GS1=7]="ASSUME_GS1",J[J.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",J[J.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",J[J.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var G=H;class L extends u{static getFormatInstance(){return new L}}L.kind="FormatException";var V;(function(J){J[J.Cp437=0]="Cp437",J[J.ISO8859_1=1]="ISO8859_1",J[J.ISO8859_2=2]="ISO8859_2",J[J.ISO8859_3=3]="ISO8859_3",J[J.ISO8859_4=4]="ISO8859_4",J[J.ISO8859_5=5]="ISO8859_5",J[J.ISO8859_6=6]="ISO8859_6",J[J.ISO8859_7=7]="ISO8859_7",J[J.ISO8859_8=8]="ISO8859_8",J[J.ISO8859_9=9]="ISO8859_9",J[J.ISO8859_10=10]="ISO8859_10",J[J.ISO8859_11=11]="ISO8859_11",J[J.ISO8859_13=12]="ISO8859_13",J[J.ISO8859_14=13]="ISO8859_14",J[J.ISO8859_15=14]="ISO8859_15",J[J.ISO8859_16=15]="ISO8859_16",J[J.SJIS=16]="SJIS",J[J.Cp1250=17]="Cp1250",J[J.Cp1251=18]="Cp1251",J[J.Cp1252=19]="Cp1252",J[J.Cp1256=20]="Cp1256",J[J.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",J[J.UTF8=22]="UTF8",J[J.ASCII=23]="ASCII",J[J.Big5=24]="Big5",J[J.GB18030=25]="GB18030",J[J.EUC_KR=26]="EUC_KR"})(V||(V={}));class F{constructor(l,h,p,...v){this.valueIdentifier=l,this.name=p,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=v,F.VALUE_IDENTIFIER_TO_ECI.set(l,this),F.NAME_TO_ECI.set(p,this);const x=this.values;for(let A=0,T=x.length;A!==T;A++){const O=x[A];F.VALUES_TO_ECI.set(O,this)}for(const A of v)F.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new L("incorect value");const h=F.VALUES_TO_ECI.get(l);if(h===void 0)throw new L("incorect value");return h}static getCharacterSetECIByName(l){const h=F.NAME_TO_ECI.get(l);if(h===void 0)throw new L("incorect value");return h}equals(l){if(!(l instanceof F))return!1;const h=l;return this.getName()===h.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(V.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(V.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(V.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(V.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(V.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(V.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(V.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(V.Big5,28,"Big5"),F.GB18030=new F(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(V.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends u{}ee.kind="UnsupportedOperationException";class K{static decode(l,h){const p=this.encodingName(h);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!K.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const p=this.encodingName(h);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof F?l:F.getCharacterSetECIByName(l)}static decodeFallback(l,h){const p=this.encodingCharacterSet(h);if(K.isDecodeFallbackSupported(p)){let v="";for(let x=0,A=l.length;x<A;x++){let T=l[x].toString(16);T.length<2&&(T="0"+T),v+="%"+T}return decodeURIComponent(v)}if(p.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new ee(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(F.UTF8)||l.equals(F.ISO8859_1)||l.equals(F.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),v=[];for(let x=0;x<p.length;x++)v.push(p[x].charCodeAt(0));return new Uint8Array(v)}}class Q{static castAsNonUtf8Char(l,h=null){const p=h?h.getName():this.ISO88591;return K.decode(new Uint8Array([l]),p)}static guessEncoding(l,h){if(h!=null&&h.get(G.CHARACTER_SET)!==void 0)return h.get(G.CHARACTER_SET).toString();const p=l.length;let v=!0,x=!0,A=!0,T=0,O=0,k=0,q=0,Z=0,te=0,ce=0,he=0,me=0,be=0,Ie=0;const Ye=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let We=0;We<p&&(v||x||A);We++){const ze=l[We]&255;A&&(T>0?(ze&128)===0?A=!1:T--:(ze&128)!==0&&((ze&64)===0?A=!1:(T++,(ze&32)===0?O++:(T++,(ze&16)===0?k++:(T++,(ze&8)===0?q++:A=!1))))),v&&(ze>127&&ze<160?v=!1:ze>159&&(ze<192||ze===215||ze===247)&&Ie++),x&&(Z>0?ze<64||ze===127||ze>252?x=!1:Z--:ze===128||ze===160||ze>239?x=!1:ze>160&&ze<224?(te++,he=0,ce++,ce>me&&(me=ce)):ze>127?(Z++,ce=0,he++,he>be&&(be=he)):(ce=0,he=0))}return A&&T>0&&(A=!1),x&&Z>0&&(x=!1),A&&(Ye||O+k+q>0)?Q.UTF8:x&&(Q.ASSUME_SHIFT_JIS||me>=3||be>=3)?Q.SHIFT_JIS:v&&x?me===2&&te===2||Ie*10>=p?Q.SHIFT_JIS:Q.ISO88591:v?Q.ISO88591:x?Q.SHIFT_JIS:A?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let p=-1;function v(A,T,O,k,q,Z){if(A==="%%")return"%";if(h[++p]===void 0)return;A=k?parseInt(k.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,ce;switch(Z){case"s":ce=h[p];break;case"c":ce=h[p][0];break;case"f":ce=parseFloat(h[p]).toFixed(A);break;case"p":ce=parseFloat(h[p]).toPrecision(A);break;case"e":ce=parseFloat(h[p]).toExponential(A);break;case"x":ce=parseInt(h[p]).toString(te||16);break;case"d":ce=parseFloat(parseInt(h[p],te||10).toPrecision(A)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let he=parseInt(O),me=O&&O[0]+""=="0"?"0":" ";for(;ce.length<he;)ce=T!==void 0?ce+me:me+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,v)}static getBytes(l,h){return K.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}Q.SHIFT_JIS=F.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=F.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=F.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class X{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,p){for(let v=h;h<h+p;v++)this.append(l[v]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ge{constructor(l,h,p,v){if(this.width=l,this.height=h,this.rowSize=p,this.bits=v,h==null&&(h=l),this.height=h,l<1||h<1)throw new y("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,p=l[0].length,v=new ge(p,h);for(let x=0;x<h;x++){const A=l[x];for(let T=0;T<p;T++)A[T]&&v.set(T,x)}return v}static parseFromString(l,h,p){if(l===null)throw new y("stringRepresentation cannot be null");const v=new Array(l.length);let x=0,A=0,T=-1,O=0,k=0;for(;k<l.length;)if(l.charAt(k)===`
`||l.charAt(k)==="\r"){if(x>A){if(T===-1)T=x-A;else if(x-A!==T)throw new y("row lengths do not match");A=x,O++}k++}else if(l.substring(k,k+h.length)===h)k+=h.length,v[x]=!0,x++;else if(l.substring(k,k+p.length)===p)k+=p.length,v[x]=!1,x++;else throw new y("illegal character encountered: "+l.substring(k));if(x>A){if(T===-1)T=x-A;else if(x-A!==T)throw new y("row lengths do not match");O++}const q=new ge(T,O);for(let Z=0;Z<x;Z++)v[Z]&&q.set(Math.floor(Z%T),Math.floor(Z/T));return q}get(l,h){const p=h*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new y("input matrix dimensions do not match");const h=new $(Math.floor(this.width/32)+1),p=this.rowSize,v=this.bits;for(let x=0,A=this.height;x<A;x++){const T=x*p,O=l.getRow(x,h).getBitArray();for(let k=0;k<p;k++)v[T+k]^=O[k]}}clear(){const l=this.bits,h=l.length;for(let p=0;p<h;p++)l[p]=0}setRegion(l,h,p,v){if(h<0||l<0)throw new y("Left and top must be nonnegative");if(v<1||p<1)throw new y("Height and width must be at least 1");const x=l+p,A=h+v;if(A>this.height||x>this.width)throw new y("The region must fit inside the matrix");const T=this.rowSize,O=this.bits;for(let k=h;k<A;k++){const q=k*T;for(let Z=l;Z<x;Z++)O[q+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new $(this.width):h.clear();const p=this.rowSize,v=this.bits,x=l*p;for(let A=0;A<p;A++)h.setBulk(A*32,v[x+A]);return h}setRow(l,h){M.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let p=new $(l),v=new $(l);for(let x=0,A=Math.floor((h+1)/2);x<A;x++)p=this.getRow(x,p),v=this.getRow(h-1-x,v),p.reverse(),v.reverse(),this.setRow(x,v),this.setRow(h-1-x,p)}getEnclosingRectangle(){const l=this.width,h=this.height,p=this.rowSize,v=this.bits;let x=l,A=h,T=-1,O=-1;for(let k=0;k<h;k++)for(let q=0;q<p;q++){const Z=v[k*p+q];if(Z!==0){if(k<A&&(A=k),k>O&&(O=k),q*32<x){let te=0;for(;(Z<<31-te&4294967295)===0;)te++;q*32+te<x&&(x=q*32+te)}if(q*32+31>T){let te=31;for(;!(Z>>>te);)te--;q*32+te>T&&(T=q*32+te)}}}return T<x||O<A?null:Int32Array.from([x,A,T-x+1,O-A+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let p=0;for(;p<h.length&&h[p]===0;)p++;if(p===h.length)return null;const v=p/l;let x=p%l*32;const A=h[p];let T=0;for(;(A<<31-T&4294967295)===0;)T++;return x+=T,Int32Array.from([x,v])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let p=h.length-1;for(;p>=0&&h[p]===0;)p--;if(p<0)return null;const v=Math.floor(p/l);let x=Math.floor(p%l)*32;const A=h[p];let T=31;for(;!(A>>>T);)T--;return x+=T,Int32Array.from([x,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ge))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&B.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+B.hashCode(this.bits),l}toString(l="X ",h="  ",p=`
`){return this.buildToString(l,h,p)}buildToString(l,h,p){let v=new X;for(let x=0,A=this.height;x<A;x++){for(let T=0,O=this.width;T<O;T++)v.append(this.get(T,x)?l:h);v.append(p)}return v.toString()}clone(){return new ge(this.width,this.height,this.rowSize,this.bits.slice())}}class oe extends u{static getNotFoundInstance(){return new oe}}oe.kind="NotFoundException";class ie extends D{constructor(l){super(l),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(l,h){const p=this.getLuminanceSource(),v=p.getWidth();h==null||h.getSize()<v?h=new $(v):h.clear(),this.initArrays(v);const x=p.getRow(l,this.luminances),A=this.buckets;for(let O=0;O<v;O++)A[(x[O]&255)>>ie.LUMINANCE_SHIFT]++;const T=ie.estimateBlackPoint(A);if(v<3)for(let O=0;O<v;O++)(x[O]&255)<T&&h.set(O);else{let O=x[0]&255,k=x[1]&255;for(let q=1;q<v-1;q++){const Z=x[q+1]&255;(k*4-O-Z)/2<T&&h.set(q),O=k,k=Z}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),p=l.getHeight(),v=new ge(h,p);this.initArrays(h);const x=this.buckets;for(let O=1;O<5;O++){const k=Math.floor(p*O/5),q=l.getRow(k,this.luminances),Z=Math.floor(h*4/5);for(let te=Math.floor(h/5);te<Z;te++){const ce=q[te]&255;x[ce>>ie.LUMINANCE_SHIFT]++}}const A=ie.estimateBlackPoint(x),T=l.getMatrix();for(let O=0;O<p;O++){const k=O*h;for(let q=0;q<h;q++)(T[k+q]&255)<A&&v.set(q,O)}return v}createBinarizer(l){return new ie(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let p=0;p<ie.LUMINANCE_BUCKETS;p++)h[p]=0}static estimateBlackPoint(l){const h=l.length;let p=0,v=0,x=0;for(let q=0;q<h;q++)l[q]>x&&(v=q,x=l[q]),l[q]>p&&(p=l[q]);let A=0,T=0;for(let q=0;q<h;q++){const Z=q-v,te=l[q]*Z*Z;te>T&&(A=q,T=te)}if(v>A){const q=v;v=A,A=q}if(A-v<=h/16)throw new oe;let O=A-1,k=-1;for(let q=A-1;q>v;q--){const Z=q-v,te=Z*Z*(A-q)*(p-l[q]);te>k&&(O=q,k=te)}return O<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class fe extends ie{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),p=l.getHeight();if(h>=fe.MINIMUM_DIMENSION&&p>=fe.MINIMUM_DIMENSION){const v=l.getMatrix();let x=h>>fe.BLOCK_SIZE_POWER;(h&fe.BLOCK_SIZE_MASK)!==0&&x++;let A=p>>fe.BLOCK_SIZE_POWER;(p&fe.BLOCK_SIZE_MASK)!==0&&A++;const T=fe.calculateBlackPoints(v,x,A,h,p),O=new ge(h,p);fe.calculateThresholdForBlock(v,x,A,h,p,T,O),this.matrix=O}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new fe(l)}static calculateThresholdForBlock(l,h,p,v,x,A,T){const O=x-fe.BLOCK_SIZE,k=v-fe.BLOCK_SIZE;for(let q=0;q<p;q++){let Z=q<<fe.BLOCK_SIZE_POWER;Z>O&&(Z=O);const te=fe.cap(q,2,p-3);for(let ce=0;ce<h;ce++){let he=ce<<fe.BLOCK_SIZE_POWER;he>k&&(he=k);const me=fe.cap(ce,2,h-3);let be=0;for(let Ye=-2;Ye<=2;Ye++){const We=A[te+Ye];be+=We[me-2]+We[me-1]+We[me]+We[me+1]+We[me+2]}const Ie=be/25;fe.thresholdBlock(l,he,Z,Ie,v,T)}}}static cap(l,h,p){return l<h?h:l>p?p:l}static thresholdBlock(l,h,p,v,x,A){for(let T=0,O=p*x+h;T<fe.BLOCK_SIZE;T++,O+=x)for(let k=0;k<fe.BLOCK_SIZE;k++)(l[O+k]&255)<=v&&A.set(h+k,p+T)}static calculateBlackPoints(l,h,p,v,x){const A=x-fe.BLOCK_SIZE,T=v-fe.BLOCK_SIZE,O=new Array(p);for(let k=0;k<p;k++){O[k]=new Int32Array(h);let q=k<<fe.BLOCK_SIZE_POWER;q>A&&(q=A);for(let Z=0;Z<h;Z++){let te=Z<<fe.BLOCK_SIZE_POWER;te>T&&(te=T);let ce=0,he=255,me=0;for(let Ie=0,Ye=q*v+te;Ie<fe.BLOCK_SIZE;Ie++,Ye+=v){for(let We=0;We<fe.BLOCK_SIZE;We++){const ze=l[Ye+We]&255;ce+=ze,ze<he&&(he=ze),ze>me&&(me=ze)}if(me-he>fe.MIN_DYNAMIC_RANGE)for(Ie++,Ye+=v;Ie<fe.BLOCK_SIZE;Ie++,Ye+=v)for(let We=0;We<fe.BLOCK_SIZE;We++)ce+=l[Ye+We]&255}let be=ce>>fe.BLOCK_SIZE_POWER*2;if(me-he<=fe.MIN_DYNAMIC_RANGE&&(be=he/2,k>0&&Z>0)){const Ie=(O[k-1][Z]+2*O[k][Z-1]+O[k-1][Z-1])/4;he<Ie&&(be=Ie)}O[k][Z]=be}}return O}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Ae{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,p,v){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new X;for(let p=0;p<this.height;p++){const v=this.getRow(p,l);for(let x=0;x<this.width;x++){const A=v[x]&255;let T;A<64?T="#":A<128?T="+":A<192?T=".":T=" ",h.append(T)}h.append(`
`)}return h.toString()}}class Oe extends Ae{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const p=this.delegate.getRow(l,h),v=this.getWidth();for(let x=0;x<v;x++)p[x]=255-(p[x]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(h);for(let v=0;v<h;v++)p[v]=255-(l[v]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,p,v){return new Oe(this.delegate.crop(l,h,p,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class qe extends Ae{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=qe.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return qe.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,p){const v=new Uint8ClampedArray(h*p);for(let x=0,A=0,T=l.length;x<T;x+=4,A++){let O;if(l[x+3]===0)O=255;else{const q=l[x],Z=l[x+1],te=l[x+2];O=306*q+601*Z+117*te+512>>10}v[A]=O}return v}getRow(l,h){if(l<0||l>=this.getHeight())throw new y("Requested row is outside the image: "+l);const p=this.getWidth(),v=l*p;return h===null?h=this.buffer.slice(v,v+p):(h.length<p&&(h=new Uint8ClampedArray(p)),h.set(this.buffer.slice(v,v+p))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,p,v){return super.crop(l,h,p,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),p=h.getContext("2d"),v=l*qe.DEGREE_TO_RADIANS,x=this.canvas.width,A=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(v))*x+Math.abs(Math.sin(v))*A),O=Math.ceil(Math.abs(Math.sin(v))*x+Math.abs(Math.cos(v))*A);return h.width=T,h.height=O,p.translate(T/2,O/2),p.rotate(v),p.drawImage(this.canvas,x/-2,A/-2),this.buffer=qe.makeBufferFromCanvasImageData(h),this}invert(){return new Oe(this)}}qe.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(l,h,p){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var pe=(globalThis||qc||self||window||void 0)&&(globalThis||qc||self||window||void 0).__awaiter||function(J,l,h,p){function v(x){return x instanceof h?x:new h(function(A){A(x)})}return new(h||(h=Promise))(function(x,A){function T(q){try{k(p.next(q))}catch(Z){A(Z)}}function O(q){try{k(p.throw(q))}catch(Z){A(Z)}}function k(q){q.done?x(q.value):v(q.value).then(T,O)}k((p=p.apply(J,l||[])).next())})};class Te{constructor(l,h=500,p){this.reader=l,this.timeBetweenScansMillis=h,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const p of l){const v=p.kind==="video"?"videoinput":p.kind;if(v!=="videoinput")continue;const x=p.deviceId||p.id,A=p.label||`Video device ${h.length+1}`,T=p.groupId,O={deviceId:x,label:A,kind:v,groupId:T};h.push(O)}return h})}getVideoInputDevices(){return pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new ue(h.deviceId,h.label))})}findDeviceById(l){return pe(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return pe(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const v={video:p};return yield this.decodeOnceFromConstraints(v,h)})}decodeOnceFromConstraints(l,h){return pe(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,h)})}decodeOnceFromStream(l,h){return pe(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,h,p){return pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,p)})}decodeFromVideoDevice(l,h,p){return pe(this,void 0,void 0,function*(){let v;l?v={deviceId:{exact:l}}:v={facingMode:"environment"};const x={video:v};return yield this.decodeFromConstraints(x,h,p)})}decodeFromConstraints(l,h,p){return pe(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(v,h,p)})}decodeFromStream(l,h,p){return pe(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(v,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return pe(this,void 0,void 0,function*(){const p=this.prepareVideoElement(h);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((h,p)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const p=document.getElementById(l);if(!p)throw new m(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==h.toLowerCase())throw new m(`element with id '${l}' must be an ${h} element`);return p}decodeFromImage(l,h){if(!l&&!h)throw new m("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new m("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,p){if(l===void 0&&h===void 0)throw new m("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let p;return this.isImageLoaded(h)?p=this.decodeOnce(h,!1,!0):p=this._decodeOnLoadImage(h),p}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,h)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const p=this._decodeOnLoadImage(h);return h.src=l,p}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElement(h);return h.src=l,p}decodeFromVideoUrlContinuously(l,h){if(!l)throw new m("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(p,h);return p.src=l,v}_decodeOnLoadImage(l){return new Promise((h,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,p=!0){this._stopAsyncDecode=!1;const v=(x,A)=>{if(this._stopAsyncDecode){A(new oe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(l);x(T)}catch(T){const O=h&&T instanceof oe,q=(T instanceof I||T instanceof L)&&p;if(O||q)return setTimeout(v,this._timeBetweenDecodingAttempts,x,A);A(T)}};return new Promise((x,A)=>v(x,A))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(l);h(v,null),setTimeout(p,this.timeBetweenScansMillis)}catch(v){h(null,v);const x=v instanceof I||v instanceof L,A=v instanceof oe;(x||A)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,p){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,p=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),p=new qe(h),v=new fe(p);return new _(v)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let p,v;return typeof l<"u"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,v=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,v=l.naturalHeight||l.height)),h.style.width=p+"px",h.style.height=v+"px",h.width=p,h.height=v,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(l,h,p=h==null?0:8*h.length,v,x,A=M.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=p,this.resultPoints=v,this.format=x,this.timestamp=A,this.text=l,this.rawBytes=h,p==null?this.numBits=h==null?0:8*h.length:this.numBits=p,this.resultPoints=v,this.format=x,this.resultMetadata=null,A==null?this.timestamp=M.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(h.length+l.length);M.arraycopy(h,0,p,0,h.length),M.arraycopy(l,0,p,h.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(J){J[J.AZTEC=0]="AZTEC",J[J.CODABAR=1]="CODABAR",J[J.CODE_39=2]="CODE_39",J[J.CODE_93=3]="CODE_93",J[J.CODE_128=4]="CODE_128",J[J.DATA_MATRIX=5]="DATA_MATRIX",J[J.EAN_8=6]="EAN_8",J[J.EAN_13=7]="EAN_13",J[J.ITF=8]="ITF",J[J.MAXICODE=9]="MAXICODE",J[J.PDF_417=10]="PDF_417",J[J.QR_CODE=11]="QR_CODE",J[J.RSS_14=12]="RSS_14",J[J.RSS_EXPANDED=13]="RSS_EXPANDED",J[J.UPC_A=14]="UPC_A",J[J.UPC_E=15]="UPC_E",J[J.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var Be=Ze,Rt;(function(J){J[J.OTHER=0]="OTHER",J[J.ORIENTATION=1]="ORIENTATION",J[J.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",J[J.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",J[J.ISSUE_NUMBER=4]="ISSUE_NUMBER",J[J.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",J[J.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",J[J.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",J[J.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",J[J.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",J[J.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Rt||(Rt={}));var vt=Rt;class He{constructor(l,h,p,v,x=-1,A=-1){this.rawBytes=l,this.text=h,this.byteSegments=p,this.ecLevel=v,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=A,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class mt{exp(l){return this.expTable[l]}log(l){if(l===0)throw new y;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class lt{constructor(l,h){if(h.length===0)throw new y;this.field=l;const p=h.length;if(p>1&&h[0]===0){let v=1;for(;v<p&&h[v]===0;)v++;v===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-v),M.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let p;if(l===1){p=0;for(let A=0,T=h.length;A!==T;A++){const O=h[A];p=mt.addOrSubtract(p,O)}return p}p=h[0];const v=h.length,x=this.field;for(let A=1;A<v;A++)p=mt.addOrSubtract(x.multiply(l,p),h[A]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,p=l.coefficients;if(h.length>p.length){const A=h;h=p,p=A}let v=new Int32Array(p.length);const x=p.length-h.length;M.arraycopy(p,0,v,0,x);for(let A=x;A<p.length;A++)v[A]=mt.addOrSubtract(h[A-x],p[A]);return new lt(this.field,v)}multiply(l){if(!this.field.equals(l.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,p=h.length,v=l.coefficients,x=v.length,A=new Int32Array(p+x-1),T=this.field;for(let O=0;O<p;O++){const k=h[O];for(let q=0;q<x;q++)A[O+q]=mt.addOrSubtract(A[O+q],T.multiply(k,v[q]))}return new lt(T,A)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,p=this.field,v=new Int32Array(h),x=this.coefficients;for(let A=0;A<h;A++)v[A]=p.multiply(x[A],l);return new lt(p,v)}multiplyByMonomial(l,h){if(l<0)throw new y;if(h===0)return this.field.getZero();const p=this.coefficients,v=p.length,x=new Int32Array(v+l),A=this.field;for(let T=0;T<v;T++)x[T]=A.multiply(p[T],h);return new lt(A,x)}divide(l){if(!this.field.equals(l.field))throw new y("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new y("Divide by 0");const h=this.field;let p=h.getZero(),v=this;const x=l.getCoefficient(l.getDegree()),A=h.inverse(x);for(;v.getDegree()>=l.getDegree()&&!v.isZero();){const T=v.getDegree()-l.getDegree(),O=h.multiply(v.getCoefficient(v.getDegree()),A),k=l.multiplyByMonomial(T,O),q=h.buildMonomial(T,O);p=p.addOrSubtract(q),v=v.addOrSubtract(k)}return[p,v]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),h===0||p!==1){const v=this.field.log(p);v===0?l+="1":v===1?l+="a":(l+="a^",l+=v)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class Ue extends u{}Ue.kind="ArithmeticException";class ct extends mt{constructor(l,h,p){super(),this.primitive=l,this.size=h,this.generatorBase=p;const v=new Int32Array(h);let x=1;for(let T=0;T<h;T++)v[T]=x,x*=2,x>=h&&(x^=l,x&=h-1);this.expTable=v;const A=new Int32Array(h);for(let T=0;T<h-1;T++)A[v[T]]=T;this.logTable=A,this.zero=new lt(this,Int32Array.from([0])),this.one=new lt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new y;if(h===0)return this.zero;const p=new Int32Array(l+1);return p[0]=h,new lt(this,p)}inverse(l){if(l===0)throw new Ue;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}ct.AZTEC_DATA_12=new ct(4201,4096,1),ct.AZTEC_DATA_10=new ct(1033,1024,1),ct.AZTEC_DATA_6=new ct(67,64,1),ct.AZTEC_PARAM=new ct(19,16,1),ct.QR_CODE_FIELD_256=new ct(285,256,0),ct.DATA_MATRIX_FIELD_256=new ct(301,256,1),ct.AZTEC_DATA_8=ct.DATA_MATRIX_FIELD_256,ct.MAXICODE_FIELD_64=ct.AZTEC_DATA_6;class bt extends u{}bt.kind="ReedSolomonException";class dt extends u{}dt.kind="IllegalStateException";class rt{constructor(l){this.field=l}decode(l,h){const p=this.field,v=new lt(p,l),x=new Int32Array(h);let A=!0;for(let ce=0;ce<h;ce++){const he=v.evaluateAt(p.exp(ce+p.getGeneratorBase()));x[x.length-1-ce]=he,he!==0&&(A=!1)}if(A)return;const T=new lt(p,x),O=this.runEuclideanAlgorithm(p.buildMonomial(h,1),T,h),k=O[0],q=O[1],Z=this.findErrorLocations(k),te=this.findErrorMagnitudes(q,Z);for(let ce=0;ce<Z.length;ce++){const he=l.length-1-p.log(Z[ce]);if(he<0)throw new bt("Bad error location");l[he]=ct.addOrSubtract(l[he],te[ce])}}runEuclideanAlgorithm(l,h,p){if(l.getDegree()<h.getDegree()){const ce=l;l=h,h=ce}const v=this.field;let x=l,A=h,T=v.getZero(),O=v.getOne();for(;A.getDegree()>=(p/2|0);){let ce=x,he=T;if(x=A,T=O,x.isZero())throw new bt("r_{i-1} was zero");A=ce;let me=v.getZero();const be=x.getCoefficient(x.getDegree()),Ie=v.inverse(be);for(;A.getDegree()>=x.getDegree()&&!A.isZero();){const Ye=A.getDegree()-x.getDegree(),We=v.multiply(A.getCoefficient(A.getDegree()),Ie);me=me.addOrSubtract(v.buildMonomial(Ye,We)),A=A.addOrSubtract(x.multiplyByMonomial(Ye,We))}if(O=me.multiply(T).addOrSubtract(he),A.getDegree()>=x.getDegree())throw new dt("Division algorithm failed to reduce polynomial?")}const k=O.getCoefficient(0);if(k===0)throw new bt("sigmaTilde(0) was zero");const q=v.inverse(k),Z=O.multiplyScalar(q),te=A.multiplyScalar(q);return[Z,te]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(h);let v=0;const x=this.field;for(let A=1;A<x.getSize()&&v<h;A++)l.evaluateAt(A)===0&&(p[v]=x.inverse(A),v++);if(v!==h)throw new bt("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,h){const p=h.length,v=new Int32Array(p),x=this.field;for(let A=0;A<p;A++){const T=x.inverse(h[A]);let O=1;for(let k=0;k<p;k++)if(A!==k){const q=x.multiply(h[k],T),Z=(q&1)===0?q|1:q&-2;O=x.multiply(O,Z)}v[A]=x.multiply(l.evaluateAt(T),x.inverse(O)),x.getGeneratorBase()!==0&&(v[A]=x.multiply(v[A],T))}return v}}var gt;(function(J){J[J.UPPER=0]="UPPER",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.DIGIT=3]="DIGIT",J[J.PUNCT=4]="PUNCT",J[J.BINARY=5]="BINARY"})(gt||(gt={}));class wt{decode(l){this.ddata=l;let h=l.getBits(),p=this.extractBits(h),v=this.correctBits(p),x=wt.convertBoolArrayToByteArray(v),A=wt.getEncodedData(v),T=new He(x,A,null,null);return T.setNumBits(v.length),T}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,p=gt.UPPER,v=gt.UPPER,x="",A=0;for(;A<h;)if(v===gt.BINARY){if(h-A<5)break;let T=wt.readCode(l,A,5);if(A+=5,T===0){if(h-A<11)break;T=wt.readCode(l,A,11)+31,A+=11}for(let O=0;O<T;O++){if(h-A<8){A=h;break}const k=wt.readCode(l,A,8);x+=Q.castAsNonUtf8Char(k),A+=8}v=p}else{let T=v===gt.DIGIT?4:5;if(h-A<T)break;let O=wt.readCode(l,A,T);A+=T;let k=wt.getCharacter(v,O);k.startsWith("CTRL_")?(p=v,v=wt.getTable(k.charAt(5)),k.charAt(6)==="L"&&(p=v)):(x+=k,v=p)}return x}static getTable(l){switch(l){case"L":return gt.LOWER;case"P":return gt.PUNCT;case"M":return gt.MIXED;case"D":return gt.DIGIT;case"B":return gt.BINARY;case"U":default:return gt.UPPER}}static getCharacter(l,h){switch(l){case gt.UPPER:return wt.UPPER_TABLE[h];case gt.LOWER:return wt.LOWER_TABLE[h];case gt.MIXED:return wt.MIXED_TABLE[h];case gt.PUNCT:return wt.PUNCT_TABLE[h];case gt.DIGIT:return wt.DIGIT_TABLE[h];default:throw new dt("Bad table")}}correctBits(l){let h,p;this.ddata.getNbLayers()<=2?(p=6,h=ct.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,h=ct.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,h=ct.AZTEC_DATA_10):(p=12,h=ct.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),x=l.length/p;if(x<v)throw new L;let A=l.length%p,T=new Int32Array(x);for(let te=0;te<x;te++,A+=p)T[te]=wt.readCode(l,A,p);try{new rt(h).decode(T,x-v)}catch(te){throw new L(te)}let O=(1<<p)-1,k=0;for(let te=0;te<v;te++){let ce=T[te];if(ce===0||ce===O)throw new L;(ce===1||ce===O-1)&&k++}let q=new Array(v*p-k),Z=0;for(let te=0;te<v;te++){let ce=T[te];if(ce===1||ce===O-1)q.fill(ce>1,Z,Z+p-1),Z+=p-1;else for(let he=p-1;he>=0;--he)q[Z++]=(ce&1<<he)!==0}return q}extractBits(l){let h=this.ddata.isCompact(),p=this.ddata.getNbLayers(),v=(h?11:14)+p*4,x=new Int32Array(v),A=new Array(this.totalBitsInLayer(p,h));if(h)for(let T=0;T<x.length;T++)x[T]=T;else{let T=v+1+2*U.truncDivision(U.truncDivision(v,2)-1,15),O=v/2,k=U.truncDivision(T,2);for(let q=0;q<O;q++){let Z=q+U.truncDivision(q,15);x[O-q-1]=k-Z-1,x[O+q]=k+Z+1}}for(let T=0,O=0;T<p;T++){let k=(p-T)*4+(h?9:12),q=T*2,Z=v-1-q;for(let te=0;te<k;te++){let ce=te*2;for(let he=0;he<2;he++)A[O+ce+he]=l.get(x[q+he],x[q+te]),A[O+2*k+ce+he]=l.get(x[q+te],x[Z-he]),A[O+4*k+ce+he]=l.get(x[Z-he],x[Z-te]),A[O+6*k+ce+he]=l.get(x[Z-te],x[q+he])}O+=k*8}return A}static readCode(l,h,p){let v=0;for(let x=h;x<h+p;x++)v<<=1,l[x]&&(v|=1);return v}static readByte(l,h){let p=l.length-h;return p>=8?wt.readCode(l,h,8):wt.readCode(l,h,p)<<8-p}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let p=0;p<h.length;p++)h[p]=wt.readByte(l,8*p);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,p,v){const x=l-p,A=h-v;return Math.sqrt(x*x+A*A)}static sum(l){let h=0;for(let p=0,v=l.length;p!==v;p++){const x=l[p];h+=x}return h}}class qt{static floatToIntBits(l){return l}}qt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof $e){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*qt.floatToIntBits(this.x)+qt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),v=this.distance(l[0],l[2]);let x,A,T;if(p>=h&&p>=v?(A=l[0],x=l[1],T=l[2]):v>=p&&v>=h?(A=l[1],x=l[0],T=l[2]):(A=l[2],x=l[0],T=l[1]),this.crossProductZ(x,A,T)<0){const O=x;x=T,T=O}l[0]=x,l[1]=A,l[2]=T}static distance(l,h){return et.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,p){const v=h.x,x=h.y;return(p.x-v)*(l.y-x)-(p.y-x)*(l.x-v)}}class or{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class nr extends or{constructor(l,h,p,v,x){super(l,h),this.compact=p,this.nbDatablocks=v,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class cn{constructor(l,h,p,v){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=cn.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),v==null&&(v=l.getHeight()/2|0);const x=h/2|0;if(this.leftInit=p-x,this.rightInit=p+x,this.upInit=v-x,this.downInit=v+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}detect(){let l=this.leftInit,h=this.rightInit,p=this.upInit,v=this.downInit,x=!1,A=!0,T=!1,O=!1,k=!1,q=!1,Z=!1;const te=this.width,ce=this.height;for(;A;){A=!1;let he=!0;for(;(he||!O)&&h<te;)he=this.containsBlackPoint(p,v,h,!1),he?(h++,A=!0,O=!0):O||h++;if(h>=te){x=!0;break}let me=!0;for(;(me||!k)&&v<ce;)me=this.containsBlackPoint(l,h,v,!0),me?(v++,A=!0,k=!0):k||v++;if(v>=ce){x=!0;break}let be=!0;for(;(be||!q)&&l>=0;)be=this.containsBlackPoint(p,v,l,!1),be?(l--,A=!0,q=!0):q||l--;if(l<0){x=!0;break}let Ie=!0;for(;(Ie||!Z)&&p>=0;)Ie=this.containsBlackPoint(l,h,p,!0),Ie?(p--,A=!0,Z=!0):Z||p--;if(p<0){x=!0;break}A&&(T=!0)}if(!x&&T){const he=h-l;let me=null;for(let We=1;me===null&&We<he;We++)me=this.getBlackPointOnSegment(l,v-We,l+We,v);if(me==null)throw new oe;let be=null;for(let We=1;be===null&&We<he;We++)be=this.getBlackPointOnSegment(l,p+We,l+We,p);if(be==null)throw new oe;let Ie=null;for(let We=1;Ie===null&&We<he;We++)Ie=this.getBlackPointOnSegment(h,p+We,h-We,p);if(Ie==null)throw new oe;let Ye=null;for(let We=1;Ye===null&&We<he;We++)Ye=this.getBlackPointOnSegment(h,v-We,h-We,v);if(Ye==null)throw new oe;return this.centerEdges(Ye,me,Ie,be)}else throw new oe}getBlackPointOnSegment(l,h,p,v){const x=et.round(et.distance(l,h,p,v)),A=(p-l)/x,T=(v-h)/x,O=this.image;for(let k=0;k<x;k++){const q=et.round(l+k*A),Z=et.round(h+k*T);if(O.get(q,Z))return new $e(q,Z)}return null}centerEdges(l,h,p,v){const x=l.getX(),A=l.getY(),T=h.getX(),O=h.getY(),k=p.getX(),q=p.getY(),Z=v.getX(),te=v.getY(),ce=cn.CORR;return x<this.width/2?[new $e(Z-ce,te+ce),new $e(T+ce,O+ce),new $e(k-ce,q-ce),new $e(x+ce,A-ce)]:[new $e(Z+ce,te+ce),new $e(T+ce,O-ce),new $e(k-ce,q+ce),new $e(x-ce,A-ce)]}containsBlackPoint(l,h,p,v){const x=this.image;if(v){for(let A=l;A<=h;A++)if(x.get(A,p))return!0}else for(let A=l;A<=h;A++)if(x.get(p,A))return!0;return!1}}cn.INIT_SIZE=10,cn.CORR=1;class Hn{static checkAndNudgePoints(l,h){const p=l.getWidth(),v=l.getHeight();let x=!0;for(let A=0;A<h.length&&x;A+=2){const T=Math.floor(h[A]),O=Math.floor(h[A+1]);if(T<-1||T>p||O<-1||O>v)throw new oe;x=!1,T===-1?(h[A]=0,x=!0):T===p&&(h[A]=p-1,x=!0),O===-1?(h[A+1]=0,x=!0):O===v&&(h[A+1]=v-1,x=!0)}x=!0;for(let A=h.length-2;A>=0&&x;A-=2){const T=Math.floor(h[A]),O=Math.floor(h[A+1]);if(T<-1||T>p||O<-1||O>v)throw new oe;x=!1,T===-1?(h[A]=0,x=!0):T===p&&(h[A]=p-1,x=!0),O===-1?(h[A+1]=0,x=!0):O===v&&(h[A+1]=v-1,x=!0)}}}class hr{constructor(l,h,p,v,x,A,T,O,k){this.a11=l,this.a21=h,this.a31=p,this.a12=v,this.a22=x,this.a32=A,this.a13=T,this.a23=O,this.a33=k}static quadrilateralToQuadrilateral(l,h,p,v,x,A,T,O,k,q,Z,te,ce,he,me,be){const Ie=hr.quadrilateralToSquare(l,h,p,v,x,A,T,O);return hr.squareToQuadrilateral(k,q,Z,te,ce,he,me,be).times(Ie)}transformPoints(l){const h=l.length,p=this.a11,v=this.a12,x=this.a13,A=this.a21,T=this.a22,O=this.a23,k=this.a31,q=this.a32,Z=this.a33;for(let te=0;te<h;te+=2){const ce=l[te],he=l[te+1],me=x*ce+O*he+Z;l[te]=(p*ce+A*he+k)/me,l[te+1]=(v*ce+T*he+q)/me}}transformPointsWithValues(l,h){const p=this.a11,v=this.a12,x=this.a13,A=this.a21,T=this.a22,O=this.a23,k=this.a31,q=this.a32,Z=this.a33,te=l.length;for(let ce=0;ce<te;ce++){const he=l[ce],me=h[ce],be=x*he+O*me+Z;l[ce]=(p*he+A*me+k)/be,h[ce]=(v*he+T*me+q)/be}}static squareToQuadrilateral(l,h,p,v,x,A,T,O){const k=l-p+x-T,q=h-v+A-O;if(k===0&&q===0)return new hr(p-l,x-p,l,v-h,A-v,h,0,0,1);{const Z=p-x,te=T-x,ce=v-A,he=O-A,me=Z*he-te*ce,be=(k*he-te*q)/me,Ie=(Z*q-k*ce)/me;return new hr(p-l+be*p,T-l+Ie*T,l,v-h+be*v,O-h+Ie*O,h,be,Ie,1)}}static quadrilateralToSquare(l,h,p,v,x,A,T,O){return hr.squareToQuadrilateral(l,h,p,v,x,A,T,O).buildAdjoint()}buildAdjoint(){return new hr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new hr(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Da extends Hn{sampleGrid(l,h,p,v,x,A,T,O,k,q,Z,te,ce,he,me,be,Ie,Ye,We){const ze=hr.quadrilateralToQuadrilateral(v,x,A,T,O,k,q,Z,te,ce,he,me,be,Ie,Ye,We);return this.sampleGridWithTransform(l,h,p,ze)}sampleGridWithTransform(l,h,p,v){if(h<=0||p<=0)throw new oe;const x=new ge(h,p),A=new Float32Array(2*h);for(let T=0;T<p;T++){const O=A.length,k=T+.5;for(let q=0;q<O;q+=2)A[q]=q/2+.5,A[q+1]=k;v.transformPoints(A),Hn.checkAndNudgePoints(l,A);try{for(let q=0;q<O;q+=2)l.get(Math.floor(A[q]),Math.floor(A[q+1]))&&x.set(q/2,T)}catch{throw new oe}}return x}}class zr{static setGridSampler(l){zr.gridSampler=l}static getInstance(){return zr.gridSampler}}zr.gridSampler=new Da;class Ir{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class hs{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),p=this.getBullsEyeCorners(h);if(l){let A=p[0];p[0]=p[2],p[2]=A}this.extractParameters(p);let v=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),x=this.getMatrixCornerPoints(p);return new nr(v,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new oe;let h=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(p,h);let v=0;for(let A=0;A<4;A++){let T=p[(this.shift+A)%4];this.compact?(v<<=7,v+=T>>1&127):(v<<=10,v+=(T>>2&992)+(T>>1&31))}let x=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,h){let p=0;l.forEach((v,x,A)=>{let T=(v>>h-2<<1)+(v&1);p=(p<<3)+T}),p=((p&1)<<11)+(p>>1);for(let v=0;v<4;v++)if(U.bitCount(p^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new oe}getCorrectedParameterData(l,h){let p,v;h?(p=7,v=2):(p=10,v=4);let x=p-v,A=new Int32Array(p);for(let O=p-1;O>=0;--O)A[O]=l&15,l>>=4;try{new rt(ct.AZTEC_PARAM).decode(A,x)}catch{throw new oe}let T=0;for(let O=0;O<v;O++)T=(T<<4)+A[O];return T}getBullsEyeCorners(l){let h=l,p=l,v=l,x=l,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(h,A,1,-1),te=this.getFirstDifferent(p,A,1,1),ce=this.getFirstDifferent(v,A,-1,1),he=this.getFirstDifferent(x,A,-1,-1);if(this.nbCenterLayers>2){let me=this.distancePoint(he,Z)*this.nbCenterLayers/(this.distancePoint(x,h)*(this.nbCenterLayers+2));if(me<.75||me>1.25||!this.isWhiteOrBlackRectangle(Z,te,ce,he))break}h=Z,p=te,v=ce,x=he,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;let T=new $e(h.getX()+.5,h.getY()-.5),O=new $e(p.getX()+.5,p.getY()+.5),k=new $e(v.getX()-.5,v.getY()+.5),q=new $e(x.getX()-.5,x.getY()-.5);return this.expandSquare([T,O,k,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,p,v;try{let T=new cn(this.image).detect();l=T[0],h=T[1],p=T[2],v=T[3]}catch{let O=this.image.getWidth()/2,k=this.image.getHeight()/2;l=this.getFirstDifferent(new Ir(O+7,k-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Ir(O+7,k+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Ir(O-7,k+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Ir(O-7,k-7),!1,-1,-1).toResultPoint()}let x=et.round((l.getX()+v.getX()+h.getX()+p.getX())/4),A=et.round((l.getY()+v.getY()+h.getY()+p.getY())/4);try{let T=new cn(this.image,15,x,A).detect();l=T[0],h=T[1],p=T[2],v=T[3]}catch{l=this.getFirstDifferent(new Ir(x+7,A-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Ir(x+7,A+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Ir(x-7,A+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Ir(x-7,A-7),!1,-1,-1).toResultPoint()}return x=et.round((l.getX()+v.getX()+h.getX()+p.getX())/4),A=et.round((l.getY()+v.getY()+h.getY()+p.getY())/4),new Ir(x,A)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,p,v,x){let A=zr.getInstance(),T=this.getDimension(),O=T/2-this.nbCenterLayers,k=T/2+this.nbCenterLayers;return A.sampleGrid(l,T,T,O,O,k,O,k,k,O,k,h.getX(),h.getY(),p.getX(),p.getY(),v.getX(),v.getY(),x.getX(),x.getY())}sampleLine(l,h,p){let v=0,x=this.distanceResultPoint(l,h),A=x/p,T=l.getX(),O=l.getY(),k=A*(h.getX()-l.getX())/x,q=A*(h.getY()-l.getY())/x;for(let Z=0;Z<p;Z++)this.image.get(et.round(T+Z*k),et.round(O+Z*q))&&(v|=1<<p-Z-1);return v}isWhiteOrBlackRectangle(l,h,p,v){let x=3;l=new Ir(l.getX()-x,l.getY()+x),h=new Ir(h.getX()-x,h.getY()-x),p=new Ir(p.getX()+x,p.getY()-x),v=new Ir(v.getX()+x,v.getY()+x);let A=this.getColor(v,l);if(A===0)return!1;let T=this.getColor(l,h);return T!==A||(T=this.getColor(h,p),T!==A)?!1:(T=this.getColor(p,v),T===A)}getColor(l,h){let p=this.distancePoint(l,h),v=(h.getX()-l.getX())/p,x=(h.getY()-l.getY())/p,A=0,T=l.getX(),O=l.getY(),k=this.image.get(l.getX(),l.getY()),q=Math.ceil(p);for(let te=0;te<q;te++)T+=v,O+=x,this.image.get(et.round(T),et.round(O))!==k&&A++;let Z=A/p;return Z>.1&&Z<.9?0:Z<=.1===k?1:-1}getFirstDifferent(l,h,p,v){let x=l.getX()+p,A=l.getY()+v;for(;this.isValid(x,A)&&this.image.get(x,A)===h;)x+=p,A+=v;for(x-=p,A-=v;this.isValid(x,A)&&this.image.get(x,A)===h;)x+=p;for(x-=p;this.isValid(x,A)&&this.image.get(x,A)===h;)A+=v;return A-=v,new Ir(x,A)}expandSquare(l,h,p){let v=p/(2*h),x=l[0].getX()-l[2].getX(),A=l[0].getY()-l[2].getY(),T=(l[0].getX()+l[2].getX())/2,O=(l[0].getY()+l[2].getY())/2,k=new $e(T+v*x,O+v*A),q=new $e(T-v*x,O-v*A);x=l[1].getX()-l[3].getX(),A=l[1].getY()-l[3].getY(),T=(l[1].getX()+l[3].getX())/2,O=(l[1].getY()+l[3].getY())/2;let Z=new $e(T+v*x,O+v*A),te=new $e(T-v*x,O-v*A);return[k,Z,q,te]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=et.round(l.getX()),p=et.round(l.getY());return this.isValid(h,p)}distancePoint(l,h){return et.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return et.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class ht{decode(l,h=null){let p=null,v=new hs(l.getBlackMatrix()),x=null,A=null;try{let q=v.detectMirror(!1);x=q.getPoints(),this.reportFoundResultPoints(h,x),A=new wt().decode(q)}catch(q){p=q}if(A==null)try{let q=v.detectMirror(!0);x=q.getPoints(),this.reportFoundResultPoints(h,x),A=new wt().decode(q)}catch(q){throw p??q}let T=new Me(A.getText(),A.getRawBytes(),A.getNumBits(),x,Be.AZTEC,M.currentTimeMillis()),O=A.getByteSegments();O!=null&&T.putMetadata(vt.BYTE_SEGMENTS,O);let k=A.getECLevel();return k!=null&&T.putMetadata(vt.ERROR_CORRECTION_LEVEL,k),T}reportFoundResultPoints(l,h){if(l!=null){let p=l.get(G.NEED_RESULT_POINT_CALLBACK);p!=null&&h.forEach((v,x,A)=>{p.foundPossibleResultPoint(v)})}}reset(){}}class en extends Te{constructor(l=500){super(new ht,l)}}class Wt{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(G.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),A=this.doDecode(x,h),T=A.getResultMetadata();let O=270;T!==null&&T.get(vt.ORIENTATION)===!0&&(O=O+T.get(vt.ORIENTATION)%360),A.putMetadata(vt.ORIENTATION,O);const k=A.getResultPoints();if(k!==null){const q=x.getHeight();for(let Z=0;Z<k.length;Z++)k[Z]=new $e(q-k[Z].getY()-1,k[Z].getX())}return A}else throw new oe}}reset(){}doDecode(l,h){const p=l.getWidth(),v=l.getHeight();let x=new $(p);const A=h&&h.get(G.TRY_HARDER)===!0,T=Math.max(1,v>>(A?8:5));let O;A?O=v:O=15;const k=Math.trunc(v/2);for(let q=0;q<O;q++){const Z=Math.trunc((q+1)/2),te=(q&1)===0,ce=k+T*(te?Z:-Z);if(ce<0||ce>=v)break;try{x=l.getBlackRow(ce,x)}catch{continue}for(let he=0;he<2;he++){if(he===1&&(x.reverse(),h&&h.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const me=new Map;h.forEach((be,Ie)=>me.set(Ie,be)),me.delete(G.NEED_RESULT_POINT_CALLBACK),h=me}try{const me=this.decodeRow(ce,x,h);if(he===1){me.putMetadata(vt.ORIENTATION,180);const be=me.getResultPoints();be!==null&&(be[0]=new $e(p-be[0].getX()-1,be[0].getY()),be[1]=new $e(p-be[1].getX()-1,be[1].getY()))}return me}catch{}}}throw new oe}static recordPattern(l,h,p){const v=p.length;for(let k=0;k<v;k++)p[k]=0;const x=l.getSize();if(h>=x)throw new oe;let A=!l.get(h),T=0,O=h;for(;O<x;){if(l.get(O)!==A)p[T]++;else{if(++T===v)break;p[T]=1,A=!A}O++}if(!(T===v||T===v-1&&O===x))throw new oe}static recordPatternInReverse(l,h,p){let v=p.length,x=l.get(h);for(;h>0&&v>=0;)l.get(--h)!==x&&(v--,x=!x);if(v>=0)throw new oe;Wt.recordPattern(l,h+1,p)}static patternMatchVariance(l,h,p){const v=l.length;let x=0,A=0;for(let k=0;k<v;k++)x+=l[k],A+=h[k];if(x<A)return Number.POSITIVE_INFINITY;const T=x/A;p*=T;let O=0;for(let k=0;k<v;k++){const q=l[k],Z=h[k]*T,te=q>Z?q-Z:Z-q;if(te>p)return Number.POSITIVE_INFINITY;O+=te}return O/x}}class Ge extends Wt{static findStartPattern(l){const h=l.getSize(),p=l.getNextSet(0);let v=0,x=Int32Array.from([0,0,0,0,0,0]),A=p,T=!1;const O=6;for(let k=p;k<h;k++)if(l.get(k)!==T)x[v]++;else{if(v===O-1){let q=Ge.MAX_AVG_VARIANCE,Z=-1;for(let te=Ge.CODE_START_A;te<=Ge.CODE_START_C;te++){const ce=Wt.patternMatchVariance(x,Ge.CODE_PATTERNS[te],Ge.MAX_INDIVIDUAL_VARIANCE);ce<q&&(q=ce,Z=te)}if(Z>=0&&l.isRange(Math.max(0,A-(k-A)/2),A,!1))return Int32Array.from([A,k,Z]);A+=x[0]+x[1],x=x.slice(2,x.length-1),x[v-1]=0,x[v]=0,v--}else v++;x[v]=1,T=!T}throw new oe}static decodeCode(l,h,p){Wt.recordPattern(l,p,h);let v=Ge.MAX_AVG_VARIANCE,x=-1;for(let A=0;A<Ge.CODE_PATTERNS.length;A++){const T=Ge.CODE_PATTERNS[A],O=this.patternMatchVariance(h,T,Ge.MAX_INDIVIDUAL_VARIANCE);O<v&&(v=O,x=A)}if(x>=0)return x;throw new oe}decodeRow(l,h,p){const v=p&&p.get(G.ASSUME_GS1)===!0,x=Ge.findStartPattern(h),A=x[2];let T=0;const O=new Uint8Array(20);O[T++]=A;let k;switch(A){case Ge.CODE_START_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:k=Ge.CODE_CODE_C;break;default:throw new L}let q=!1,Z=!1,te="",ce=x[0],he=x[1];const me=Int32Array.from([0,0,0,0,0,0]);let be=0,Ie=0,Ye=A,We=0,ze=!0,Jt=!1,Ft=!1;for(;!q;){const rl=Z;switch(Z=!1,be=Ie,Ie=Ge.decodeCode(h,me,he),O[T++]=Ie,Ie!==Ge.CODE_STOP&&(ze=!0),Ie!==Ge.CODE_STOP&&(We++,Ye+=We*Ie),ce=he,he+=me.reduce((q0,Xh)=>q0+Xh,0),Ie){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new L}switch(k){case Ge.CODE_CODE_A:if(Ie<64)Ft===Jt?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ft=!1;else if(Ie<96)Ft===Jt?te+=String.fromCharCode(Ie-64):te+=String.fromCharCode(Ie+64),Ft=!1;else switch(Ie!==Ge.CODE_STOP&&(ze=!1),Ie){case Ge.CODE_FNC_1:v&&(te.length===0?te+="]C1":te+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!Jt&&Ft?(Jt=!0,Ft=!1):Jt&&Ft?(Jt=!1,Ft=!1):Ft=!0;break;case Ge.CODE_SHIFT:Z=!0,k=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:k=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:q=!0;break}break;case Ge.CODE_CODE_B:if(Ie<96)Ft===Jt?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ft=!1;else switch(Ie!==Ge.CODE_STOP&&(ze=!1),Ie){case Ge.CODE_FNC_1:v&&(te.length===0?te+="]C1":te+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!Jt&&Ft?(Jt=!0,Ft=!1):Jt&&Ft?(Jt=!1,Ft=!1):Ft=!0;break;case Ge.CODE_SHIFT:Z=!0,k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:k=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:q=!0;break}break;case Ge.CODE_CODE_C:if(Ie<100)Ie<10&&(te+="0"),te+=Ie;else switch(Ie!==Ge.CODE_STOP&&(ze=!1),Ie){case Ge.CODE_FNC_1:v&&(te.length===0?te+="]C1":te+="");break;case Ge.CODE_CODE_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:q=!0;break}break}rl&&(k=k===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const Rr=he-ce;if(he=h.getNextUnset(he),!h.isRange(he,Math.min(h.getSize(),he+(he-ce)/2),!1))throw new oe;if(Ye-=We*be,Ye%103!==be)throw new I;const wa=te.length;if(wa===0)throw new oe;wa>0&&ze&&(k===Ge.CODE_CODE_C?te=te.substring(0,wa-2):te=te.substring(0,wa-1));const Ti=(x[1]+x[0])/2,jn=ce+Rr/2,ni=O.length,ra=new Uint8Array(ni);for(let rl=0;rl<ni;rl++)ra[rl]=O[rl];const fc=[new $e(Ti,l),new $e(jn,l)];return new Me(te,ra,0,fc,Be.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class It extends Wt{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,p){let v=this.counters;v.fill(0),this.decodeRowResult="";let x=It.findAsteriskPattern(h,v),A=h.getNextSet(x[1]),T=h.getSize(),O,k;do{It.recordPattern(h,A,v);let me=It.toNarrowWidePattern(v);if(me<0)throw new oe;O=It.patternToChar(me),this.decodeRowResult+=O,k=A;for(let be of v)A+=be;A=h.getNextSet(A)}while(O!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let q=0;for(let me of v)q+=me;let Z=A-k-q;if(A!==T&&Z*2<q)throw new oe;if(this.usingCheckDigit){let me=this.decodeRowResult.length-1,be=0;for(let Ie=0;Ie<me;Ie++)be+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ie));if(this.decodeRowResult.charAt(me)!==It.ALPHABET_STRING.charAt(be%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,me)}if(this.decodeRowResult.length===0)throw new oe;let te;this.extendedMode?te=It.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let ce=(x[1]+x[0])/2,he=k+q/2;return new Me(te,null,0,[new $e(ce,l),new $e(he,l)],Be.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let p=l.getSize(),v=l.getNextSet(0),x=0,A=v,T=!1,O=h.length;for(let k=v;k<p;k++)if(l.get(k)!==T)h[x]++;else{if(x===O-1){if(this.toNarrowWidePattern(h)===It.ASTERISK_ENCODING&&l.isRange(Math.max(0,A-Math.floor((k-A)/2)),A,!1))return[A,k];A+=h[0]+h[1],h.copyWithin(0,2,2+x-1),h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,T=!T}throw new oe}static toNarrowWidePattern(l){let h=l.length,p=0,v;do{let x=2147483647;for(let O of l)O<x&&O>p&&(x=O);p=x,v=0;let A=0,T=0;for(let O=0;O<h;O++){let k=l[O];k>p&&(T|=1<<h-1-O,v++,A+=k)}if(v===3){for(let O=0;O<h&&v>0;O++){let k=l[O];if(k>p&&(v--,k*2>=A))return-1}return T}}while(v>3);return-1}static patternToChar(l){for(let h=0;h<It.CHARACTER_ENCODINGS.length;h++)if(It.CHARACTER_ENCODINGS[h]===l)return It.ALPHABET_STRING.charAt(h);if(l===It.ASTERISK_ENCODING)return"*";throw new oe}static decodeExtended(l){let h=l.length,p="";for(let v=0;v<h;v++){let x=l.charAt(v);if(x==="+"||x==="$"||x==="%"||x==="/"){let A=l.charAt(v+1),T="\0";switch(x){case"+":if(A>="A"&&A<="Z")T=String.fromCharCode(A.charCodeAt(0)+32);else throw new L;break;case"$":if(A>="A"&&A<="Z")T=String.fromCharCode(A.charCodeAt(0)-64);else throw new L;break;case"%":if(A>="A"&&A<="E")T=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")T=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")T=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")T=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")T="\0";else if(A==="V")T="@";else if(A==="W")T="`";else if(A==="X"||A==="Y"||A==="Z")T="";else throw new L;break;case"/":if(A>="A"&&A<="O")T=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")T=":";else throw new L;break}p+=T,v++}else p+=x}return p}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class xt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,p){let v=this.decodeStart(h),x=this.decodeEnd(h),A=new X;xt.decodeMiddle(h,v[1],x[0],A);let T=A.toString(),O=null;p!=null&&(O=p.get(G.ALLOWED_LENGTHS)),O==null&&(O=xt.DEFAULT_ALLOWED_LENGTHS);let k=T.length,q=!1,Z=0;for(let he of O){if(k===he){q=!0;break}he>Z&&(Z=he)}if(!q&&k>Z&&(q=!0),!q)throw new L;const te=[new $e(v[1],l),new $e(x[0],l)];return new Me(T,null,0,te,Be.ITF,new Date().getTime())}static decodeMiddle(l,h,p,v){let x=new Int32Array(10),A=new Int32Array(5),T=new Int32Array(5);for(x.fill(0),A.fill(0),T.fill(0);h<p;){Wt.recordPattern(l,h,x);for(let k=0;k<5;k++){let q=2*k;A[k]=x[q],T[k]=x[q+1]}let O=xt.decodeDigit(A);v.append(O.toString()),O=this.decodeDigit(T),v.append(O.toString()),x.forEach(function(k){h+=k})}}decodeStart(l){let h=xt.skipWhiteSpace(l),p=xt.findGuardPattern(l,h,xt.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,h){let p=this.narrowLineWidth*10;p=p<h?p:h;for(let v=h-1;p>0&&v>=0&&!l.get(v);v--)p--;if(p!==0)throw new oe}static skipWhiteSpace(l){const h=l.getSize(),p=l.getNextSet(0);if(p===h)throw new oe;return p}decodeEnd(l){l.reverse();try{let h=xt.skipWhiteSpace(l),p;try{p=xt.findGuardPattern(l,h,xt.END_PATTERN_REVERSED[0])}catch(x){x instanceof oe&&(p=xt.findGuardPattern(l,h,xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let v=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-v,p}finally{l.reverse()}}static findGuardPattern(l,h,p){let v=p.length,x=new Int32Array(v),A=l.getSize(),T=!1,O=0,k=h;x.fill(0);for(let q=h;q<A;q++)if(l.get(q)!==T)x[O]++;else{if(O===v-1){if(Wt.patternMatchVariance(x,p,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return[k,q];k+=x[0]+x[1],M.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,T=!T}throw new oe}static decodeDigit(l){let h=xt.MAX_AVG_VARIANCE,p=-1,v=xt.PATTERNS.length;for(let x=0;x<v;x++){let A=xt.PATTERNS[x],T=Wt.patternMatchVariance(l,A,xt.MAX_INDIVIDUAL_VARIANCE);T<h?(h=T,p=x):T===h&&(p=-1)}if(p>=0)return p%10;throw new oe}}xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],xt.MAX_AVG_VARIANCE=.38,xt.MAX_INDIVIDUAL_VARIANCE=.5,xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],xt.START_PATTERN=Int32Array.from([1,1,1,1]),xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,p,v=0,x=Int32Array.from([0,0,0]);for(;!h;){x=Int32Array.from([0,0,0]),p=un.findGuardPattern(l,v,!1,this.START_END_PATTERN,x);let A=p[0];v=p[1];let T=A-(v-A);T>=0&&(h=l.isRange(T,A,!1))}return p}static checkChecksum(l){return un.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let p=parseInt(l.charAt(h-1),10);return un.getStandardUPCEANChecksum(l.substring(0,h-1))===p}static getStandardUPCEANChecksum(l){let h=l.length,p=0;for(let v=h-1;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new L;p+=x}p*=3;for(let v=h-2;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new L;p+=x}return(1e3-p)%10}static decodeEnd(l,h){return un.findGuardPattern(l,h,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,p,v){return this.findGuardPattern(l,h,p,v,new Int32Array(v.length))}static findGuardPattern(l,h,p,v,x){let A=l.getSize();h=p?l.getNextUnset(h):l.getNextSet(h);let T=0,O=h,k=v.length,q=p;for(let Z=h;Z<A;Z++)if(l.get(Z)!==q)x[T]++;else{if(T===k-1){if(Wt.patternMatchVariance(x,v,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([O,Z]);O+=x[0]+x[1];let te=x.slice(2,x.length-1);for(let ce=0;ce<T-1;ce++)x[ce]=te[ce];x[T-1]=0,x[T]=0,T--}else T++;x[T]=1,q=!q}throw new oe}static decodeDigit(l,h,p,v){this.recordPattern(l,p,h);let x=this.MAX_AVG_VARIANCE,A=-1,T=v.length;for(let O=0;O<T;O++){let k=v[O],q=Wt.patternMatchVariance(h,k,un.MAX_INDIVIDUAL_VARIANCE);q<x&&(x=q,A=O)}if(A>=0)return A;throw new oe}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ei{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,p){let v=this.decodeRowStringBuffer,x=this.decodeMiddle(h,p,v),A=v.toString(),T=ei.parseExtensionString(A),O=[new $e((p[0]+p[1])/2,l),new $e(x,l)],k=new Me(A,null,0,O,Be.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&k.putAllMetadata(T),k}decodeMiddle(l,h,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),A=h[1],T=0;for(let k=0;k<5&&A<x;k++){let q=un.decodeDigit(l,v,A,un.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of v)A+=Z;q>=10&&(T|=1<<4-k),k!==4&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(p.length!==5)throw new oe;let O=this.determineCheckDigit(T);if(ei.extensionChecksum(p.toString())!==O)throw new oe;return A}static extensionChecksum(l){let h=l.length,p=0;for(let v=h-2;v>=0;v-=2)p+=l.charAt(v).charCodeAt(0)-48;p*=3;for(let v=h-1;v>=0;v-=2)p+=l.charAt(v).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new oe}static parseExtensionString(l){if(l.length!==5)return null;let h=ei.parseExtension5String(l);return h==null?null:new Map([[vt.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let p=parseInt(l.substring(1)),v=(p/100).toString(),x=p%100,A=x<10?"0"+x:x.toString();return h+v+"."+A}}class lo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,p){let v=this.decodeRowStringBuffer,x=this.decodeMiddle(h,p,v),A=v.toString(),T=lo.parseExtensionString(A),O=[new $e((p[0]+p[1])/2,l),new $e(x,l)],k=new Me(A,null,0,O,Be.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&k.putAllMetadata(T),k}decodeMiddle(l,h,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),A=h[1],T=0;for(let O=0;O<2&&A<x;O++){let k=un.decodeDigit(l,v,A,un.L_AND_G_PATTERNS);p+=String.fromCharCode(48+k%10);for(let q of v)A+=q;k>=10&&(T|=1<<1-O),O!==1&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(p.length!==2)throw new oe;if(parseInt(p.toString())%4!==T)throw new oe;return A}static parseExtensionString(l){return l.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(l)]])}}class Qi{static decodeRow(l,h,p){let v=un.findGuardPattern(h,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ei().decodeRow(l,h,v)}catch{return new lo().decodeRow(l,h,v)}}}Qi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Zt extends un{constructor(){super(),this.decodeRowStringBuffer="",Zt.L_AND_G_PATTERNS=Zt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=Zt.L_PATTERNS[l-10],p=new Int32Array(h.length);for(let v=0;v<h.length;v++)p[v]=h[h.length-v-1];Zt.L_AND_G_PATTERNS[l]=p}}decodeRow(l,h,p){let v=Zt.findStartGuardPattern(h),x=p==null?null:p.get(G.NEED_RESULT_POINT_CALLBACK);if(x!=null){const ze=new $e((v[0]+v[1])/2,l);x.foundPossibleResultPoint(ze)}let A=this.decodeMiddle(h,v,this.decodeRowStringBuffer),T=A.rowOffset,O=A.resultString;if(x!=null){const ze=new $e(T,l);x.foundPossibleResultPoint(ze)}let k=this.decodeEnd(h,T);if(x!=null){const ze=new $e((k[0]+k[1])/2,l);x.foundPossibleResultPoint(ze)}let q=k[1],Z=q+(q-k[0]);if(Z>=h.getSize()||!h.isRange(q,Z,!1))throw new oe;let te=O.toString();if(te.length<8)throw new L;if(!Zt.checkChecksum(te))throw new I;let ce=(v[1]+v[0])/2,he=(k[1]+k[0])/2,me=this.getBarcodeFormat(),be=[new $e(ce,l),new $e(he,l)],Ie=new Me(te,null,0,be,me,new Date().getTime()),Ye=0;try{let ze=Qi.decodeRow(l,h,k[1]);Ie.putMetadata(vt.UPC_EAN_EXTENSION,ze.getText()),Ie.putAllMetadata(ze.getResultMetadata()),Ie.addResultPoints(ze.getResultPoints()),Ye=ze.getText().length}catch{}let We=p==null?null:p.get(G.ALLOWED_EAN_EXTENSIONS);if(We!=null){let ze=!1;for(let Jt in We)if(Ye.toString()===Jt){ze=!0;break}if(!ze)throw new oe}return Ie}decodeEnd(l,h){return Zt.findGuardPattern(l,h,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Zt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let p=parseInt(l.charAt(h-1),10);return Zt.getStandardUPCEANChecksum(l.substring(0,h-1))===p}static getStandardUPCEANChecksum(l){let h=l.length,p=0;for(let v=h-1;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new L;p+=x}p*=3;for(let v=h-2;v>=0;v-=2){let x=l.charAt(v).charCodeAt(0)-48;if(x<0||x>9)throw new L;p+=x}return(1e3-p)%10}}class qn extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,p){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),A=h[1],T=0;for(let k=0;k<6&&A<x;k++){let q=Zt.decodeDigit(l,v,A,Zt.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of v)A+=Z;q>=10&&(T|=1<<5-k)}p=qn.determineFirstDigit(p,T),A=Zt.findGuardPattern(l,A,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&A<x;k++){let q=Zt.decodeDigit(l,v,A,Zt.L_PATTERNS);p+=String.fromCharCode(48+q);for(let Z of v)A+=Z}return{rowOffset:A,resultString:p}}getBarcodeFormat(){return Be.EAN_13}static determineFirstDigit(l,h){for(let p=0;p<10;p++)if(h===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new oe}}qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ka extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,p){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),A=h[1];for(let O=0;O<4&&A<x;O++){let k=Zt.decodeDigit(l,v,A,Zt.L_PATTERNS);p+=String.fromCharCode(48+k);for(let q of v)A+=q}A=Zt.findGuardPattern(l,A,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<4&&A<x;O++){let k=Zt.decodeDigit(l,v,A,Zt.L_PATTERNS);p+=String.fromCharCode(48+k);for(let q of v)A+=q}return{rowOffset:A,resultString:p}}getBarcodeFormat(){return Be.EAN_8}}class La extends Zt{constructor(){super(...arguments),this.ean13Reader=new qn}getBarcodeFormat(){return Be.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,p))}decodeMiddle(l,h,p){return this.ean13Reader.decodeMiddle(l,h,p)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let p=new Me(h.substring(1),null,null,l.getResultPoints(),Be.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new oe}reset(){this.ean13Reader.reset()}}class Ar extends Zt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,p){const v=this.decodeMiddleCounters.map(k=>k);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const x=l.getSize();let A=h[1],T=0;for(let k=0;k<6&&A<x;k++){const q=Ar.decodeDigit(l,v,A,Ar.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of v)A+=Z;q>=10&&(T|=1<<5-k)}let O=Ar.determineNumSysAndCheckDigit(p,T);return{rowOffset:A,resultString:O}}decodeEnd(l,h){return Ar.findGuardPatternWithoutCounters(l,h,!0,Ar.MIDDLE_END_PATTERN)}checkChecksum(l){return Zt.checkChecksum(Ar.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let p=0;p<=1;p++)for(let v=0;v<10;v++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][v]){let x=String.fromCharCode(48+p),A=String.fromCharCode(48+v);return x+l+A}throw oe.getNotFoundInstance()}getBarcodeFormat(){return Be.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),p=new X;p.append(l.charAt(0));let v=h[5];switch(v){case 0:case 1:case 2:p.appendChars(h,0,2),p.append(v),p.append("0000"),p.appendChars(h,2,3);break;case 3:p.appendChars(h,0,3),p.append("00000"),p.appendChars(h,3,2);break;case 4:p.appendChars(h,0,4),p.append("00000"),p.append(h[4]);break;default:p.appendChars(h,0,5),p.append("0000"),p.append(v);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Ar.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ar.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _u extends Wt{constructor(l){super();let h=l==null?null:l.get(G.POSSIBLE_FORMATS),p=[];r(h)?(p.push(new qn),p.push(new La),p.push(new ka),p.push(new Ar)):(h.indexOf(Be.EAN_13)>-1&&p.push(new qn),h.indexOf(Be.UPC_A)>-1&&p.push(new La),h.indexOf(Be.EAN_8)>-1&&p.push(new ka),h.indexOf(Be.UPC_E)>-1&&p.push(new Ar)),this.readers=p}decodeRow(l,h,p){for(let v of this.readers)try{const x=v.decodeRow(l,h,p),A=x.getBarcodeFormat()===Be.EAN_13&&x.getText().charAt(0)==="0",T=p==null?null:p.get(G.POSSIBLE_FORMATS),O=T==null||T.includes(Be.UPC_A);if(A&&O){const k=x.getRawBytes(),q=new Me(x.getText().substring(1),k,k?k.length:null,x.getResultPoints(),Be.UPC_A);return q.putAllMetadata(x.getResultMetadata()),q}return x}catch{}throw new oe}reset(){for(let l of this.readers)l.reset()}}class Lr extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let p=0;p<h.length;p++)if(Wt.patternMatchVariance(l,h[p],Lr.MAX_INDIVIDUAL_VARIANCE)<Lr.MAX_AVG_VARIANCE)return p;throw new oe}static count(l){return et.sum(new Int32Array(l))}static increment(l,h){let p=0,v=h[0];for(let x=1;x<l.length;x++)h[x]>v&&(v=h[x],p=x);l[p]++}static decrement(l,h){let p=0,v=h[0];for(let x=1;x<l.length;x++)h[x]<v&&(v=h[x],p=x);l[p]--}static isFinderPattern(l){let h=l[0]+l[1],p=h+l[2]+l[3],v=h/p;if(v>=Lr.MIN_FINDER_PATTERN_RATIO&&v<=Lr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let T of l)T>A&&(A=T),T<x&&(x=T);return A<10*x}return!1}}Lr.MAX_AVG_VARIANCE=.2,Lr.MAX_INDIVIDUAL_VARIANCE=.45,Lr.MIN_FINDER_PATTERN_RATIO=9.5/12,Lr.MAX_FINDER_PATTERN_RATIO=12.5/14;class vi{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof vi))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class co{constructor(l,h,p,v,x){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new $e(p,x)),this.resultPoints.push(new $e(v,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof co))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class ga{constructor(){}static getRSSvalue(l,h,p){let v=0;for(let O of l)v+=O;let x=0,A=0,T=l.length;for(let O=0;O<T-1;O++){let k;for(k=1,A|=1<<O;k<l[O];k++,A&=~(1<<O)){let q=ga.combins(v-k-1,T-O-2);if(p&&A===0&&v-k-(T-O-1)>=T-O-1&&(q-=ga.combins(v-k-(T-O),T-O-2)),T-O-1>1){let Z=0;for(let te=v-k-(T-O-2);te>h;te--)Z+=ga.combins(v-k-te-1,T-O-3);q-=Z*(T-1-O)}else v-k>h&&q--;x+=q}v-=k}return x}static combins(l,h){let p,v;l-h>h?(v=h,p=l-h):(v=l-h,p=h);let x=1,A=1;for(let T=l;T>p;T--)x*=T,A<=v&&(x/=A,A++);for(;A<=v;)x/=A,A++;return x}}class Gs{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let p=12*h,v=new $(p),x=0,T=l[0].getRightChar().getValue();for(let O=11;O>=0;--O)(T&1<<O)!=0&&v.set(x),x++;for(let O=1;O<l.length;++O){let k=l[O],q=k.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(q&1<<Z)!=0&&v.set(x),x++;if(k.getRightChar()!=null){let Z=k.getRightChar().getValue();for(let te=11;te>=0;--te)(Z&1<<te)!=0&&v.set(x),x++}}return v}}class ja{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $s{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Nr extends $s{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===Nr.FNC1}}Nr.FNC1="$";class xi extends $s{constructor(l,h,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class bi extends $s{constructor(l,h,p){if(super(l),h<0||h>10||p<0||p>10)throw new L;this.firstDigit=h,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===bi.FNC1}isSecondDigitFNC1(){return this.secondDigit===bi.FNC1}isAnyFNC1(){return this.firstDigit===bi.FNC1||this.secondDigit===bi.FNC1}}bi.FNC1=10;class Je{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new oe;let h=l.substring(0,2);for(let x of Je.TWO_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Je.VARIABLE_LENGTH?Je.processVariableAI(2,x[2],l):Je.processFixedAI(2,x[1],l);if(l.length<3)throw new oe;let p=l.substring(0,3);for(let x of Je.THREE_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Je.VARIABLE_LENGTH?Je.processVariableAI(3,x[2],l):Je.processFixedAI(3,x[1],l);for(let x of Je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Je.VARIABLE_LENGTH?Je.processVariableAI(4,x[2],l):Je.processFixedAI(4,x[1],l);if(l.length<4)throw new oe;let v=l.substring(0,4);for(let x of Je.FOUR_DIGIT_DATA_LENGTH)if(x[0]===v)return x[1]===Je.VARIABLE_LENGTH?Je.processVariableAI(4,x[2],l):Je.processFixedAI(4,x[1],l);throw new oe}static processFixedAI(l,h,p){if(p.length<l)throw new oe;let v=p.substring(0,l);if(p.length<l+h)throw new oe;let x=p.substring(l,l+h),A=p.substring(l+h),T="("+v+")"+x,O=Je.parseFieldsInGeneralPurpose(A);return O==null?T:T+O}static processVariableAI(l,h,p){let v=p.substring(0,l),x;p.length<l+h?x=p.length:x=l+h;let A=p.substring(l,x),T=p.substring(x),O="("+v+")"+A,k=Je.parseFieldsInGeneralPurpose(T);return k==null?O:O+k}}Je.VARIABLE_LENGTH=[],Je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Je.VARIABLE_LENGTH,20],["22",Je.VARIABLE_LENGTH,29],["30",Je.VARIABLE_LENGTH,8],["37",Je.VARIABLE_LENGTH,8],["90",Je.VARIABLE_LENGTH,30],["91",Je.VARIABLE_LENGTH,30],["92",Je.VARIABLE_LENGTH,30],["93",Je.VARIABLE_LENGTH,30],["94",Je.VARIABLE_LENGTH,30],["95",Je.VARIABLE_LENGTH,30],["96",Je.VARIABLE_LENGTH,30],["97",Je.VARIABLE_LENGTH,3],["98",Je.VARIABLE_LENGTH,30],["99",Je.VARIABLE_LENGTH,30]],Je.THREE_DIGIT_DATA_LENGTH=[["240",Je.VARIABLE_LENGTH,30],["241",Je.VARIABLE_LENGTH,30],["242",Je.VARIABLE_LENGTH,6],["250",Je.VARIABLE_LENGTH,30],["251",Je.VARIABLE_LENGTH,30],["253",Je.VARIABLE_LENGTH,17],["254",Je.VARIABLE_LENGTH,20],["400",Je.VARIABLE_LENGTH,30],["401",Je.VARIABLE_LENGTH,30],["402",17],["403",Je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Je.VARIABLE_LENGTH,20],["421",Je.VARIABLE_LENGTH,15],["422",3],["423",Je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Je.VARIABLE_LENGTH,15],["391",Je.VARIABLE_LENGTH,18],["392",Je.VARIABLE_LENGTH,15],["393",Je.VARIABLE_LENGTH,18],["703",Je.VARIABLE_LENGTH,30]],Je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Je.VARIABLE_LENGTH,20],["8003",Je.VARIABLE_LENGTH,30],["8004",Je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Je.VARIABLE_LENGTH,30],["8008",Je.VARIABLE_LENGTH,12],["8018",18],["8020",Je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Je.VARIABLE_LENGTH,70],["8200",Je.VARIABLE_LENGTH,70]];class ci{constructor(l){this.buffer=new X,this.information=l}decodeAllCodes(l,h){let p=h,v=null;do{let x=this.decodeGeneralPurposeField(p,v),A=Je.parseFieldsInGeneralPurpose(x.getNewString());if(A!=null&&l.append(A),x.isRemaining()?v=""+x.getRemainingValue():v=null,p===x.getNewPosition())break;p=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new bi(this.information.getSize(),bi.FNC1,bi.FNC1):new bi(this.information.getSize(),x-1,bi.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),p=(h-8)/11,v=(h-8)%11;return new bi(l+7,p,v)}extractNumericValueFromBitArray(l,h){return ci.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,p){let v=0;for(let x=0;x<p;++x)l.get(h+x)&&(v|=1<<p-x-1);return v}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new xi(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new xi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let p=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new xi(this.current.getPosition(),this.buffer.toString()):h=new xi(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new ja(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new xi(this.current.getPosition(),this.buffer.toString());return new ja(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ja(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new xi(this.current.getPosition(),this.buffer.toString());return new ja(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ja(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new xi(this.current.getPosition(),this.buffer.toString());return new ja(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ja(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(l,8);return v>=232&&v<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new Nr(l+5,Nr.FNC1);if(h>=5&&h<15)return new Nr(l+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new Nr(l+7,""+(p+1));if(p>=90&&p<116)return new Nr(l+7,""+(p+7));let v=this.extractNumericValueFromBitArray(l,8),x;switch(v){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new L}return new Nr(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new Nr(l+5,Nr.FNC1);if(h>=5&&h<15)return new Nr(l+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new Nr(l+6,""+(p+33));let v;switch(p){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new dt("Decoding invalid alphanumeric value: "+p)}return new Nr(l+6,v)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class pr{constructor(l){this.information=l,this.generalDecoder=new ci(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class _n extends pr{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,p)}encodeCompressedGtinWithoutAI(l,h,p){for(let v=0;v<4;++v){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*v,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}_n.appendCheckDigit(l,p)}static appendCheckDigit(l,h){let p=0;for(let v=0;v<13;v++){let x=l.charAt(v+h).charCodeAt(0)-48;p+=(v&1)===0?3*x:x}p=10-p%10,p===10&&(p=0),l.append(p)}}_n.GTIN_SIZE=40;class wi extends _n{constructor(l){super(l)}parseInformation(){let l=new X;l.append("(01)");let h=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,wi.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,wi.HEADER_SIZE+44)}}wi.HEADER_SIZE=4;class zo extends pr{constructor(l){super(l)}parseInformation(){let l=new X;return this.getGeneralDecoder().decodeAllCodes(l,zo.HEADER_SIZE)}}zo.HEADER_SIZE=5;class ic extends _n{constructor(l){super(l)}encodeCompressedWeight(l,h,p){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h,p);this.addWeightCode(l,v);let x=this.checkWeight(v),A=1e5;for(let T=0;T<5;++T)x/A===0&&l.append("0"),A/=10;l.append(x)}}class Ji extends ic{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Ji.HEADER_SIZE+ic.GTIN_SIZE+Ji.WEIGHT_SIZE)throw new oe;let l=new X;return this.encodeCompressedGtin(l,Ji.HEADER_SIZE),this.encodeCompressedWeight(l,Ji.HEADER_SIZE+ic.GTIN_SIZE,Ji.WEIGHT_SIZE),l.toString()}}Ji.HEADER_SIZE=5,Ji.WEIGHT_SIZE=15;class Pf extends Ji{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class uo extends Ji{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class _i extends _n{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<_i.HEADER_SIZE+_n.GTIN_SIZE)throw new oe;let l=new X;this.encodeCompressedGtin(l,_i.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(_i.HEADER_SIZE+_n.GTIN_SIZE,_i.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(_i.HEADER_SIZE+_n.GTIN_SIZE+_i.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}_i.HEADER_SIZE=8,_i.LAST_DIGIT_SIZE=2;class rr extends _n{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<rr.HEADER_SIZE+_n.GTIN_SIZE)throw new oe;let l=new X;this.encodeCompressedGtin(l,rr.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(rr.HEADER_SIZE+_n.GTIN_SIZE,rr.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(rr.HEADER_SIZE+_n.GTIN_SIZE+rr.LAST_DIGIT_SIZE,rr.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let v=this.getGeneralDecoder().decodeGeneralPurposeField(rr.HEADER_SIZE+_n.GTIN_SIZE+rr.LAST_DIGIT_SIZE+rr.FIRST_THREE_DIGITS_SIZE,null);return l.append(v.getNewString()),l.toString()}}rr.HEADER_SIZE=8,rr.LAST_DIGIT_SIZE=2,rr.FIRST_THREE_DIGITS_SIZE=10;class rn extends ic{constructor(l,h,p){super(l),this.dateCode=p,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE+rn.DATE_SIZE)throw new oe;let l=new X;return this.encodeCompressedGtin(l,rn.HEADER_SIZE),this.encodeCompressedWeight(l,rn.HEADER_SIZE+rn.GTIN_SIZE,rn.WEIGHT_SIZE),this.encodeCompressedDate(l,rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(h,rn.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let v=p%32;p/=32;let x=p%12+1;p/=12;let A=p;A/10==0&&l.append("0"),l.append(A),x/10==0&&l.append("0"),l.append(x),v/10==0&&l.append("0"),l.append(v)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}rn.HEADER_SIZE=8,rn.WEIGHT_SIZE=20,rn.DATE_SIZE=16;function ki(J){try{if(J.get(1))return new wi(J);if(!J.get(2))return new zo(J);switch(ci.extractNumericValueFromBitArray(J,1,4)){case 4:return new Pf(J);case 5:return new uo(J)}switch(ci.extractNumericValueFromBitArray(J,1,5)){case 12:return new _i(J);case 13:return new rr(J)}switch(ci.extractNumericValueFromBitArray(J,1,7)){case 56:return new rn(J,"310","11");case 57:return new rn(J,"320","11");case 58:return new rn(J,"310","13");case 59:return new rn(J,"320","13");case 60:return new rn(J,"310","15");case 61:return new rn(J,"320","15");case 62:return new rn(J,"310","17");case 63:return new rn(J,"320","17")}}catch(l){throw console.log(l),new dt("unknown decoder: "+J)}}class ti{constructor(l,h,p,v){this.leftchar=l,this.rightchar=h,this.finderpattern=p,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof ti?ti.equalsOrNull(l.leftchar,h.leftchar)&&ti.equalsOrNull(l.rightchar,h.rightchar)&&ti.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:ti.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class mr{constructor(l,h,p){this.pairs=l,this.rowNumber=h,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof mr?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let p;return l.forEach((v,x)=>{h.forEach(A=>{v.getLeftChar().getValue()===A.getLeftChar().getValue()&&v.getRightChar().getValue()===A.getRightChar().getValue()&&v.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(p=!0)})}),p}}class Fe extends Lr{constructor(l){super(...arguments),this.pairs=new Array(Fe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,p){this.pairs.length=0,this.startFromEven=!1;try{return Fe.constructResult(this.decodeRow2pairs(l,h))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,Fe.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(x){if(x instanceof oe){if(!this.pairs.length)throw new oe;p=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(l,!1),v){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new oe}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let p=h;p<this.rows.length;p++){let v=this.rows[p];this.pairs.length=0;for(let A of l)this.pairs.push(A.getPairs());if(this.pairs.push(v.getPairs()),!Fe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(v);try{return this.checkRows(x,p+1)}catch(A){this.verbose&&console.log(A)}}throw new oe}static isValidSequence(l){for(let h of Fe.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let p=!0;for(let v=0;v<l.length;v++)if(l[v].getFinderPattern().getValue()!=h[v]){p=!1;break}if(p)return!0}return!1}storeRow(l,h){let p=0,v=!1,x=!1;for(;p<this.rows.length;){let A=this.rows[p];if(A.getRowNumber()>l){x=A.isEquivalent(this.pairs);break}v=A.isEquivalent(this.pairs),p++}x||v||Fe.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new mr(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let p of h)if(p.getPairs().length!==l.length){for(let v of p.getPairs())for(let x of l)if(ti.equals(v,x))break}}static isPartialRow(l,h){for(let p of h){let v=!0;for(let x of l){let A=!1;for(let T of p.getPairs())if(x.equals(T)){A=!0;break}if(!A){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=Gs.buildBitArray(l),v=ki(h).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),A=l[l.length-1].getFinderPattern().getResultPoints(),T=[x[0],x[1],A[0],A[1]];return new Me(v,null,null,T,Be.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let v=p.getChecksumPortion(),x=2;for(let T=1;T<this.pairs.size();++T){let O=this.pairs.get(T);v+=O.getLeftChar().getChecksumPortion(),x++;let k=O.getRightChar();k!=null&&(v+=k.getChecksumPortion(),x++)}return v%=211,211*(x-4)+v==h.getValue()}static getNextSecondBar(l,h){let p;return l.get(h)?(p=l.getNextUnset(h),p=l.getNextSet(p)):(p=l.getNextSet(h),p=l.getNextUnset(p)),p}retrieveNextPair(l,h,p){let v=h.length%2==0;this.startFromEven&&(v=!v);let x,A=!0,T=-1;do this.findNextPair(l,h,T),x=this.parseFoundFinderPattern(l,p,v),x==null?T=Fe.getNextSecondBar(l,this.startEnd[0]):A=!1;while(A);let O=this.decodeDataCharacter(l,x,v,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new oe;let k;try{k=this.decodeDataCharacter(l,x,v,!1)}catch(q){k=null,this.verbose&&console.log(q)}return new ti(O,k,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,p){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let x=l.getSize(),A;p>=0?A=p:this.isEmptyPair(h)?A=0:A=h[h.length-1].getFinderPattern().getStartEnd()[1];let T=h.length%2!=0;this.startFromEven&&(T=!T);let O=!1;for(;A<x&&(O=!l.get(A),!!O);)A++;let k=0,q=A;for(let Z=A;Z<x;Z++)if(l.get(Z)!=O)v[k]++;else{if(k==3){if(T&&Fe.reverseCounters(v),Fe.isFinderPattern(v)){this.startEnd[0]=q,this.startEnd[1]=Z;return}T&&Fe.reverseCounters(v),q+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,k--}else k++;v[k]=1,O=!O}throw new oe}static reverseCounters(l){let h=l.length;for(let p=0;p<h/2;++p){let v=l[p];l[p]=l[h-p-1],l[h-p-1]=v}}parseFoundFinderPattern(l,h,p){let v,x,A;if(p){let k=this.startEnd[0]-1;for(;k>=0&&!l.get(k);)k--;k++,v=this.startEnd[0]-k,x=k,A=this.startEnd[1]}else x=this.startEnd[0],A=l.getNextUnset(this.startEnd[1]+1),v=A-this.startEnd[1];let T=this.getDecodeFinderCounters();M.arraycopy(T,0,T,1,T.length-1),T[0]=v;let O;try{O=this.parseFinderValue(T,Fe.FINDER_PATTERNS)}catch{return null}return new co(O,[x,A],x,A,h)}decodeDataCharacter(l,h,p,v){let x=this.getDataCharacterCounters();for(let jn=0;jn<x.length;jn++)x[jn]=0;if(v)Fe.recordPatternInReverse(l,h.getStartEnd()[0],x);else{Fe.recordPattern(l,h.getStartEnd()[1],x);for(let jn=0,ni=x.length-1;jn<ni;jn++,ni--){let ra=x[jn];x[jn]=x[ni],x[ni]=ra}}let A=17,T=et.sum(new Int32Array(x))/A,O=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(T-O)/O>.3)throw new oe;let k=this.getOddCounts(),q=this.getEvenCounts(),Z=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let jn=0;jn<x.length;jn++){let ni=1*x[jn]/T,ra=ni+.5;if(ra<1){if(ni<.3)throw new oe;ra=1}else if(ra>8){if(ni>8.7)throw new oe;ra=8}let fc=jn/2;(jn&1)==0?(k[fc]=ra,Z[fc]=ni-ra):(q[fc]=ra,te[fc]=ni-ra)}this.adjustOddEvenCounts(A);let ce=4*h.getValue()+(p?0:2)+(v?0:1)-1,he=0,me=0;for(let jn=k.length-1;jn>=0;jn--){if(Fe.isNotA1left(h,p,v)){let ni=Fe.WEIGHTS[ce][2*jn];me+=k[jn]*ni}he+=k[jn]}let be=0;for(let jn=q.length-1;jn>=0;jn--)if(Fe.isNotA1left(h,p,v)){let ni=Fe.WEIGHTS[ce][2*jn+1];be+=q[jn]*ni}let Ie=me+be;if((he&1)!=0||he>13||he<4)throw new oe;let Ye=(13-he)/2,We=Fe.SYMBOL_WIDEST[Ye],ze=9-We,Jt=ga.getRSSvalue(k,We,!0),Ft=ga.getRSSvalue(q,ze,!1),Rr=Fe.EVEN_TOTAL_SUBSET[Ye],wa=Fe.GSUM[Ye],Ti=Jt*Rr+Ft+wa;return new vi(Ti,Ie)}static isNotA1left(l,h,p){return!(l.getValue()==0&&h&&p)}adjustOddEvenCounts(l){let h=et.sum(new Int32Array(this.getOddCounts())),p=et.sum(new Int32Array(this.getEvenCounts())),v=!1,x=!1;h>13?x=!0:h<4&&(v=!0);let A=!1,T=!1;p>13?T=!0:p<4&&(A=!0);let O=h+p-l,k=(h&1)==1,q=(p&1)==0;if(O==1)if(k){if(q)throw new oe;x=!0}else{if(!q)throw new oe;T=!0}else if(O==-1)if(k){if(q)throw new oe;v=!0}else{if(!q)throw new oe;A=!0}else if(O==0){if(k){if(!q)throw new oe;h<p?(v=!0,T=!0):(x=!0,A=!0)}else if(q)throw new oe}else throw new oe;if(v){if(x)throw new oe;Fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(T)throw new oe;Fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Fe.SYMBOL_WIDEST=[7,5,4,3,1],Fe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Fe.GSUM=[0,348,1388,2948,3988],Fe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Fe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Fe.FINDER_PAT_A=0,Fe.FINDER_PAT_B=1,Fe.FINDER_PAT_C=2,Fe.FINDER_PAT_D=3,Fe.FINDER_PAT_E=4,Fe.FINDER_PAT_F=5,Fe.FINDER_PATTERN_SEQUENCES=[[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_C,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_C],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_E],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F]],Fe.MAX_PAIRS=11;class Au extends vi{constructor(l,h,p){super(l,h),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class An extends Lr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,p){const v=this.decodePair(h,!1,l,p);An.addOrTally(this.possibleLeftPairs,v),h.reverse();let x=this.decodePair(h,!0,l,p);An.addOrTally(this.possibleRightPairs,x),h.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&An.checkChecksum(A,T))return An.constructResult(A,T)}throw new oe}static addOrTally(l,h){if(h==null)return;let p=!1;for(let v of l)if(v.getValue()===h.getValue()){v.incrementCount(),p=!0;break}p||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let p=4537077*l.getValue()+h.getValue(),v=new String(p).toString(),x=new X;for(let k=13-v.length;k>0;k--)x.append("0");x.append(v);let A=0;for(let k=0;k<13;k++){let q=x.charAt(k).charCodeAt(0)-48;A+=(k&1)===0?3*q:q}A=10-A%10,A===10&&(A=0),x.append(A.toString());let T=l.getFinderPattern().getResultPoints(),O=h.getFinderPattern().getResultPoints();return new Me(x.toString(),null,0,[T[0],T[1],O[0],O[1]],Be.RSS_14,new Date().getTime())}static checkChecksum(l,h){let p=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,v=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,p===v}decodePair(l,h,p,v){try{let x=this.findFinderPattern(l,h),A=this.parseFoundFinderPattern(l,p,h,x),T=v==null?null:v.get(G.NEED_RESULT_POINT_CALLBACK);if(T!=null){let q=(x[0]+x[1])/2;h&&(q=l.getSize()-1-q),T.foundPossibleResultPoint(new $e(q,p))}let O=this.decodeDataCharacter(l,A,!0),k=this.decodeDataCharacter(l,A,!1);return new Au(1597*O.getValue()+k.getValue(),O.getChecksumPortion()+4*k.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(l,h,p){let v=this.getDataCharacterCounters();for(let be=0;be<v.length;be++)v[be]=0;if(p)Wt.recordPatternInReverse(l,h.getStartEnd()[0],v);else{Wt.recordPattern(l,h.getStartEnd()[1]+1,v);for(let be=0,Ie=v.length-1;be<Ie;be++,Ie--){let Ye=v[be];v[be]=v[Ie],v[Ie]=Ye}}let x=p?16:15,A=et.sum(new Int32Array(v))/x,T=this.getOddCounts(),O=this.getEvenCounts(),k=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let be=0;be<v.length;be++){let Ie=v[be]/A,Ye=Math.floor(Ie+.5);Ye<1?Ye=1:Ye>8&&(Ye=8);let We=Math.floor(be/2);(be&1)===0?(T[We]=Ye,k[We]=Ie-Ye):(O[We]=Ye,q[We]=Ie-Ye)}this.adjustOddEvenCounts(p,x);let Z=0,te=0;for(let be=T.length-1;be>=0;be--)te*=9,te+=T[be],Z+=T[be];let ce=0,he=0;for(let be=O.length-1;be>=0;be--)ce*=9,ce+=O[be],he+=O[be];let me=te+3*ce;if(p){if((Z&1)!==0||Z>12||Z<4)throw new oe;let be=(12-Z)/2,Ie=An.OUTSIDE_ODD_WIDEST[be],Ye=9-Ie,We=ga.getRSSvalue(T,Ie,!1),ze=ga.getRSSvalue(O,Ye,!0),Jt=An.OUTSIDE_EVEN_TOTAL_SUBSET[be],Ft=An.OUTSIDE_GSUM[be];return new vi(We*Jt+ze+Ft,me)}else{if((he&1)!==0||he>10||he<4)throw new oe;let be=(10-he)/2,Ie=An.INSIDE_ODD_WIDEST[be],Ye=9-Ie,We=ga.getRSSvalue(T,Ie,!0),ze=ga.getRSSvalue(O,Ye,!1),Jt=An.INSIDE_ODD_TOTAL_SUBSET[be],Ft=An.INSIDE_GSUM[be];return new vi(ze*Jt+We+Ft,me)}}findFinderPattern(l,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let v=l.getSize(),x=!1,A=0;for(;A<v&&(x=!l.get(A),h!==x);)A++;let T=0,O=A;for(let k=A;k<v;k++)if(l.get(k)!==x)p[T]++;else{if(T===3){if(Lr.isFinderPattern(p))return[O,k];O+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,x=!x}throw new oe}parseFoundFinderPattern(l,h,p,v){let x=l.get(v[0]),A=v[0]-1;for(;A>=0&&x!==l.get(A);)A--;A++;const T=v[0]-A,O=this.getDecodeFinderCounters(),k=new Int32Array(O.length);M.arraycopy(O,0,k,1,O.length-1),k[0]=T;const q=this.parseFinderValue(k,An.FINDER_PATTERNS);let Z=A,te=v[1];return p&&(Z=l.getSize()-1-Z,te=l.getSize()-1-te),new co(q,[A,v[1]],Z,te,h)}adjustOddEvenCounts(l,h){let p=et.sum(new Int32Array(this.getOddCounts())),v=et.sum(new Int32Array(this.getEvenCounts())),x=!1,A=!1,T=!1,O=!1;l?(p>12?A=!0:p<4&&(x=!0),v>12?O=!0:v<4&&(T=!0)):(p>11?A=!0:p<5&&(x=!0),v>10?O=!0:v<4&&(T=!0));let k=p+v-h,q=(p&1)===(l?1:0),Z=(v&1)===1;if(k===1)if(q){if(Z)throw new oe;A=!0}else{if(!Z)throw new oe;O=!0}else if(k===-1)if(q){if(Z)throw new oe;x=!0}else{if(!Z)throw new oe;T=!0}else if(k===0){if(q){if(!Z)throw new oe;p<v?(x=!0,O=!0):(A=!0,T=!0)}else if(Z)throw new oe}else throw new oe;if(x){if(A)throw new oe;Lr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&Lr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(O)throw new oe;Lr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&Lr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}An.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],An.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],An.OUTSIDE_GSUM=[0,161,961,2015,2715],An.INSIDE_GSUM=[0,336,1036,1516],An.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],An.INSIDE_ODD_WIDEST=[2,4,6,8],An.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ai extends Wt{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const p=l?l.get(G.POSSIBLE_FORMATS):null,v=l&&l.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(Be.EAN_13)||p.includes(Be.UPC_A)||p.includes(Be.EAN_8)||p.includes(Be.UPC_E))&&this.readers.push(new _u(l)),p.includes(Be.CODE_39)&&this.readers.push(new It(v)),p.includes(Be.CODE_128)&&this.readers.push(new Ge),p.includes(Be.ITF)&&this.readers.push(new xt),p.includes(Be.RSS_14)&&this.readers.push(new An),p.includes(Be.RSS_EXPANDED)&&this.readers.push(new Fe(this.verbose))):(this.readers.push(new _u(l)),this.readers.push(new It),this.readers.push(new _u(l)),this.readers.push(new Ge),this.readers.push(new xt),this.readers.push(new An),this.readers.push(new Fe(this.verbose)))}decodeRow(l,h,p){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(l,h,p)}catch{}throw new oe}reset(){this.readers.forEach(l=>l.reset())}}class Eu extends Te{constructor(l=500,h){super(new Ai(h),l,h)}}class fn{constructor(l,h,p){this.ecCodewords=l,this.ecBlocks=[h],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class an{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qt{constructor(l,h,p,v,x,A){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=p,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=x,this.ecBlocks=A;let T=0;const O=A.getECCodewords(),k=A.getECBlocks();for(let q of k)T+=q.getCount()*(q.getDataCodewords()+O);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new L;for(let p of Qt.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===h)return p;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Qt(1,10,10,8,8,new fn(5,new an(1,3))),new Qt(2,12,12,10,10,new fn(7,new an(1,5))),new Qt(3,14,14,12,12,new fn(10,new an(1,8))),new Qt(4,16,16,14,14,new fn(12,new an(1,12))),new Qt(5,18,18,16,16,new fn(14,new an(1,18))),new Qt(6,20,20,18,18,new fn(18,new an(1,22))),new Qt(7,22,22,20,20,new fn(20,new an(1,30))),new Qt(8,24,24,22,22,new fn(24,new an(1,36))),new Qt(9,26,26,24,24,new fn(28,new an(1,44))),new Qt(10,32,32,14,14,new fn(36,new an(1,62))),new Qt(11,36,36,16,16,new fn(42,new an(1,86))),new Qt(12,40,40,18,18,new fn(48,new an(1,114))),new Qt(13,44,44,20,20,new fn(56,new an(1,144))),new Qt(14,48,48,22,22,new fn(68,new an(1,174))),new Qt(15,52,52,24,24,new fn(42,new an(2,102))),new Qt(16,64,64,14,14,new fn(56,new an(2,140))),new Qt(17,72,72,16,16,new fn(36,new an(4,92))),new Qt(18,80,80,18,18,new fn(48,new an(4,114))),new Qt(19,88,88,20,20,new fn(56,new an(4,144))),new Qt(20,96,96,22,22,new fn(68,new an(4,174))),new Qt(21,104,104,24,24,new fn(56,new an(6,136))),new Qt(22,120,120,18,18,new fn(68,new an(6,175))),new Qt(23,132,132,20,20,new fn(62,new an(8,163))),new Qt(24,144,144,22,22,new fn(62,new an(8,156),new an(2,155))),new Qt(25,8,18,6,16,new fn(7,new an(1,5))),new Qt(26,8,32,6,14,new fn(11,new an(1,10))),new Qt(27,12,26,10,24,new fn(14,new an(1,16))),new Qt(28,12,36,10,16,new fn(18,new an(1,22))),new Qt(29,16,36,14,16,new fn(24,new an(1,32))),new Qt(30,16,48,14,22,new fn(28,new an(1,49)))]}}Qt.VERSIONS=Qt.buildVersions();class ps{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new L;this.version=ps.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ge(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),p=l.getWidth();return Qt.getVersionForDimensions(h,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,p=4,v=0;const x=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let T=!1,O=!1,k=!1,q=!1;do if(p===x&&v===0&&!T)l[h++]=this.readCorner1(x,A)&255,p-=2,v+=2,T=!0;else if(p===x-2&&v===0&&(A&3)!==0&&!O)l[h++]=this.readCorner2(x,A)&255,p-=2,v+=2,O=!0;else if(p===x+4&&v===2&&(A&7)===0&&!k)l[h++]=this.readCorner3(x,A)&255,p-=2,v+=2,k=!0;else if(p===x-2&&v===0&&(A&7)===4&&!q)l[h++]=this.readCorner4(x,A)&255,p-=2,v+=2,q=!0;else{do p<x&&v>=0&&!this.readMappingMatrix.get(v,p)&&(l[h++]=this.readUtah(p,v,x,A)&255),p-=2,v+=2;while(p>=0&&v<A);p+=1,v+=3;do p>=0&&v<A&&!this.readMappingMatrix.get(v,p)&&(l[h++]=this.readUtah(p,v,x,A)&255),p+=2,v-=2;while(p<x&&v>=0);p+=3,v+=1}while(p<x||v<A);if(h!==this.version.getTotalCodewords())throw new L;return l}readModule(l,h,p,v){return l<0&&(l+=p,h+=4-(p+4&7)),h<0&&(h+=v,l+=4-(v+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,p,v){let x=0;return this.readModule(l-2,h-2,p,v)&&(x|=1),x<<=1,this.readModule(l-2,h-1,p,v)&&(x|=1),x<<=1,this.readModule(l-1,h-2,p,v)&&(x|=1),x<<=1,this.readModule(l-1,h-1,p,v)&&(x|=1),x<<=1,this.readModule(l-1,h,p,v)&&(x|=1),x<<=1,this.readModule(l,h-2,p,v)&&(x|=1),x<<=1,this.readModule(l,h-1,p,v)&&(x|=1),x<<=1,this.readModule(l,h,p,v)&&(x|=1),x}readCorner1(l,h){let p=0;return this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,1,l,h)&&(p|=1),p<<=1,this.readModule(l-1,2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(2,h-1,l,h)&&(p|=1),p<<=1,this.readModule(3,h-1,l,h)&&(p|=1),p}readCorner2(l,h){let p=0;return this.readModule(l-3,0,l,h)&&(p|=1),p<<=1,this.readModule(l-2,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(0,h-4,l,h)&&(p|=1),p<<=1,this.readModule(0,h-3,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p}readCorner3(l,h){let p=0;return this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(0,h-3,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-3,l,h)&&(p|=1),p<<=1,this.readModule(1,h-2,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p}readCorner4(l,h){let p=0;return this.readModule(l-3,0,l,h)&&(p|=1),p<<=1,this.readModule(l-2,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(2,h-1,l,h)&&(p|=1),p<<=1,this.readModule(3,h-1,l,h)&&(p|=1),p}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new y("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),A=h/v|0,T=p/x|0,O=A*v,k=T*x,q=new ge(k,O);for(let Z=0;Z<A;++Z){const te=Z*v;for(let ce=0;ce<T;++ce){const he=ce*x;for(let me=0;me<v;++me){const be=Z*(v+2)+1+me,Ie=te+me;for(let Ye=0;Ye<x;++Ye){const We=ce*(x+2)+1+Ye;if(l.get(We,be)){const ze=he+Ye;q.set(ze,Ie)}}}}}return q}}class Ei{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const p=h.getECBlocks();let v=0;const x=p.getECBlocks();for(let me of x)v+=me.getCount();const A=new Array(v);let T=0;for(let me of x)for(let be=0;be<me.getCount();be++){const Ie=me.getDataCodewords(),Ye=p.getECCodewords()+Ie;A[T++]=new Ei(Ie,new Uint8Array(Ye))}const k=A[0].codewords.length-p.getECCodewords(),q=k-1;let Z=0;for(let me=0;me<q;me++)for(let be=0;be<T;be++)A[be].codewords[me]=l[Z++];const te=h.getVersionNumber()===24,ce=te?8:T;for(let me=0;me<ce;me++)A[me].codewords[k-1]=l[Z++];const he=A[0].codewords.length;for(let me=k;me<he;me++)for(let be=0;be<T;be++){const Ie=te?(be+8)%T:be,Ye=te&&Ie>7?me-1:me;A[Ie].codewords[Ye]=l[Z++]}if(Z!==l.length)throw new y;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gr{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new y(""+l);let h=0,p=this.bitOffset,v=this.byteOffset;const x=this.bytes;if(p>0){const A=8-p,T=l<A?l:A,O=A-T,k=255>>8-T<<O;h=(x[v]&k)>>O,l-=T,p+=T,p===8&&(p=0,v++)}if(l>0){for(;l>=8;)h=h<<8|x[v]&255,v++,l-=8;if(l>0){const A=8-l,T=255>>A<<A;h=h<<l|(x[v]&T)>>A,p+=l}}return this.bitOffset=p,this.byteOffset=v,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var tn;(function(J){J[J.PAD_ENCODE=0]="PAD_ENCODE",J[J.ASCII_ENCODE=1]="ASCII_ENCODE",J[J.C40_ENCODE=2]="C40_ENCODE",J[J.TEXT_ENCODE=3]="TEXT_ENCODE",J[J.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",J[J.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",J[J.BASE256_ENCODE=6]="BASE256_ENCODE"})(tn||(tn={}));class Si{static decode(l){const h=new gr(l),p=new X,v=new X,x=new Array;let A=tn.ASCII_ENCODE;do if(A===tn.ASCII_ENCODE)A=this.decodeAsciiSegment(h,p,v);else{switch(A){case tn.C40_ENCODE:this.decodeC40Segment(h,p);break;case tn.TEXT_ENCODE:this.decodeTextSegment(h,p);break;case tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,p);break;case tn.EDIFACT_ENCODE:this.decodeEdifactSegment(h,p);break;case tn.BASE256_ENCODE:this.decodeBase256Segment(h,p,x);break;default:throw new L}A=tn.ASCII_ENCODE}while(A!==tn.PAD_ENCODE&&h.available()>0);return v.length()>0&&p.append(v.toString()),new He(l,p.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,h,p){let v=!1;do{let x=l.readBits(8);if(x===0)throw new L;if(x<=128)return v&&(x+=128),h.append(String.fromCharCode(x-1)),tn.ASCII_ENCODE;if(x===129)return tn.PAD_ENCODE;if(x<=229){const A=x-130;A<10&&h.append("0"),h.append(""+A)}else switch(x){case 230:return tn.C40_ENCODE;case 231:return tn.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:h.append("[)>05"),p.insert(0,"");break;case 237:h.append("[)>06"),p.insert(0,"");break;case 238:return tn.ANSIX12_ENCODE;case 239:return tn.TEXT_ENCODE;case 240:return tn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new L;break}}while(l.available()>0);return tn.ASCII_ENCODE}static decodeC40Segment(l,h){let p=!1;const v=[];let x=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),v);for(let T=0;T<3;T++){const O=v[T];switch(x){case 0:if(O<3)x=O+1;else if(O<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[O];p?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),p=!1):h.append(k)}else throw new L;break;case 1:p?(h.append(String.fromCharCode(O+128)),p=!1):h.append(String.fromCharCode(O)),x=0;break;case 2:if(O<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[O];p?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),p=!1):h.append(k)}else switch(O){case 27:h.append("");break;case 30:p=!0;break;default:throw new L}x=0;break;case 3:p?(h.append(String.fromCharCode(O+224)),p=!1):h.append(String.fromCharCode(O+96)),x=0;break;default:throw new L}}}while(l.available()>0)}static decodeTextSegment(l,h){let p=!1,v=[],x=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),v);for(let T=0;T<3;T++){const O=v[T];switch(x){case 0:if(O<3)x=O+1;else if(O<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[O];p?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),p=!1):h.append(k)}else throw new L;break;case 1:p?(h.append(String.fromCharCode(O+128)),p=!1):h.append(String.fromCharCode(O)),x=0;break;case 2:if(O<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[O];p?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),p=!1):h.append(k)}else switch(O){case 27:h.append("");break;case 30:p=!0;break;default:throw new L}x=0;break;case 3:if(O<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[O];p?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),p=!1):h.append(k),x=0}else throw new L;break;default:throw new L}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const p=[];do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),p);for(let x=0;x<3;x++){const A=p[x];switch(A){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(A<14)h.append(String.fromCharCode(A+44));else if(A<40)h.append(String.fromCharCode(A+51));else throw new L;break}}}while(l.available()>0)}static parseTwoBytes(l,h,p){let v=(l<<8)+h-1,x=Math.floor(v/1600);p[0]=x,v-=x*1600,x=Math.floor(v/40),p[1]=x,p[2]=v-x*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let v=l.readBits(6);if(v===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}(v&32)===0&&(v|=64),h.append(String.fromCharCode(v))}}while(l.available()>0)}static decodeBase256Segment(l,h,p){let v=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),v++);let A;if(x===0?A=l.available()/8|0:x<250?A=x:A=250*(x-249)+this.unrandomize255State(l.readBits(8),v++),A<0)throw new L;const T=new Uint8Array(A);for(let O=0;O<A;O++){if(l.available()<8)throw new L;T[O]=this.unrandomize255State(l.readBits(8),v++)}p.push(T);try{h.append(K.decode(T,Q.ISO88591))}catch(O){throw new dt("Platform does not support required encoding: "+O.message)}}static unrandomize255State(l,h){const p=149*h%255+1,v=l-p;return v>=0?v:v+256}}Si.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Si.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Si.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Si.TEXT_SHIFT2_SET_CHARS=Si.C40_SHIFT2_SET_CHARS,Si.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Su{constructor(){this.rsDecoder=new rt(ct.DATA_MATRIX_FIELD_256)}decode(l){const h=new ps(l),p=h.getVersion(),v=h.readCodewords(),x=Ei.getDataBlocks(v,p);let A=0;for(let k of x)A+=k.getNumDataCodewords();const T=new Uint8Array(A),O=x.length;for(let k=0;k<O;k++){const q=x[k],Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let ce=0;ce<te;ce++)T[ce*O+k]=Z[ce]}return Si.decode(T)}correctErrors(l,h){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-h)}catch{throw new I}for(let v=0;v<h;v++)l[v]=p[v]}}class Ot{constructor(l){this.image=l,this.rectangleDetector=new cn(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new oe;h=this.shiftToModuleCenter(h);const p=h[0],v=h[1],x=h[2],A=h[3];let T=this.transitionsBetween(p,A)+1,O=this.transitionsBetween(x,A)+1;(T&1)===1&&(T+=1),(O&1)===1&&(O+=1),4*T<7*O&&4*O<7*T&&(T=O=Math.max(T,O));let k=Ot.sampleGrid(this.image,p,v,x,A,T,O);return new or(k,[p,v,x,A])}static shiftPoint(l,h,p){let v=(h.getX()-l.getX())/(p+1),x=(h.getY()-l.getY())/(p+1);return new $e(l.getX()+v,l.getY()+x)}static moveAway(l,h,p){let v=l.getX(),x=l.getY();return v<h?v-=1:v+=1,x<p?x-=1:x+=1,new $e(v,x)}detectSolid1(l){let h=l[0],p=l[1],v=l[3],x=l[2],A=this.transitionsBetween(h,p),T=this.transitionsBetween(p,v),O=this.transitionsBetween(v,x),k=this.transitionsBetween(x,h),q=A,Z=[x,h,p,v];return q>T&&(q=T,Z[0]=h,Z[1]=p,Z[2]=v,Z[3]=x),q>O&&(q=O,Z[0]=p,Z[1]=v,Z[2]=x,Z[3]=h),q>k&&(Z[0]=v,Z[1]=x,Z[2]=h,Z[3]=p),Z}detectSolid2(l){let h=l[0],p=l[1],v=l[2],x=l[3],A=this.transitionsBetween(h,x),T=Ot.shiftPoint(p,v,(A+1)*4),O=Ot.shiftPoint(v,p,(A+1)*4),k=this.transitionsBetween(T,h),q=this.transitionsBetween(O,x);return k<q?(l[0]=h,l[1]=p,l[2]=v,l[3]=x):(l[0]=p,l[1]=v,l[2]=x,l[3]=h),l}correctTopRight(l){let h=l[0],p=l[1],v=l[2],x=l[3],A=this.transitionsBetween(h,x),T=this.transitionsBetween(p,x),O=Ot.shiftPoint(h,p,(T+1)*4),k=Ot.shiftPoint(v,p,(A+1)*4);A=this.transitionsBetween(O,x),T=this.transitionsBetween(k,x);let q=new $e(x.getX()+(v.getX()-p.getX())/(A+1),x.getY()+(v.getY()-p.getY())/(A+1)),Z=new $e(x.getX()+(h.getX()-p.getX())/(T+1),x.getY()+(h.getY()-p.getY())/(T+1));if(!this.isValid(q))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return q;let te=this.transitionsBetween(O,q)+this.transitionsBetween(k,q),ce=this.transitionsBetween(O,Z)+this.transitionsBetween(k,Z);return te>ce?q:Z}shiftToModuleCenter(l){let h=l[0],p=l[1],v=l[2],x=l[3],A=this.transitionsBetween(h,x)+1,T=this.transitionsBetween(v,x)+1,O=Ot.shiftPoint(h,p,T*4),k=Ot.shiftPoint(v,p,A*4);A=this.transitionsBetween(O,x)+1,T=this.transitionsBetween(k,x)+1,(A&1)===1&&(A+=1),(T&1)===1&&(T+=1);let q=(h.getX()+p.getX()+v.getX()+x.getX())/4,Z=(h.getY()+p.getY()+v.getY()+x.getY())/4;h=Ot.moveAway(h,q,Z),p=Ot.moveAway(p,q,Z),v=Ot.moveAway(v,q,Z),x=Ot.moveAway(x,q,Z);let te,ce;return O=Ot.shiftPoint(h,p,T*4),O=Ot.shiftPoint(O,x,A*4),te=Ot.shiftPoint(p,h,T*4),te=Ot.shiftPoint(te,v,A*4),k=Ot.shiftPoint(v,x,T*4),k=Ot.shiftPoint(k,p,A*4),ce=Ot.shiftPoint(x,v,T*4),ce=Ot.shiftPoint(ce,h,A*4),[O,te,k,ce]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,p,v,x,A,T){return zr.getInstance().sampleGrid(l,A,T,.5,.5,A-.5,.5,A-.5,T-.5,.5,T-.5,h.getX(),h.getY(),x.getX(),x.getY(),v.getX(),v.getY(),p.getX(),p.getY())}transitionsBetween(l,h){let p=Math.trunc(l.getX()),v=Math.trunc(l.getY()),x=Math.trunc(h.getX()),A=Math.trunc(h.getY()),T=Math.abs(A-v)>Math.abs(x-p);if(T){let me=p;p=v,v=me,me=x,x=A,A=me}let O=Math.abs(x-p),k=Math.abs(A-v),q=-O/2,Z=v<A?1:-1,te=p<x?1:-1,ce=0,he=this.image.get(T?v:p,T?p:v);for(let me=p,be=v;me!==x;me+=te){let Ie=this.image.get(T?be:me,T?me:be);if(Ie!==he&&(ce++,he=Ie),q+=k,q>0){if(be===A)break;be+=Z,q-=O}}return ce}}class Li{constructor(){this.decoder=new Su}decode(l,h=null){let p,v;if(h!=null&&h.has(G.PURE_BARCODE)){const k=Li.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(k),v=Li.NO_POINTS}else{const k=new Ot(l.getBlackMatrix()).detect();p=this.decoder.decode(k.getBits()),v=k.getPoints()}const x=p.getRawBytes(),A=new Me(p.getText(),x,8*x.length,v,Be.DATA_MATRIX,M.currentTimeMillis()),T=p.getByteSegments();T!=null&&A.putMetadata(vt.BYTE_SEGMENTS,T);const O=p.getECLevel();return O!=null&&A.putMetadata(vt.ERROR_CORRECTION_LEVEL,O),A}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(h==null||p==null)throw new oe;const v=this.moduleSize(h,l);let x=h[1];const A=p[1];let T=h[0];const k=(p[0]-T+1)/v,q=(A-x+1)/v;if(k<=0||q<=0)throw new oe;const Z=v/2;x+=Z,T+=Z;const te=new ge(k,q);for(let ce=0;ce<q;ce++){const he=x+ce*v;for(let me=0;me<k;me++)l.get(T+me*v,he)&&te.set(me,ce)}return te}static moduleSize(l,h){const p=h.getWidth();let v=l[0];const x=l[1];for(;v<p&&h.get(v,x);)v++;if(v===p)throw new oe;const A=v-l[0];if(A===0)throw new oe;return A}}Li.NO_POINTS=[];class fo extends Te{constructor(l=500){super(new Li,l)}}var ya;(function(J){J[J.L=0]="L",J[J.M=1]="M",J[J.Q=2]="Q",J[J.H=3]="H"})(ya||(ya={}));class Kt{constructor(l,h,p){this.value=l,this.stringValue=h,this.bits=p,Kt.FOR_BITS.set(p,this),Kt.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Kt))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=Kt.FOR_BITS.size)throw new y;return Kt.FOR_BITS.get(l)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(ya.L,"L",1),Kt.M=new Kt(ya.M,"M",0),Kt.Q=new Kt(ya.Q,"Q",3),Kt.H=new Kt(ya.H,"H",2);class Er{constructor(l){this.errorCorrectionLevel=Kt.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return U.bitCount(l^h)}static decodeFormatInformation(l,h){const p=Er.doDecodeFormatInformation(l,h);return p!==null?p:Er.doDecodeFormatInformation(l^Er.FORMAT_INFO_MASK_QR,h^Er.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let p=Number.MAX_SAFE_INTEGER,v=0;for(const x of Er.FORMAT_INFO_DECODE_LOOKUP){const A=x[0];if(A===l||A===h)return new Er(x[1]);let T=Er.numBitsDiffering(l,A);T<p&&(v=x[1],p=T),l!==h&&(T=Er.numBitsDiffering(h,A),T<p&&(v=x[1],p=T))}return p<=3?new Er(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Er))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Er.FORMAT_INFO_MASK_QR=21522,Er.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class we{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const p of h)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class se{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(l,h,...p){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=p;let v=0;const x=p[0].getECCodewordsPerBlock(),A=p[0].getECBlocks();for(const T of A)v+=T.getCount()*(T.getDataCodewords()+x);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new L;try{return this.getVersionForNumber((l-17)/4)}catch{throw new L}}static getVersionForNumber(l){if(l<1||l>40)throw new y;return ut.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,p=0;for(let v=0;v<ut.VERSION_DECODE_INFO.length;v++){const x=ut.VERSION_DECODE_INFO[v];if(x===l)return ut.getVersionForNumber(v+7);const A=Er.numBitsDiffering(l,x);A<h&&(p=v+7,h=A)}return h<=3?ut.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ge(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let v=0;v<p;v++){const x=this.alignmentPatternCenters[v]-2;for(let A=0;A<p;A++)v===0&&(A===0||A===p-1)||v===p-1&&A===0||h.setRegion(this.alignmentPatternCenters[A]-2,x,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}ut.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ut.VERSIONS=[new ut(1,new Int32Array(0),new we(7,new se(1,19)),new we(10,new se(1,16)),new we(13,new se(1,13)),new we(17,new se(1,9))),new ut(2,Int32Array.from([6,18]),new we(10,new se(1,34)),new we(16,new se(1,28)),new we(22,new se(1,22)),new we(28,new se(1,16))),new ut(3,Int32Array.from([6,22]),new we(15,new se(1,55)),new we(26,new se(1,44)),new we(18,new se(2,17)),new we(22,new se(2,13))),new ut(4,Int32Array.from([6,26]),new we(20,new se(1,80)),new we(18,new se(2,32)),new we(26,new se(2,24)),new we(16,new se(4,9))),new ut(5,Int32Array.from([6,30]),new we(26,new se(1,108)),new we(24,new se(2,43)),new we(18,new se(2,15),new se(2,16)),new we(22,new se(2,11),new se(2,12))),new ut(6,Int32Array.from([6,34]),new we(18,new se(2,68)),new we(16,new se(4,27)),new we(24,new se(4,19)),new we(28,new se(4,15))),new ut(7,Int32Array.from([6,22,38]),new we(20,new se(2,78)),new we(18,new se(4,31)),new we(18,new se(2,14),new se(4,15)),new we(26,new se(4,13),new se(1,14))),new ut(8,Int32Array.from([6,24,42]),new we(24,new se(2,97)),new we(22,new se(2,38),new se(2,39)),new we(22,new se(4,18),new se(2,19)),new we(26,new se(4,14),new se(2,15))),new ut(9,Int32Array.from([6,26,46]),new we(30,new se(2,116)),new we(22,new se(3,36),new se(2,37)),new we(20,new se(4,16),new se(4,17)),new we(24,new se(4,12),new se(4,13))),new ut(10,Int32Array.from([6,28,50]),new we(18,new se(2,68),new se(2,69)),new we(26,new se(4,43),new se(1,44)),new we(24,new se(6,19),new se(2,20)),new we(28,new se(6,15),new se(2,16))),new ut(11,Int32Array.from([6,30,54]),new we(20,new se(4,81)),new we(30,new se(1,50),new se(4,51)),new we(28,new se(4,22),new se(4,23)),new we(24,new se(3,12),new se(8,13))),new ut(12,Int32Array.from([6,32,58]),new we(24,new se(2,92),new se(2,93)),new we(22,new se(6,36),new se(2,37)),new we(26,new se(4,20),new se(6,21)),new we(28,new se(7,14),new se(4,15))),new ut(13,Int32Array.from([6,34,62]),new we(26,new se(4,107)),new we(22,new se(8,37),new se(1,38)),new we(24,new se(8,20),new se(4,21)),new we(22,new se(12,11),new se(4,12))),new ut(14,Int32Array.from([6,26,46,66]),new we(30,new se(3,115),new se(1,116)),new we(24,new se(4,40),new se(5,41)),new we(20,new se(11,16),new se(5,17)),new we(24,new se(11,12),new se(5,13))),new ut(15,Int32Array.from([6,26,48,70]),new we(22,new se(5,87),new se(1,88)),new we(24,new se(5,41),new se(5,42)),new we(30,new se(5,24),new se(7,25)),new we(24,new se(11,12),new se(7,13))),new ut(16,Int32Array.from([6,26,50,74]),new we(24,new se(5,98),new se(1,99)),new we(28,new se(7,45),new se(3,46)),new we(24,new se(15,19),new se(2,20)),new we(30,new se(3,15),new se(13,16))),new ut(17,Int32Array.from([6,30,54,78]),new we(28,new se(1,107),new se(5,108)),new we(28,new se(10,46),new se(1,47)),new we(28,new se(1,22),new se(15,23)),new we(28,new se(2,14),new se(17,15))),new ut(18,Int32Array.from([6,30,56,82]),new we(30,new se(5,120),new se(1,121)),new we(26,new se(9,43),new se(4,44)),new we(28,new se(17,22),new se(1,23)),new we(28,new se(2,14),new se(19,15))),new ut(19,Int32Array.from([6,30,58,86]),new we(28,new se(3,113),new se(4,114)),new we(26,new se(3,44),new se(11,45)),new we(26,new se(17,21),new se(4,22)),new we(26,new se(9,13),new se(16,14))),new ut(20,Int32Array.from([6,34,62,90]),new we(28,new se(3,107),new se(5,108)),new we(26,new se(3,41),new se(13,42)),new we(30,new se(15,24),new se(5,25)),new we(28,new se(15,15),new se(10,16))),new ut(21,Int32Array.from([6,28,50,72,94]),new we(28,new se(4,116),new se(4,117)),new we(26,new se(17,42)),new we(28,new se(17,22),new se(6,23)),new we(30,new se(19,16),new se(6,17))),new ut(22,Int32Array.from([6,26,50,74,98]),new we(28,new se(2,111),new se(7,112)),new we(28,new se(17,46)),new we(30,new se(7,24),new se(16,25)),new we(24,new se(34,13))),new ut(23,Int32Array.from([6,30,54,78,102]),new we(30,new se(4,121),new se(5,122)),new we(28,new se(4,47),new se(14,48)),new we(30,new se(11,24),new se(14,25)),new we(30,new se(16,15),new se(14,16))),new ut(24,Int32Array.from([6,28,54,80,106]),new we(30,new se(6,117),new se(4,118)),new we(28,new se(6,45),new se(14,46)),new we(30,new se(11,24),new se(16,25)),new we(30,new se(30,16),new se(2,17))),new ut(25,Int32Array.from([6,32,58,84,110]),new we(26,new se(8,106),new se(4,107)),new we(28,new se(8,47),new se(13,48)),new we(30,new se(7,24),new se(22,25)),new we(30,new se(22,15),new se(13,16))),new ut(26,Int32Array.from([6,30,58,86,114]),new we(28,new se(10,114),new se(2,115)),new we(28,new se(19,46),new se(4,47)),new we(28,new se(28,22),new se(6,23)),new we(30,new se(33,16),new se(4,17))),new ut(27,Int32Array.from([6,34,62,90,118]),new we(30,new se(8,122),new se(4,123)),new we(28,new se(22,45),new se(3,46)),new we(30,new se(8,23),new se(26,24)),new we(30,new se(12,15),new se(28,16))),new ut(28,Int32Array.from([6,26,50,74,98,122]),new we(30,new se(3,117),new se(10,118)),new we(28,new se(3,45),new se(23,46)),new we(30,new se(4,24),new se(31,25)),new we(30,new se(11,15),new se(31,16))),new ut(29,Int32Array.from([6,30,54,78,102,126]),new we(30,new se(7,116),new se(7,117)),new we(28,new se(21,45),new se(7,46)),new we(30,new se(1,23),new se(37,24)),new we(30,new se(19,15),new se(26,16))),new ut(30,Int32Array.from([6,26,52,78,104,130]),new we(30,new se(5,115),new se(10,116)),new we(28,new se(19,47),new se(10,48)),new we(30,new se(15,24),new se(25,25)),new we(30,new se(23,15),new se(25,16))),new ut(31,Int32Array.from([6,30,56,82,108,134]),new we(30,new se(13,115),new se(3,116)),new we(28,new se(2,46),new se(29,47)),new we(30,new se(42,24),new se(1,25)),new we(30,new se(23,15),new se(28,16))),new ut(32,Int32Array.from([6,34,60,86,112,138]),new we(30,new se(17,115)),new we(28,new se(10,46),new se(23,47)),new we(30,new se(10,24),new se(35,25)),new we(30,new se(19,15),new se(35,16))),new ut(33,Int32Array.from([6,30,58,86,114,142]),new we(30,new se(17,115),new se(1,116)),new we(28,new se(14,46),new se(21,47)),new we(30,new se(29,24),new se(19,25)),new we(30,new se(11,15),new se(46,16))),new ut(34,Int32Array.from([6,34,62,90,118,146]),new we(30,new se(13,115),new se(6,116)),new we(28,new se(14,46),new se(23,47)),new we(30,new se(44,24),new se(7,25)),new we(30,new se(59,16),new se(1,17))),new ut(35,Int32Array.from([6,30,54,78,102,126,150]),new we(30,new se(12,121),new se(7,122)),new we(28,new se(12,47),new se(26,48)),new we(30,new se(39,24),new se(14,25)),new we(30,new se(22,15),new se(41,16))),new ut(36,Int32Array.from([6,24,50,76,102,128,154]),new we(30,new se(6,121),new se(14,122)),new we(28,new se(6,47),new se(34,48)),new we(30,new se(46,24),new se(10,25)),new we(30,new se(2,15),new se(64,16))),new ut(37,Int32Array.from([6,28,54,80,106,132,158]),new we(30,new se(17,122),new se(4,123)),new we(28,new se(29,46),new se(14,47)),new we(30,new se(49,24),new se(10,25)),new we(30,new se(24,15),new se(46,16))),new ut(38,Int32Array.from([6,32,58,84,110,136,162]),new we(30,new se(4,122),new se(18,123)),new we(28,new se(13,46),new se(32,47)),new we(30,new se(48,24),new se(14,25)),new we(30,new se(42,15),new se(32,16))),new ut(39,Int32Array.from([6,26,54,82,110,138,166]),new we(30,new se(20,117),new se(4,118)),new we(28,new se(40,47),new se(7,48)),new we(30,new se(43,24),new se(22,25)),new we(30,new se(10,15),new se(67,16))),new ut(40,Int32Array.from([6,30,58,86,114,142,170]),new we(30,new se(19,118),new se(6,119)),new we(28,new se(18,47),new se(31,48)),new we(30,new se(34,24),new se(34,25)),new we(30,new se(20,15),new se(61,16)))];var Sr;(function(J){J[J.DATA_MASK_000=0]="DATA_MASK_000",J[J.DATA_MASK_001=1]="DATA_MASK_001",J[J.DATA_MASK_010=2]="DATA_MASK_010",J[J.DATA_MASK_011=3]="DATA_MASK_011",J[J.DATA_MASK_100=4]="DATA_MASK_100",J[J.DATA_MASK_101=5]="DATA_MASK_101",J[J.DATA_MASK_110=6]="DATA_MASK_110",J[J.DATA_MASK_111=7]="DATA_MASK_111"})(Sr||(Sr={}));class jr{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let p=0;p<h;p++)for(let v=0;v<h;v++)this.isMasked(p,v)&&l.flip(v,p)}}jr.values=new Map([[Sr.DATA_MASK_000,new jr(Sr.DATA_MASK_000,(J,l)=>(J+l&1)===0)],[Sr.DATA_MASK_001,new jr(Sr.DATA_MASK_001,(J,l)=>(J&1)===0)],[Sr.DATA_MASK_010,new jr(Sr.DATA_MASK_010,(J,l)=>l%3===0)],[Sr.DATA_MASK_011,new jr(Sr.DATA_MASK_011,(J,l)=>(J+l)%3===0)],[Sr.DATA_MASK_100,new jr(Sr.DATA_MASK_100,(J,l)=>(Math.floor(J/2)+Math.floor(l/3)&1)===0)],[Sr.DATA_MASK_101,new jr(Sr.DATA_MASK_101,(J,l)=>J*l%6===0)],[Sr.DATA_MASK_110,new jr(Sr.DATA_MASK_110,(J,l)=>J*l%6<3)],[Sr.DATA_MASK_111,new jr(Sr.DATA_MASK_111,(J,l)=>(J+l+J*l%3&1)===0)]]);class ji{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new L;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const h=this.bitMatrix.getHeight();let p=0;const v=h-7;for(let x=h-1;x>=v;x--)p=this.copyBit(8,x,p);for(let x=h-8;x<h;x++)p=this.copyBit(x,8,p);if(this.parsedFormatInfo=Er.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return ut.getVersionForNumber(h);let p=0;const v=l-11;for(let A=5;A>=0;A--)for(let T=l-9;T>=v;T--)p=this.copyBit(T,A,p);let x=ut.decodeVersionInformation(p);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;p=0;for(let A=5;A>=0;A--)for(let T=l-9;T>=v;T--)p=this.copyBit(A,T,p);if(x=ut.decodeVersionInformation(p),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new L}copyBit(l,h,p){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),p=jr.values.get(l.getDataMask()),v=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,v);const x=h.buildFunctionPattern();let A=!0;const T=new Uint8Array(h.getTotalCodewords());let O=0,k=0,q=0;for(let Z=v-1;Z>0;Z-=2){Z===6&&Z--;for(let te=0;te<v;te++){const ce=A?v-1-te:te;for(let he=0;he<2;he++)x.get(Z-he,ce)||(q++,k<<=1,this.bitMatrix.get(Z-he,ce)&&(k|=1),q===8&&(T[O++]=k,q=0,k=0))}A=!A}if(O!==h.getTotalCodewords())throw new L;return T}remask(){if(this.parsedFormatInfo===null)return;const l=jr.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,p=l.getWidth();h<p;h++)for(let v=h+1,x=l.getHeight();v<x;v++)l.get(h,v)!==l.get(v,h)&&(l.flip(v,h),l.flip(h,v))}}class ac{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,p){if(l.length!==h.getTotalCodewords())throw new y;const v=h.getECBlocksForLevel(p);let x=0;const A=v.getECBlocks();for(const he of A)x+=he.getCount();const T=new Array(x);let O=0;for(const he of A)for(let me=0;me<he.getCount();me++){const be=he.getDataCodewords(),Ie=v.getECCodewordsPerBlock()+be;T[O++]=new ac(be,new Uint8Array(Ie))}const k=T[0].codewords.length;let q=T.length-1;for(;q>=0&&T[q].codewords.length!==k;)q--;q++;const Z=k-v.getECCodewordsPerBlock();let te=0;for(let he=0;he<Z;he++)for(let me=0;me<O;me++)T[me].codewords[he]=l[te++];for(let he=q;he<O;he++)T[he].codewords[Z]=l[te++];const ce=T[0].codewords.length;for(let he=Z;he<ce;he++)for(let me=0;me<O;me++){const be=me<q?he:he+1;T[me].codewords[be]=l[te++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ui;(function(J){J[J.TERMINATOR=0]="TERMINATOR",J[J.NUMERIC=1]="NUMERIC",J[J.ALPHANUMERIC=2]="ALPHANUMERIC",J[J.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",J[J.BYTE=4]="BYTE",J[J.ECI=5]="ECI",J[J.KANJI=6]="KANJI",J[J.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",J[J.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",J[J.HANZI=9]="HANZI"})(ui||(ui={}));class yt{constructor(l,h,p,v){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=p,this.bits=v,yt.FOR_BITS.set(v,this),yt.FOR_VALUE.set(l,this)}static forBits(l){const h=yt.FOR_BITS.get(l);if(h===void 0)throw new y;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let p;return h<=9?p=0:h<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof yt))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.TERMINATOR=new yt(ui.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),yt.NUMERIC=new yt(ui.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),yt.ALPHANUMERIC=new yt(ui.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),yt.STRUCTURED_APPEND=new yt(ui.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),yt.BYTE=new yt(ui.BYTE,"BYTE",Int32Array.from([8,16,16]),4),yt.ECI=new yt(ui.ECI,"ECI",Int32Array.from([0,0,0]),7),yt.KANJI=new yt(ui.KANJI,"KANJI",Int32Array.from([8,10,12]),8),yt.FNC1_FIRST_POSITION=new yt(ui.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),yt.FNC1_SECOND_POSITION=new yt(ui.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),yt.HANZI=new yt(ui.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kn{static decode(l,h,p,v){const x=new gr(l);let A=new X;const T=new Array;let O=-1,k=-1;try{let q=null,Z=!1,te;do{if(x.available()<4)te=yt.TERMINATOR;else{const ce=x.readBits(4);te=yt.forBits(ce)}switch(te){case yt.TERMINATOR:break;case yt.FNC1_FIRST_POSITION:case yt.FNC1_SECOND_POSITION:Z=!0;break;case yt.STRUCTURED_APPEND:if(x.available()<16)throw new L;O=x.readBits(8),k=x.readBits(8);break;case yt.ECI:const ce=kn.parseECIValue(x);if(q=F.getCharacterSetECIByValue(ce),q===null)throw new L;break;case yt.HANZI:const he=x.readBits(4),me=x.readBits(te.getCharacterCountBits(h));he===kn.GB2312_SUBSET&&kn.decodeHanziSegment(x,A,me);break;default:const be=x.readBits(te.getCharacterCountBits(h));switch(te){case yt.NUMERIC:kn.decodeNumericSegment(x,A,be);break;case yt.ALPHANUMERIC:kn.decodeAlphanumericSegment(x,A,be,Z);break;case yt.BYTE:kn.decodeByteSegment(x,A,be,q,T,v);break;case yt.KANJI:kn.decodeKanjiSegment(x,A,be);break;default:throw new L}break}}while(te!==yt.TERMINATOR)}catch{throw new L}return new He(l,A.toString(),T.length===0?null:T,p===null?null:p.toString(),O,k)}static decodeHanziSegment(l,h,p){if(p*13>l.available())throw new L;const v=new Uint8Array(2*p);let x=0;for(;p>0;){const A=l.readBits(13);let T=A/96<<8&4294967295|A%96;T<959?T+=41377:T+=42657,v[x]=T>>8&255,v[x+1]=T&255,x+=2,p--}try{h.append(K.decode(v,Q.GB2312))}catch(A){throw new L(A)}}static decodeKanjiSegment(l,h,p){if(p*13>l.available())throw new L;const v=new Uint8Array(2*p);let x=0;for(;p>0;){const A=l.readBits(13);let T=A/192<<8&4294967295|A%192;T<7936?T+=33088:T+=49472,v[x]=T>>8,v[x+1]=T,x+=2,p--}try{h.append(K.decode(v,Q.SHIFT_JIS))}catch(A){throw new L(A)}}static decodeByteSegment(l,h,p,v,x,A){if(8*p>l.available())throw new L;const T=new Uint8Array(p);for(let k=0;k<p;k++)T[k]=l.readBits(8);let O;v===null?O=Q.guessEncoding(T,A):O=v.getName();try{h.append(K.decode(T,O))}catch(k){throw new L(k)}x.push(T)}static toAlphaNumericChar(l){if(l>=kn.ALPHANUMERIC_CHARS.length)throw new L;return kn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,p,v){const x=h.length();for(;p>1;){if(l.available()<11)throw new L;const A=l.readBits(11);h.append(kn.toAlphaNumericChar(Math.floor(A/45))),h.append(kn.toAlphaNumericChar(A%45)),p-=2}if(p===1){if(l.available()<6)throw new L;h.append(kn.toAlphaNumericChar(l.readBits(6)))}if(v)for(let A=x;A<h.length();A++)h.charAt(A)==="%"&&(A<h.length()-1&&h.charAt(A+1)==="%"?h.deleteCharAt(A+1):h.setCharAt(A,""))}static decodeNumericSegment(l,h,p){for(;p>=3;){if(l.available()<10)throw new L;const v=l.readBits(10);if(v>=1e3)throw new L;h.append(kn.toAlphaNumericChar(Math.floor(v/100))),h.append(kn.toAlphaNumericChar(Math.floor(v/10)%10)),h.append(kn.toAlphaNumericChar(v%10)),p-=3}if(p===2){if(l.available()<7)throw new L;const v=l.readBits(7);if(v>=100)throw new L;h.append(kn.toAlphaNumericChar(Math.floor(v/10))),h.append(kn.toAlphaNumericChar(v%10))}else if(p===1){if(l.available()<4)throw new L;const v=l.readBits(4);if(v>=10)throw new L;h.append(kn.toAlphaNumericChar(v))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const p=l.readBits(8);return(h&63)<<8&4294967295|p}if((h&224)===192){const p=l.readBits(16);return(h&31)<<16&4294967295|p}throw new L}}kn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kn.GB2312_SUBSET=1;class Tu{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class ms{constructor(){this.rsDecoder=new rt(ct.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ge.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const p=new ji(l);let v=null;try{return this.decodeBitMatrixParser(p,h)}catch(x){v=x}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const x=this.decodeBitMatrixParser(p,h);return x.setOther(new Tu(!0)),x}catch(x){throw v!==null?v:x}}decodeBitMatrixParser(l,h){const p=l.readVersion(),v=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),A=ac.getDataBlocks(x,p,v);let T=0;for(const q of A)T+=q.getNumDataCodewords();const O=new Uint8Array(T);let k=0;for(const q of A){const Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let ce=0;ce<te;ce++)O[k++]=Z[ce]}return kn.decode(O,p,v,h)}correctErrors(l,h){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-h)}catch{throw new I}for(let v=0;v<h;v++)l[v]=p[v]}}class gs extends $e{constructor(l,h,p){super(l,h),this.estimatedModuleSize=p}aboutEquals(l,h,p){if(Math.abs(h-this.getY())<=l&&Math.abs(p-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,p){const v=(this.getX()+h)/2,x=(this.getY()+l)/2,A=(this.estimatedModuleSize+p)/2;return new gs(v,x,A)}}class Bi{constructor(l,h,p,v,x,A,T){this.image=l,this.startX=h,this.startY=p,this.width=v,this.height=x,this.moduleSize=A,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,p=this.width,v=l+p,x=this.startY+h/2,A=new Int32Array(3),T=this.image;for(let O=0;O<h;O++){const k=x+((O&1)===0?Math.floor((O+1)/2):-Math.floor((O+1)/2));A[0]=0,A[1]=0,A[2]=0;let q=l;for(;q<v&&!T.get(q,k);)q++;let Z=0;for(;q<v;){if(T.get(q,k))if(Z===1)A[1]++;else if(Z===2){if(this.foundPatternCross(A)){const te=this.handlePossibleCenter(A,k,q);if(te!==null)return te}A[0]=A[2],A[1]=1,A[2]=0,Z=1}else A[++Z]++;else Z===1&&Z++,A[Z]++;q++}if(this.foundPatternCross(A)){const te=this.handlePossibleCenter(A,k,v);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,p=h/2;for(let v=0;v<3;v++)if(Math.abs(h-l[v])>=p)return!1;return!0}crossCheckVertical(l,h,p,v){const x=this.image,A=x.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let O=l;for(;O>=0&&x.get(h,O)&&T[1]<=p;)T[1]++,O--;if(O<0||T[1]>p)return NaN;for(;O>=0&&!x.get(h,O)&&T[0]<=p;)T[0]++,O--;if(T[0]>p)return NaN;for(O=l+1;O<A&&x.get(h,O)&&T[1]<=p;)T[1]++,O++;if(O===A||T[1]>p)return NaN;for(;O<A&&!x.get(h,O)&&T[2]<=p;)T[2]++,O++;if(T[2]>p)return NaN;const k=T[0]+T[1]+T[2];return 5*Math.abs(k-v)>=2*v?NaN:this.foundPatternCross(T)?Bi.centerFromEnd(T,O):NaN}handlePossibleCenter(l,h,p){const v=l[0]+l[1]+l[2],x=Bi.centerFromEnd(l,p),A=this.crossCheckVertical(h,x,2*l[1],v);if(!isNaN(A)){const T=(l[0]+l[1]+l[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(T,A,x))return k.combineEstimate(A,x,T);const O=new gs(x,A,T);this.possibleCenters.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return null}}class Ws extends $e{constructor(l,h,p,v){super(l,h),this.estimatedModuleSize=p,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,p){if(Math.abs(h-this.getY())<=l&&Math.abs(p-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,p){const v=this.count+1,x=(this.count*this.getX()+h)/v,A=(this.count*this.getY()+l)/v,T=(this.count*this.estimatedModuleSize+p)/v;return new Ws(x,A,T,v)}}class va{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kn{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(G.TRY_HARDER)!==void 0,p=l!=null&&l.get(G.PURE_BARCODE)!==void 0,v=this.image,x=v.getHeight(),A=v.getWidth();let T=Math.floor(3*x/(4*Kn.MAX_MODULES));(T<Kn.MIN_SKIP||h)&&(T=Kn.MIN_SKIP);let O=!1;const k=new Int32Array(5);for(let Z=T-1;Z<x&&!O;Z+=T){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let te=0;for(let ce=0;ce<A;ce++)if(v.get(ce,Z))(te&1)===1&&te++,k[te]++;else if((te&1)===0)if(te===4)if(Kn.foundPatternCross(k)){if(this.handlePossibleCenter(k,Z,ce,p)===!0)if(T=2,this.hasSkipped===!0)O=this.haveMultiplyConfirmedCenters();else{const me=this.findRowSkip();me>k[2]&&(Z+=me-k[2]-T,ce=A-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,te=3;continue}te=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,te=3;else k[++te]++;else k[te]++;Kn.foundPatternCross(k)&&this.handlePossibleCenter(k,Z,A,p)===!0&&(T=k[0],this.hasSkipped&&(O=this.haveMultiplyConfirmedCenters()))}const q=this.selectBestPatterns();return $e.orderBestPatterns(q),new va(q)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let x=0;x<5;x++){const A=l[x];if(A===0)return!1;h+=A}if(h<7)return!1;const p=h/7,v=p/2;return Math.abs(p-l[0])<v&&Math.abs(p-l[1])<v&&Math.abs(3*p-l[2])<3*v&&Math.abs(p-l[3])<v&&Math.abs(p-l[4])<v}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,p,v){const x=this.getCrossCheckStateCount();let A=0;const T=this.image;for(;l>=A&&h>=A&&T.get(h-A,l-A);)x[2]++,A++;if(l<A||h<A)return!1;for(;l>=A&&h>=A&&!T.get(h-A,l-A)&&x[1]<=p;)x[1]++,A++;if(l<A||h<A||x[1]>p)return!1;for(;l>=A&&h>=A&&T.get(h-A,l-A)&&x[0]<=p;)x[0]++,A++;if(x[0]>p)return!1;const O=T.getHeight(),k=T.getWidth();for(A=1;l+A<O&&h+A<k&&T.get(h+A,l+A);)x[2]++,A++;if(l+A>=O||h+A>=k)return!1;for(;l+A<O&&h+A<k&&!T.get(h+A,l+A)&&x[3]<p;)x[3]++,A++;if(l+A>=O||h+A>=k||x[3]>=p)return!1;for(;l+A<O&&h+A<k&&T.get(h+A,l+A)&&x[4]<p;)x[4]++,A++;if(x[4]>=p)return!1;const q=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(q-v)<2*v&&Kn.foundPatternCross(x)}crossCheckVertical(l,h,p,v){const x=this.image,A=x.getHeight(),T=this.getCrossCheckStateCount();let O=l;for(;O>=0&&x.get(h,O);)T[2]++,O--;if(O<0)return NaN;for(;O>=0&&!x.get(h,O)&&T[1]<=p;)T[1]++,O--;if(O<0||T[1]>p)return NaN;for(;O>=0&&x.get(h,O)&&T[0]<=p;)T[0]++,O--;if(T[0]>p)return NaN;for(O=l+1;O<A&&x.get(h,O);)T[2]++,O++;if(O===A)return NaN;for(;O<A&&!x.get(h,O)&&T[3]<p;)T[3]++,O++;if(O===A||T[3]>=p)return NaN;for(;O<A&&x.get(h,O)&&T[4]<p;)T[4]++,O++;if(T[4]>=p)return NaN;const k=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(k-v)>=2*v?NaN:Kn.foundPatternCross(T)?Kn.centerFromEnd(T,O):NaN}crossCheckHorizontal(l,h,p,v){const x=this.image,A=x.getWidth(),T=this.getCrossCheckStateCount();let O=l;for(;O>=0&&x.get(O,h);)T[2]++,O--;if(O<0)return NaN;for(;O>=0&&!x.get(O,h)&&T[1]<=p;)T[1]++,O--;if(O<0||T[1]>p)return NaN;for(;O>=0&&x.get(O,h)&&T[0]<=p;)T[0]++,O--;if(T[0]>p)return NaN;for(O=l+1;O<A&&x.get(O,h);)T[2]++,O++;if(O===A)return NaN;for(;O<A&&!x.get(O,h)&&T[3]<p;)T[3]++,O++;if(O===A||T[3]>=p)return NaN;for(;O<A&&x.get(O,h)&&T[4]<p;)T[4]++,O++;if(T[4]>=p)return NaN;const k=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(k-v)>=v?NaN:Kn.foundPatternCross(T)?Kn.centerFromEnd(T,O):NaN}handlePossibleCenter(l,h,p,v){const x=l[0]+l[1]+l[2]+l[3]+l[4];let A=Kn.centerFromEnd(l,p),T=this.crossCheckVertical(h,Math.floor(A),l[2],x);if(!isNaN(T)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(T),l[2],x),!isNaN(A)&&(!v||this.crossCheckDiagonal(Math.floor(T),Math.floor(A),l[2],x)))){const O=x/7;let k=!1;const q=this.possibleCenters;for(let Z=0,te=q.length;Z<te;Z++){const ce=q[Z];if(ce.aboutEquals(O,T,A)){q[Z]=ce.combineEstimate(T,A,O),k=!0;break}}if(!k){const Z=new Ws(A,T,O);q.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const p of this.possibleCenters)if(p.getCount()>=Kn.CENTER_QUORUM)if(h==null)h=p;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-p.getX())-Math.abs(h.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const p=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=Kn.CENTER_QUORUM&&(l++,h+=A.getEstimatedModuleSize());if(l<3)return!1;const v=h/p;let x=0;for(const A of this.possibleCenters)x+=Math.abs(A.getEstimatedModuleSize()-v);return x<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new oe;const h=this.possibleCenters;let p;if(l>3){let v=0,x=0;for(const O of this.possibleCenters){const k=O.getEstimatedModuleSize();v+=k,x+=k*k}p=v/l;let A=Math.sqrt(x/l-p*p);h.sort((O,k)=>{const q=Math.abs(k.getEstimatedModuleSize()-p),Z=Math.abs(O.getEstimatedModuleSize()-p);return q<Z?-1:q>Z?1:0});const T=Math.max(.2*p,A);for(let O=0;O<h.length&&h.length>3;O++){const k=h[O];Math.abs(k.getEstimatedModuleSize()-p)>T&&(h.splice(O,1),O--)}}if(h.length>3){let v=0;for(const x of h)v+=x.getEstimatedModuleSize();p=v/h.length,h.sort((x,A)=>{if(A.getCount()===x.getCount()){const T=Math.abs(A.getEstimatedModuleSize()-p),O=Math.abs(x.getEstimatedModuleSize()-p);return T<O?1:T>O?-1:0}else return A.getCount()-x.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}Kn.CENTER_QUORUM=2,Kn.MIN_SKIP=3,Kn.MAX_MODULES=57;class Ui{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(G.NEED_RESULT_POINT_CALLBACK);const p=new Kn(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const h=l.getTopLeft(),p=l.getTopRight(),v=l.getBottomLeft(),x=this.calculateModuleSize(h,p,v);if(x<1)throw new oe("No pattern found in proccess finder.");const A=Ui.computeDimension(h,p,v,x),T=ut.getProvisionalVersionForDimension(A),O=T.getDimensionForVersion()-7;let k=null;if(T.getAlignmentPatternCenters().length>0){const ce=p.getX()-h.getX()+v.getX(),he=p.getY()-h.getY()+v.getY(),me=1-3/O,be=Math.floor(h.getX()+me*(ce-h.getX())),Ie=Math.floor(h.getY()+me*(he-h.getY()));for(let Ye=4;Ye<=16;Ye<<=1)try{k=this.findAlignmentInRegion(x,be,Ie,Ye);break}catch(We){if(!(We instanceof oe))throw We}}const q=Ui.createTransform(h,p,v,k,A),Z=Ui.sampleGrid(this.image,q,A);let te;return k===null?te=[v,h,p]:te=[v,h,p,k],new or(Z,te)}static createTransform(l,h,p,v,x){const A=x-3.5;let T,O,k,q;return v!==null?(T=v.getX(),O=v.getY(),k=A-3,q=k):(T=h.getX()-l.getX()+p.getX(),O=h.getY()-l.getY()+p.getY(),k=A,q=A),hr.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,k,q,3.5,A,l.getX(),l.getY(),h.getX(),h.getY(),T,O,p.getX(),p.getY())}static sampleGrid(l,h,p){return zr.getInstance().sampleGridWithTransform(l,p,p,h)}static computeDimension(l,h,p,v){const x=et.round($e.distance(l,h)/v),A=et.round($e.distance(l,p)/v);let T=Math.floor((x+A)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new oe("Dimensions could be not found.")}return T}calculateModuleSize(l,h,p){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,h){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?v/7:isNaN(v)?p/7:(p+v)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,p,v){let x=this.sizeOfBlackWhiteBlackRun(l,h,p,v),A=1,T=l-(p-l);T<0?(A=l/(l-T),T=0):T>=this.image.getWidth()&&(A=(this.image.getWidth()-1-l)/(T-l),T=this.image.getWidth()-1);let O=Math.floor(h-(v-h)*A);return A=1,O<0?(A=h/(h-O),O=0):O>=this.image.getHeight()&&(A=(this.image.getHeight()-1-h)/(O-h),O=this.image.getHeight()-1),T=Math.floor(l+(T-l)*A),x+=this.sizeOfBlackWhiteBlackRun(l,h,T,O),x-1}sizeOfBlackWhiteBlackRun(l,h,p,v){const x=Math.abs(v-h)>Math.abs(p-l);if(x){let ce=l;l=h,h=ce,ce=p,p=v,v=ce}const A=Math.abs(p-l),T=Math.abs(v-h);let O=-A/2;const k=l<p?1:-1,q=h<v?1:-1;let Z=0;const te=p+k;for(let ce=l,he=h;ce!==te;ce+=k){const me=x?he:ce,be=x?ce:he;if(Z===1===this.image.get(me,be)){if(Z===2)return et.distance(ce,he,l,h);Z++}if(O+=T,O>0){if(he===v)break;he+=q,O-=A}}return Z===2?et.distance(p+k,v,l,h):NaN}findAlignmentInRegion(l,h,p,v){const x=Math.floor(v*l),A=Math.max(0,h-x),T=Math.min(this.image.getWidth()-1,h+x);if(T-A<l*3)throw new oe("Alignment top exceeds estimated module size.");const O=Math.max(0,p-x),k=Math.min(this.image.getHeight()-1,p+x);if(k-O<l*3)throw new oe("Alignment bottom exceeds estimated module size.");return new Bi(this.image,A,O,T-A,k-O,l,this.resultPointCallback).find()}}class Fi{constructor(){this.decoder=new ms}getDecoder(){return this.decoder}decode(l,h){let p,v;if(h!=null&&h.get(G.PURE_BARCODE)!==void 0){const O=Fi.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(O,h),v=Fi.NO_POINTS}else{const O=new Ui(l.getBlackMatrix()).detect(h);p=this.decoder.decodeBitMatrix(O.getBits(),h),v=O.getPoints()}p.getOther()instanceof Tu&&p.getOther().applyMirroredCorrection(v);const x=new Me(p.getText(),p.getRawBytes(),void 0,v,Be.QR_CODE,void 0),A=p.getByteSegments();A!==null&&x.putMetadata(vt.BYTE_SEGMENTS,A);const T=p.getECLevel();return T!==null&&x.putMetadata(vt.ERROR_CORRECTION_LEVEL,T),p.hasStructuredAppend()&&(x.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),x.putMetadata(vt.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(h===null||p===null)throw new oe;const v=this.moduleSize(h,l);let x=h[1],A=p[1],T=h[0],O=p[0];if(T>=O||x>=A)throw new oe;if(A-x!==O-T&&(O=T+(A-x),O>=l.getWidth()))throw new oe;const k=Math.round((O-T+1)/v),q=Math.round((A-x+1)/v);if(k<=0||q<=0)throw new oe;if(q!==k)throw new oe;const Z=Math.floor(v/2);x+=Z,T+=Z;const te=T+Math.floor((k-1)*v)-O;if(te>0){if(te>Z)throw new oe;T-=te}const ce=x+Math.floor((q-1)*v)-A;if(ce>0){if(ce>Z)throw new oe;x-=ce}const he=new ge(k,q);for(let me=0;me<q;me++){const be=x+Math.floor(me*v);for(let Ie=0;Ie<k;Ie++)l.get(T+Math.floor(Ie*v),be)&&he.set(Ie,me)}return he}static moduleSize(l,h){const p=h.getHeight(),v=h.getWidth();let x=l[0],A=l[1],T=!0,O=0;for(;x<v&&A<p;){if(T!==h.get(x,A)){if(++O===5)break;T=!T}x++,A++}if(x===v||A===p)throw new oe;return(x-l[0])/7}}Fi.NO_POINTS=new Array;class _t{PDF417Common(){}static getBitCountSum(l){return et.sum(l)}static toIntArray(l){if(l==null||!l.length)return _t.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let p=0;for(const v of l)h[p++]=v;return h}static getCodeword(l){const h=B.binarySearch(_t.SYMBOL_TABLE,l&262143);return h<0?-1:(_t.CODEWORD_TABLE[h]-1)%_t.NUMBER_OF_CODEWORDS}}_t.NUMBER_OF_CODEWORDS=929,_t.MAX_CODEWORDS_IN_BARCODE=_t.NUMBER_OF_CODEWORDS-1,_t.MIN_ROWS_IN_BARCODE=3,_t.MAX_ROWS_IN_BARCODE=90,_t.MODULES_IN_CODEWORD=17,_t.MODULES_IN_STOP_PATTERN=18,_t.BARS_IN_MODULE=8,_t.EMPTY_INT_ARRAY=new Int32Array([]),_t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ys{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Nt{static detectMultiple(l,h,p){let v=l.getBlackMatrix(),x=Nt.detect(p,v);return x.length||(v=v.clone(),v.rotate180(),x=Nt.detect(p,v)),new ys(v,x)}static detect(l,h){const p=new Array;let v=0,x=0,A=!1;for(;v<h.getHeight();){const T=Nt.findVertices(h,v,x);if(T[0]==null&&T[3]==null){if(!A)break;A=!1,x=0;for(const O of p)O[1]!=null&&(v=Math.trunc(Math.max(v,O[1].getY()))),O[3]!=null&&(v=Math.max(v,Math.trunc(O[3].getY())));v+=Nt.ROW_STEP;continue}if(A=!0,p.push(T),!l)break;T[2]!=null?(x=Math.trunc(T[2].getX()),v=Math.trunc(T[2].getY())):(x=Math.trunc(T[4].getX()),v=Math.trunc(T[4].getY()))}return p}static findVertices(l,h,p){const v=l.getHeight(),x=l.getWidth(),A=new Array(8);return Nt.copyToResult(A,Nt.findRowsWithPattern(l,v,x,h,p,Nt.START_PATTERN),Nt.INDEXES_START_PATTERN),A[4]!=null&&(p=Math.trunc(A[4].getX()),h=Math.trunc(A[4].getY())),Nt.copyToResult(A,Nt.findRowsWithPattern(l,v,x,h,p,Nt.STOP_PATTERN),Nt.INDEXES_STOP_PATTERN),A}static copyToResult(l,h,p){for(let v=0;v<p.length;v++)l[p[v]]=h[v]}static findRowsWithPattern(l,h,p,v,x,A){const T=new Array(4);let O=!1;const k=new Int32Array(A.length);for(;v<h;v+=Nt.ROW_STEP){let Z=Nt.findGuardPattern(l,x,v,p,!1,A,k);if(Z!=null){for(;v>0;){const te=Nt.findGuardPattern(l,x,--v,p,!1,A,k);if(te!=null)Z=te;else{v++;break}}T[0]=new $e(Z[0],v),T[1]=new $e(Z[1],v),O=!0;break}}let q=v+1;if(O){let Z=0,te=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;q<h;q++){const ce=Nt.findGuardPattern(l,te[0],q,p,!1,A,k);if(ce!=null&&Math.abs(te[0]-ce[0])<Nt.MAX_PATTERN_DRIFT&&Math.abs(te[1]-ce[1])<Nt.MAX_PATTERN_DRIFT)te=ce,Z=0;else{if(Z>Nt.SKIPPED_ROW_COUNT_MAX)break;Z++}}q-=Z+1,T[2]=new $e(te[0],q),T[3]=new $e(te[1],q)}return q-v<Nt.BARCODE_MIN_HEIGHT&&B.fill(T,null),T}static findGuardPattern(l,h,p,v,x,A,T){B.fillWithin(T,0,T.length,0);let O=h,k=0;for(;l.get(O,p)&&O>0&&k++<Nt.MAX_PIXEL_DRIFT;)O--;let q=O,Z=0,te=A.length;for(let ce=x;q<v;q++)if(l.get(q,p)!==ce)T[Z]++;else{if(Z===te-1){if(Nt.patternMatchVariance(T,A,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return new Int32Array([O,q]);O+=T[0]+T[1],M.arraycopy(T,2,T,0,Z-1),T[Z-1]=0,T[Z]=0,Z--}else Z++;T[Z]=1,ce=!ce}return Z===te-1&&Nt.patternMatchVariance(T,A,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE?new Int32Array([O,q-1]):null}static patternMatchVariance(l,h,p){let v=l.length,x=0,A=0;for(let k=0;k<v;k++)x+=l[k],A+=h[k];if(x<A)return 1/0;let T=x/A;p*=T;let O=0;for(let k=0;k<v;k++){let q=l[k],Z=h[k]*T,te=q>Z?q-Z:Z-q;if(te>p)return 1/0;O+=te}return O/x}}Nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Nt.MAX_AVG_VARIANCE=.42,Nt.MAX_INDIVIDUAL_VARIANCE=.8,Nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Nt.MAX_PIXEL_DRIFT=3,Nt.MAX_PATTERN_DRIFT=5,Nt.SKIPPED_ROW_COUNT_MAX=25,Nt.ROW_STEP=5,Nt.BARCODE_MIN_HEIGHT=10;class Ln{constructor(l,h){if(h.length===0)throw new y;this.field=l;let p=h.length;if(p>1&&h[0]===0){let v=1;for(;v<p&&h[v]===0;)v++;v===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-v),M.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let v=0;for(let x of this.coefficients)v=this.field.add(v,x);return v}let h=this.coefficients[0],p=this.coefficients.length;for(let v=1;v<p;v++)h=this.field.add(this.field.multiply(l,h),this.coefficients[v]);return h}add(l){if(!this.field.equals(l.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,p=l.coefficients;if(h.length>p.length){let A=h;h=p,p=A}let v=new Int32Array(p.length),x=p.length-h.length;M.arraycopy(p,0,v,0,x);for(let A=x;A<p.length;A++)v[A]=this.field.add(h[A-x],p[A]);return new Ln(this.field,v)}subtract(l){if(!this.field.equals(l.field))throw new y("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Ln?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Ln(this.field,new Int32Array([0]));let h=this.coefficients,p=h.length,v=l.coefficients,x=v.length,A=new Int32Array(p+x-1);for(let T=0;T<p;T++){let O=h[T];for(let k=0;k<x;k++)A[T+k]=this.field.add(A[T+k],this.field.multiply(O,v[k]))}return new Ln(this.field,A)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let p=0;p<l;p++)h[p]=this.field.subtract(0,this.coefficients[p]);return new Ln(this.field,h)}multiplyScalar(l){if(l===0)return new Ln(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,p=new Int32Array(h);for(let v=0;v<h;v++)p[v]=this.field.multiply(this.coefficients[v],l);return new Ln(this.field,p)}multiplyByMonomial(l,h){if(l<0)throw new y;if(h===0)return new Ln(this.field,new Int32Array([0]));let p=this.coefficients.length,v=new Int32Array(p+l);for(let x=0;x<p;x++)v[x]=this.field.multiply(this.coefficients[x],h);return new Ln(this.field,v)}toString(){let l=new X;for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(h===0||p!==1)&&l.append(p),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class Ys{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new y;return this.logTable[l]}inverse(l){if(l===0)throw new Ue;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Sn extends Ys{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let v=0;v<l;v++)this.expTable[v]=p,p=p*h%l;for(let v=0;v<l-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Ln(this,new Int32Array([0])),this.one=new Ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new y;if(h===0)return this.zero;let p=new Int32Array(l+1);return p[0]=h,new Ln(this,p)}}Sn.PDF417_GF=new Sn(_t.NUMBER_OF_CODEWORDS,3);class Ba{constructor(){this.field=Sn.PDF417_GF}decode(l,h,p){let v=new Ln(this.field,l),x=new Int32Array(h),A=!1;for(let he=h;he>0;he--){let me=v.evaluateAt(this.field.exp(he));x[h-he]=me,me!==0&&(A=!0)}if(!A)return 0;let T=this.field.getOne();if(p!=null)for(const he of p){let me=this.field.exp(l.length-1-he),be=new Ln(this.field,new Int32Array([this.field.subtract(0,me),1]));T=T.multiply(be)}let O=new Ln(this.field,x),k=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),O,h),q=k[0],Z=k[1],te=this.findErrorLocations(q),ce=this.findErrorMagnitudes(Z,q,te);for(let he=0;he<te.length;he++){let me=l.length-1-this.field.log(te[he]);if(me<0)throw I.getChecksumInstance();l[me]=this.field.subtract(l[me],ce[he])}return te.length}runEuclideanAlgorithm(l,h,p){if(l.getDegree()<h.getDegree()){let te=l;l=h,h=te}let v=l,x=h,A=this.field.getZero(),T=this.field.getOne();for(;x.getDegree()>=Math.round(p/2);){let te=v,ce=A;if(v=x,A=T,v.isZero())throw I.getChecksumInstance();x=te;let he=this.field.getZero(),me=v.getCoefficient(v.getDegree()),be=this.field.inverse(me);for(;x.getDegree()>=v.getDegree()&&!x.isZero();){let Ie=x.getDegree()-v.getDegree(),Ye=this.field.multiply(x.getCoefficient(x.getDegree()),be);he=he.add(this.field.buildMonomial(Ie,Ye)),x=x.subtract(v.multiplyByMonomial(Ie,Ye))}T=he.multiply(A).subtract(ce).negative()}let O=T.getCoefficient(0);if(O===0)throw I.getChecksumInstance();let k=this.field.inverse(O),q=T.multiply(k),Z=x.multiply(k);return[q,Z]}findErrorLocations(l){let h=l.getDegree(),p=new Int32Array(h),v=0;for(let x=1;x<this.field.getSize()&&v<h;x++)l.evaluateAt(x)===0&&(p[v]=this.field.inverse(x),v++);if(v!==h)throw I.getChecksumInstance();return p}findErrorMagnitudes(l,h,p){let v=h.getDegree(),x=new Int32Array(v);for(let k=1;k<=v;k++)x[v-k]=this.field.multiply(k,h.getCoefficient(k));let A=new Ln(this.field,x),T=p.length,O=new Int32Array(T);for(let k=0;k<T;k++){let q=this.field.inverse(p[k]),Z=this.field.subtract(0,l.evaluateAt(q)),te=this.field.inverse(A.evaluateAt(q));O[k]=this.field.multiply(Z,te)}return O}}class Ua{constructor(l,h,p,v,x){l instanceof Ua?this.constructor_2(l):this.constructor_1(l,h,p,v,x)}constructor_1(l,h,p,v,x){const A=h==null||p==null,T=v==null||x==null;if(A&&T)throw new oe;A?(h=new $e(0,v.getY()),p=new $e(0,x.getY())):T&&(v=new $e(l.getWidth()-1,h.getY()),x=new $e(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=h,this.bottomLeft=p,this.topRight=v,this.bottomRight=x,this.minX=Math.trunc(Math.min(h.getX(),p.getX())),this.maxX=Math.trunc(Math.max(v.getX(),x.getX())),this.minY=Math.trunc(Math.min(h.getY(),v.getY())),this.maxY=Math.trunc(Math.max(p.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new Ua(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,p){let v=this.topLeft,x=this.bottomLeft,A=this.topRight,T=this.bottomRight;if(l>0){let O=p?this.topLeft:this.topRight,k=Math.trunc(O.getY()-l);k<0&&(k=0);let q=new $e(O.getX(),k);p?v=q:A=q}if(h>0){let O=p?this.bottomLeft:this.bottomRight,k=Math.trunc(O.getY()+h);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let q=new $e(O.getX(),k);p?x=q:T=q}return new Ua(this.image,v,x,A,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ks{constructor(l,h,p,v){this.columnCount=l,this.errorCorrectionLevel=v,this.rowCountUpperPart=h,this.rowCountLowerPart=p,this.rowCount=h+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ho{constructor(){this.buffer=""}static form(l,h){let p=-1;function v(A,T,O,k,q,Z){if(A==="%%")return"%";if(h[++p]===void 0)return;A=k?parseInt(k.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,ce;switch(Z){case"s":ce=h[p];break;case"c":ce=h[p][0];break;case"f":ce=parseFloat(h[p]).toFixed(A);break;case"p":ce=parseFloat(h[p]).toPrecision(A);break;case"e":ce=parseFloat(h[p]).toExponential(A);break;case"x":ce=parseInt(h[p]).toString(te||16);break;case"d":ce=parseFloat(parseInt(h[p],te||10).toPrecision(A)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(te);let he=parseInt(O),me=O&&O[0]+""=="0"?"0":" ";for(;ce.length<he;)ce=T!==void 0?ce+me:me+ce;return ce}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,v)}format(l,...h){this.buffer+=Ho.form(l,h)}toString(){return this.buffer}}class Fa{constructor(l){this.boundingBox=new Ua(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let p=1;p<Fa.MAX_NEARBY_DISTANCE;p++){let v=this.imageRowToCodewordIndex(l)-p;if(v>=0&&(h=this.codewords[v],h!=null)||(v=this.imageRowToCodewordIndex(l)+p,v<this.codewords.length&&(h=this.codewords[v],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Ho;let h=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,p.getRowNumber(),p.getValue())}return l.toString()}}Fa.MAX_NEARBY_DISTANCE=5;class Zi{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[p,v]of this.values.entries()){const x={getKey:()=>p,getValue:()=>v};x.getValue()>l?(l=x.getValue(),h=[],h.push(x.getKey())):x.getValue()===l&&h.push(x.getKey())}return _t.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class xa extends Fa{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let p=this.getBoundingBox(),v=this._isLeft?p.getTopLeft():p.getTopRight(),x=this._isLeft?p.getBottomLeft():p.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),T=this.imageRowToCodewordIndex(Math.trunc(x.getY())),O=-1,k=1,q=0;for(let Z=A;Z<T;Z++){if(h[Z]==null)continue;let te=h[Z],ce=te.getRowNumber()-O;if(ce===0)q++;else if(ce===1)k=Math.max(k,q),q=1,O=te.getRowNumber();else if(ce<0||te.getRowNumber()>=l.getRowCount()||ce>Z)h[Z]=null;else{let he;k>2?he=(k-2)*ce:he=ce;let me=he>=Z;for(let be=1;be<=he&&!me;be++)me=h[Z-be]!=null;me?h[Z]=null:(O=te.getRowNumber(),q=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let v=p.getRowNumber();if(v>=h.length)continue;h[v]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),T=this.getCodewords(),O=-1;for(let k=x;k<A;k++){if(T[k]==null)continue;let q=T[k];q.setRowNumberAsRowIndicatorColumn();let Z=q.getRowNumber()-O;Z===0||(Z===1?O=q.getRowNumber():q.getRowNumber()>=l.getRowCount()?T[k]=null:O=q.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new Zi,p=new Zi,v=new Zi,x=new Zi;for(let T of l){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let O=T.getValue()%30,k=T.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:p.setValue(O*3+1);break;case 1:x.setValue(O/3),v.setValue(O%3);break;case 2:h.setValue(O+1);break}}if(h.getValue().length===0||p.getValue().length===0||v.getValue().length===0||x.getValue().length===0||h.getValue()[0]<1||p.getValue()[0]+v.getValue()[0]<_t.MIN_ROWS_IN_BARCODE||p.getValue()[0]+v.getValue()[0]>_t.MAX_ROWS_IN_BARCODE)return null;let A=new Ks(h.getValue()[0],p.getValue()[0],v.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,A),A}removeIncorrectCodewords(l,h){for(let p=0;p<l.length;p++){let v=l[p];if(l[p]==null)continue;let x=v.getValue()%30,A=v.getRowNumber();if(A>h.getRowCount()){l[p]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:x*3+1!==h.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(x/3)!==h.getErrorCorrectionLevel()||x%3!==h.getRowCountLowerPart())&&(l[p]=null);break;case 2:x+1!==h.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Tr{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=_t.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let p=this.detectionResultColumns[h].getCodewords();for(let v=0;v<p.length;v++)p[v]!=null&&(p[v].hasValidRowNumber()||this.adjustRowNumbers(h,v,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&h[p]!=null&&l[p].getRowNumber()===h[p].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let x=this.detectionResultColumns[v].getCodewords()[p];x!=null&&(x.setRowNumber(l[p].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let v=h[p].getRowNumber(),x=0;for(let A=this.barcodeColumnCount+1;A>0&&x<this.ADJUST_ROW_NUMBER_SKIP;A--){let T=this.detectionResultColumns[A].getCodewords()[p];T!=null&&(x=Tr.adjustRowNumberIfValid(v,x,T),T.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let v=h[p].getRowNumber(),x=0;for(let A=1;A<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;A++){let T=this.detectionResultColumns[A].getCodewords()[p];T!=null&&(x=Tr.adjustRowNumberIfValid(v,x,T),T.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,p){if(!this.detectionResultColumns[l-1])return;let v=p[h],x=this.detectionResultColumns[l-1].getCodewords(),A=x;this.detectionResultColumns[l+1]!=null&&(A=this.detectionResultColumns[l+1].getCodewords());let T=new Array(14);T[2]=x[h],T[3]=A[h],h>0&&(T[0]=p[h-1],T[4]=x[h-1],T[5]=A[h-1]),h>1&&(T[8]=p[h-2],T[10]=x[h-2],T[11]=A[h-2]),h<p.length-1&&(T[1]=p[h+1],T[6]=x[h+1],T[7]=A[h+1]),h<p.length-2&&(T[9]=p[h+2],T[12]=x[h+2],T[13]=A[h+2]);for(let O of T)if(Tr.adjustRowNumber(v,O))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new Ho;for(let p=0;p<l.getCodewords().length;p++){h.format("CW %3d:",p);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){h.format("    |   ");continue}let x=this.detectionResultColumns[v].getCodewords()[p];if(x==null){h.format("    |   ");continue}h.format(" %3d|%3d",x.getRowNumber(),x.getValue())}h.format("%n")}return h.toString()}}class ea{constructor(l,h,p,v){this.rowNumber=ea.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(p),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==ea.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}ea.BARCODE_ROW_UNKNOWN=-1;class sr{static initialize(){for(let l=0;l<_t.SYMBOL_TABLE.length;l++){let h=_t.SYMBOL_TABLE[l],p=h&1;for(let v=0;v<_t.BARS_IN_MODULE;v++){let x=0;for(;(h&1)===p;)x+=1,h>>=1;p=h&1,sr.RATIOS_TABLE[l]||(sr.RATIOS_TABLE[l]=new Array(_t.BARS_IN_MODULE)),sr.RATIOS_TABLE[l][_t.BARS_IN_MODULE-v-1]=Math.fround(x/_t.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=sr.getDecodedCodewordValue(sr.sampleBitCounts(l));return h!==-1?h:sr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=et.sum(l),p=new Int32Array(_t.BARS_IN_MODULE),v=0,x=0;for(let A=0;A<_t.MODULES_IN_CODEWORD;A++){let T=h/(2*_t.MODULES_IN_CODEWORD)+A*h/_t.MODULES_IN_CODEWORD;x+l[v]<=T&&(x+=l[v],v++),p[v]++}return p}static getDecodedCodewordValue(l){let h=sr.getBitValue(l);return _t.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let p=0;p<l.length;p++)for(let v=0;v<l[p];v++)h=h<<1|(p%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=et.sum(l),p=new Array(_t.BARS_IN_MODULE);if(h>1)for(let A=0;A<p.length;A++)p[A]=Math.fround(l[A]/h);let v=qt.MAX_VALUE,x=-1;this.bSymbolTableReady||sr.initialize();for(let A=0;A<sr.RATIOS_TABLE.length;A++){let T=0,O=sr.RATIOS_TABLE[A];for(let k=0;k<_t.BARS_IN_MODULE;k++){let q=Math.fround(O[k]-p[k]);if(T+=Math.fround(q*q),T>=v)break}T<v&&(v=T,x=_t.SYMBOL_TABLE[A])}return x}}sr.bSymbolTableReady=!1,sr.RATIOS_TABLE=new Array(_t.SYMBOL_TABLE.length).map(J=>new Array(_t.BARS_IN_MODULE));class qo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class oc{static parseLong(l,h=void 0){return parseInt(l,h)}}class Go extends u{}Go.kind="NullPointerException";class sc{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,p){if(l==null)throw new Go;if(h<0||h>l.length||p<0||h+p>l.length||h+p<0)throw new R;if(p===0)return;for(let v=0;v<p;v++)this.write(l[h+v])}flush(){}close(){}}class ho extends u{}class lc extends sc{constructor(l=32){if(super(),this.count=0,l<0)throw new y("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new ho;p=U.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,p){if(h<0||h>l.length||p<0||h+p-l.length>0)throw new R;this.ensureCapacity(this.count+p),M.arraycopy(l,h,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var bn;(function(J){J[J.ALPHA=0]="ALPHA",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.PUNCT=3]="PUNCT",J[J.ALPHA_SHIFT=4]="ALPHA_SHIFT",J[J.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bn||(bn={}));function vs(){if(typeof window<"u")return window.BigInt||null;if(typeof qc<"u")return qc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xs;function Va(J){if(typeof Xs>"u"&&(Xs=vs()),Xs===null)throw new Error("BigInt is not supported!");return Xs(J)}function Qs(){let J=[];J[0]=Va(1);let l=Va(900);J[1]=l;for(let h=2;h<16;h++)J[h]=J[h-1]*l;return J}class Ce{static decode(l,h){let p=new X(""),v=F.ISO8859_1;p.enableDecoding(v);let x=1,A=l[x++],T=new qo;for(;x<l[0];){switch(A){case Ce.TEXT_COMPACTION_MODE_LATCH:x=Ce.textCompaction(l,x,p);break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:x=Ce.byteCompaction(A,l,v,x,p);break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[x++]);break;case Ce.NUMERIC_COMPACTION_MODE_LATCH:x=Ce.numericCompaction(l,x,p);break;case Ce.ECI_CHARSET:F.getCharacterSetECIByValue(l[x++]);break;case Ce.ECI_GENERAL_PURPOSE:x+=2;break;case Ce.ECI_USER_DEFINED:x++;break;case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ce.decodeMacroBlock(l,x,T);break;case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:throw new L;default:x--,x=Ce.textCompaction(l,x,p);break}if(x<l.length)A=l[x++];else throw L.getFormatInstance()}if(p.length()===0)throw L.getFormatInstance();let O=new He(null,p.toString(),null,h);return O.setOther(T),O}static decodeMacroBlock(l,h,p){if(h+Ce.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw L.getFormatInstance();let v=new Int32Array(Ce.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<Ce.NUMBER_OF_SEQUENCE_CODEWORDS;T++,h++)v[T]=l[h];p.setSegmentIndex(U.parseInt(Ce.decodeBase900toBase10(v,Ce.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new X;h=Ce.textCompaction(l,h,x),p.setFileId(x.toString());let A=-1;for(l[h]===Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=h+1);h<l[0];)switch(l[h]){case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new X;h=Ce.textCompaction(l,h+1,T),p.setFileName(T.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let O=new X;h=Ce.textCompaction(l,h+1,O),p.setSender(O.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new X;h=Ce.textCompaction(l,h+1,k),p.setAddressee(k.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let q=new X;h=Ce.numericCompaction(l,h+1,q),p.setSegmentCount(U.parseInt(q.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new X;h=Ce.numericCompaction(l,h+1,Z),p.setTimestamp(oc.parseLong(Z.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new X;h=Ce.numericCompaction(l,h+1,te),p.setChecksum(U.parseInt(te.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new X;h=Ce.numericCompaction(l,h+1,ce),p.setFileSize(oc.parseLong(ce.toString()));break;default:throw L.getFormatInstance()}break;case Ce.MACRO_PDF417_TERMINATOR:h++,p.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(A!==-1){let T=h-A;p.isLastSegment()&&T--,p.setOptionalData(B.copyOfRange(l,A,A+T))}return h}static textCompaction(l,h,p){let v=new Int32Array((l[0]-h)*2),x=new Int32Array((l[0]-h)*2),A=0,T=!1;for(;h<l[0]&&!T;){let O=l[h++];if(O<Ce.TEXT_COMPACTION_MODE_LATCH)v[A]=O/30,v[A+1]=O%30,A+=2;else switch(O){case Ce.TEXT_COMPACTION_MODE_LATCH:v[A++]=Ce.TEXT_COMPACTION_MODE_LATCH;break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,T=!0;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[A]=Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,O=l[h++],x[A]=O,A++;break}}return Ce.decodeTextCompaction(v,x,A,p),h}static decodeTextCompaction(l,h,p,v){let x=bn.ALPHA,A=bn.ALPHA,T=0;for(;T<p;){let O=l[T],k="";switch(x){case bn.ALPHA:if(O<26)k=String.fromCharCode(65+O);else switch(O){case 26:k=" ";break;case Ce.LL:x=bn.LOWER;break;case Ce.ML:x=bn.MIXED;break;case Ce.PS:A=x,x=bn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[T]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.LOWER:if(O<26)k=String.fromCharCode(97+O);else switch(O){case 26:k=" ";break;case Ce.AS:A=x,x=bn.ALPHA_SHIFT;break;case Ce.ML:x=bn.MIXED;break;case Ce.PS:A=x,x=bn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[T]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.MIXED:if(O<Ce.PL)k=Ce.MIXED_CHARS[O];else switch(O){case Ce.PL:x=bn.PUNCT;break;case 26:k=" ";break;case Ce.LL:x=bn.LOWER;break;case Ce.AL:x=bn.ALPHA;break;case Ce.PS:A=x,x=bn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[T]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.PUNCT:if(O<Ce.PAL)k=Ce.PUNCT_CHARS[O];else switch(O){case Ce.PAL:x=bn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[T]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.ALPHA_SHIFT:if(x=A,O<26)k=String.fromCharCode(65+O);else switch(O){case 26:k=" ";break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break;case bn.PUNCT_SHIFT:if(x=A,O<Ce.PAL)k=Ce.PUNCT_CHARS[O];else switch(O){case Ce.PAL:x=bn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[T]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:x=bn.ALPHA;break}break}k!==""&&v.append(k),T++}}static byteCompaction(l,h,p,v,x){let A=new lc,T=0,O=0,k=!1;switch(l){case Ce.BYTE_COMPACTION_MODE_LATCH:let q=new Int32Array(6),Z=h[v++];for(;v<h[0]&&!k;)switch(q[T++]=Z,O=900*O+Z,Z=h[v++],Z){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:v--,k=!0;break;default:if(T%5===0&&T>0){for(let te=0;te<6;++te)A.write(Number(Va(O)>>Va(8*(5-te))));O=0,T=0}break}v===h[0]&&Z<Ce.TEXT_COMPACTION_MODE_LATCH&&(q[T++]=Z);for(let te=0;te<T;te++)A.write(q[te]);break;case Ce.BYTE_COMPACTION_MODE_LATCH_6:for(;v<h[0]&&!k;){let te=h[v++];if(te<Ce.TEXT_COMPACTION_MODE_LATCH)T++,O=900*O+te;else switch(te){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:v--,k=!0;break}if(T%5===0&&T>0){for(let ce=0;ce<6;++ce)A.write(Number(Va(O)>>Va(8*(5-ce))));O=0,T=0}}break}return x.append(K.decode(A.toByteArray(),p)),v}static numericCompaction(l,h,p){let v=0,x=!1,A=new Int32Array(Ce.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!x;){let T=l[h++];if(h===l[0]&&(x=!0),T<Ce.TEXT_COMPACTION_MODE_LATCH)A[v]=T,v++;else switch(T){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,x=!0;break}(v%Ce.MAX_NUMERIC_CODEWORDS===0||T===Ce.NUMERIC_COMPACTION_MODE_LATCH||x)&&v>0&&(p.append(Ce.decodeBase900toBase10(A,v)),v=0)}return h}static decodeBase900toBase10(l,h){let p=Va(0);for(let x=0;x<h;x++)p+=Ce.EXP900[h-x-1]*Va(l[x]);let v=p.toString();if(v.charAt(0)!=="1")throw new L;return v.substring(1)}}Ce.TEXT_COMPACTION_MODE_LATCH=900,Ce.BYTE_COMPACTION_MODE_LATCH=901,Ce.NUMERIC_COMPACTION_MODE_LATCH=902,Ce.BYTE_COMPACTION_MODE_LATCH_6=924,Ce.ECI_USER_DEFINED=925,Ce.ECI_GENERAL_PURPOSE=926,Ce.ECI_CHARSET=927,Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ce.MACRO_PDF417_TERMINATOR=922,Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ce.MAX_NUMERIC_CODEWORDS=15,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ce.PL=25,Ce.LL=27,Ce.AS=27,Ce.ML=28,Ce.AL=28,Ce.PS=29,Ce.PAL=29,Ce.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ce.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ce.EXP900=vs()?Qs():[],Ce.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Gt{constructor(){}static decode(l,h,p,v,x,A,T){let O=new Ua(l,h,p,v,x),k=null,q=null,Z;for(let he=!0;;he=!1){if(h!=null&&(k=Gt.getRowIndicatorColumn(l,O,h,!0,A,T)),v!=null&&(q=Gt.getRowIndicatorColumn(l,O,v,!1,A,T)),Z=Gt.merge(k,q),Z==null)throw oe.getNotFoundInstance();let me=Z.getBoundingBox();if(he&&me!=null&&(me.getMinY()<O.getMinY()||me.getMaxY()>O.getMaxY()))O=me;else break}Z.setBoundingBox(O);let te=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,k),Z.setDetectionResultColumn(te,q);let ce=k!=null;for(let he=1;he<=te;he++){let me=ce?he:te-he;if(Z.getDetectionResultColumn(me)!==void 0)continue;let be;me===0||me===te?be=new xa(O,me===0):be=new Fa(O),Z.setDetectionResultColumn(me,be);let Ie=-1,Ye=Ie;for(let We=O.getMinY();We<=O.getMaxY();We++){if(Ie=Gt.getStartColumn(Z,me,We,ce),Ie<0||Ie>O.getMaxX()){if(Ye===-1)continue;Ie=Ye}let ze=Gt.detectCodeword(l,O.getMinX(),O.getMaxX(),ce,Ie,We,A,T);ze!=null&&(be.setCodeword(We,ze),Ye=Ie,A=Math.min(A,ze.getWidth()),T=Math.max(T,ze.getWidth()))}}return Gt.createDecoderResult(Z)}static merge(l,h){if(l==null&&h==null)return null;let p=Gt.getBarcodeMetadata(l,h);if(p==null)return null;let v=Ua.merge(Gt.adjustBoundingBox(l),Gt.adjustBoundingBox(h));return new Tr(p,v)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let p=Gt.getMax(h),v=0;for(let T of h)if(v+=p-T,T>0)break;let x=l.getCodewords();for(let T=0;v>0&&x[T]==null;T++)v--;let A=0;for(let T=h.length-1;T>=0&&(A+=p-h[T],!(h[T]>0));T--);for(let T=x.length-1;A>0&&x[T]==null;T--)A--;return l.getBoundingBox().addMissingRows(v,A,l.isLeft())}static getMax(l){let h=-1;for(let p of l)h=Math.max(h,p);return h}static getBarcodeMetadata(l,h){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let v;return h==null||(v=h.getBarcodeMetadata())==null?p:p.getColumnCount()!==v.getColumnCount()&&p.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&p.getRowCount()!==v.getRowCount()?null:p}static getRowIndicatorColumn(l,h,p,v,x,A){let T=new xa(h,v);for(let O=0;O<2;O++){let k=O===0?1:-1,q=Math.trunc(Math.trunc(p.getX()));for(let Z=Math.trunc(Math.trunc(p.getY()));Z<=h.getMaxY()&&Z>=h.getMinY();Z+=k){let te=Gt.detectCodeword(l,0,l.getWidth(),v,q,Z,x,A);te!=null&&(T.setCodeword(Z,te),v?q=te.getStartX():q=te.getEndX())}}return T}static adjustCodewordCount(l,h){let p=h[0][1],v=p.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Gt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(v.length===0){if(x<1||x>_t.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();p.setValue(x)}else v[0]!==x&&p.setValue(x)}static createDecoderResult(l){let h=Gt.createBarcodeMatrix(l);Gt.adjustCodewordCount(l,h);let p=new Array,v=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],A=new Array;for(let O=0;O<l.getBarcodeRowCount();O++)for(let k=0;k<l.getBarcodeColumnCount();k++){let q=h[O][k+1].getValue(),Z=O*l.getBarcodeColumnCount()+k;q.length===0?p.push(Z):q.length===1?v[Z]=q[0]:(A.push(Z),x.push(q))}let T=new Array(x.length);for(let O=0;O<T.length;O++)T[O]=x[O];return Gt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),v,_t.toIntArray(p),_t.toIntArray(A),T)}static createDecoderResultFromAmbiguousValues(l,h,p,v,x){let A=new Int32Array(v.length),T=100;for(;T-- >0;){for(let O=0;O<A.length;O++)h[v[O]]=x[O][A[O]];try{return Gt.decodeCodewords(h,l,p)}catch(O){if(!(O instanceof I))throw O}if(A.length===0)throw I.getChecksumInstance();for(let O=0;O<A.length;O++)if(A[O]<x[O].length-1){A[O]++;break}else if(A[O]=0,O===A.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let v=0;v<h.length;v++)for(let x=0;x<h[v].length;x++)h[v][x]=new Zi;let p=0;for(let v of l.getDetectionResultColumns()){if(v!=null){for(let x of v.getCodewords())if(x!=null){let A=x.getRowNumber();if(A>=0){if(A>=h.length)continue;h[A][p].setValue(x.getValue())}}}p++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,p,v){let x=v?1:-1,A=null;if(Gt.isValidBarcodeColumn(l,h-x)&&(A=l.getDetectionResultColumn(h-x).getCodeword(p)),A!=null)return v?A.getEndX():A.getStartX();if(A=l.getDetectionResultColumn(h).getCodewordNearby(p),A!=null)return v?A.getStartX():A.getEndX();if(Gt.isValidBarcodeColumn(l,h-x)&&(A=l.getDetectionResultColumn(h-x).getCodewordNearby(p)),A!=null)return v?A.getEndX():A.getStartX();let T=0;for(;Gt.isValidBarcodeColumn(l,h-x);){h-=x;for(let O of l.getDetectionResultColumn(h).getCodewords())if(O!=null)return(v?O.getEndX():O.getStartX())+x*T*(O.getEndX()-O.getStartX());T++}return v?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,p,v,x,A,T,O){x=Gt.adjustCodewordStartColumn(l,h,p,v,x,A);let k=Gt.getModuleBitCount(l,h,p,v,x,A);if(k==null)return null;let q,Z=et.sum(k);if(v)q=x+Z;else{for(let he=0;he<k.length/2;he++){let me=k[he];k[he]=k[k.length-1-he],k[k.length-1-he]=me}q=x,x=q-Z}if(!Gt.checkCodewordSkew(Z,T,O))return null;let te=sr.getDecodedValue(k),ce=_t.getCodeword(te);return ce===-1?null:new ea(x,q,Gt.getCodewordBucketNumber(te),ce)}static getModuleBitCount(l,h,p,v,x,A){let T=x,O=new Int32Array(8),k=0,q=v?1:-1,Z=v;for(;(v?T<p:T>=h)&&k<O.length;)l.get(T,A)===Z?(O[k]++,T+=q):(k++,Z=!Z);return k===O.length||T===(v?p:h)&&k===O.length-1?O:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,p,v,x,A){let T=x,O=v?-1:1;for(let k=0;k<2;k++){for(;(v?T>=h:T<p)&&v===l.get(T,A);){if(Math.abs(x-T)>Gt.CODEWORD_SKEW_SIZE)return x;T+=O}O=-O,v=!v}return T}static checkCodewordSkew(l,h,p){return h-Gt.CODEWORD_SKEW_SIZE<=l&&l<=p+Gt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,p){if(l.length===0)throw L.getFormatInstance();let v=1<<h+1,x=Gt.correctErrors(l,p,v);Gt.verifyCodewordCount(l,v);let A=Ce.decode(l,""+h);return A.setErrorsCorrected(x),A.setErasures(p.length),A}static correctErrors(l,h,p){if(h!=null&&h.length>p/2+Gt.MAX_ERRORS||p<0||p>Gt.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Gt.errorCorrection.decode(l,p,h)}static verifyCodewordCount(l,h){if(l.length<4)throw L.getFormatInstance();let p=l[0];if(p>l.length)throw L.getFormatInstance();if(p===0)if(h<l.length)l[0]=l.length-h;else throw L.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),p=0,v=h.length-1;for(;!((l&1)!==p&&(p=l&1,v--,v<0));)h[v]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Gt.getCodewordBucketNumber(Gt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new Ho;for(let p=0;p<l.length;p++){h.format("Row %2d: ",p);for(let v=0;v<l[p].length;v++){let x=l[p][v];x.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}h.format("%n")}return h.toString()}}Gt.CODEWORD_SKEW_SIZE=2,Gt.MAX_ERRORS=3,Gt.MAX_EC_CODEWORDS=512,Gt.errorCorrection=new Ba;class yr{decode(l,h=null){let p=yr.decode(l,h,!1);if(p==null||p.length===0||p[0]==null)throw oe.getNotFoundInstance();return p[0]}decodeMultiple(l,h=null){try{return yr.decode(l,h,!0)}catch(p){throw p instanceof L||p instanceof I?oe.getNotFoundInstance():p}}static decode(l,h,p){const v=new Array,x=Nt.detectMultiple(l,h,p);for(const A of x.getPoints()){const T=Gt.decode(x.getBits(),A[4],A[5],A[6],A[7],yr.getMinCodewordWidth(A),yr.getMaxCodewordWidth(A)),O=new Me(T.getText(),T.getRawBytes(),void 0,A,Be.PDF_417);O.putMetadata(vt.ERROR_CORRECTION_LEVEL,T.getECLevel());const k=T.getOther();k!=null&&O.putMetadata(vt.PDF417_EXTRA_METADATA,k),v.push(O)}return v.map(A=>A)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?U.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(yr.getMaxWidth(l[0],l[4]),yr.getMaxWidth(l[6],l[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.max(yr.getMaxWidth(l[1],l[5]),yr.getMaxWidth(l[7],l[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(yr.getMinWidth(l[0],l[4]),yr.getMinWidth(l[6],l[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.min(yr.getMinWidth(l[1],l[5]),yr.getMinWidth(l[7],l[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}reset(){}}class Js extends u{}Js.kind="ReaderException";class Cu{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(G.TRY_HARDER)===!0,p=r(l)?null:l.get(G.POSSIBLE_FORMATS),v=new Array;if(!r(p)){const x=p.some(A=>A===Be.UPC_A||A===Be.UPC_E||A===Be.EAN_13||A===Be.EAN_8||A===Be.CODABAR||A===Be.CODE_39||A===Be.CODE_93||A===Be.CODE_128||A===Be.ITF||A===Be.RSS_14||A===Be.RSS_EXPANDED);x&&!h&&v.push(new Ai(l,this.verbose)),p.includes(Be.QR_CODE)&&v.push(new Fi),p.includes(Be.DATA_MATRIX)&&v.push(new Li),p.includes(Be.AZTEC)&&v.push(new ht),p.includes(Be.PDF_417)&&v.push(new yr),x&&h&&v.push(new Ai(l,this.verbose))}v.length===0&&(h||v.push(new Ai(l,this.verbose)),v.push(new Fi),v.push(new Li),v.push(new ht),v.push(new yr),h&&v.push(new Ai(l,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Js("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(p){if(p instanceof Js)continue}throw new oe("No MultiFormat Readers were able to detect the code.")}}class po extends Te{constructor(l=null,h=500){const p=new Cu;p.setHints(l),super(p,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Df extends Te{constructor(l=500){super(new yr,l)}}class kf extends Te{constructor(l=500){super(new Fi,l)}}var cc;(function(J){J[J.ERROR_CORRECTION=0]="ERROR_CORRECTION",J[J.CHARACTER_SET=1]="CHARACTER_SET",J[J.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",J[J.MIN_SIZE=3]="MIN_SIZE",J[J.MAX_SIZE=4]="MAX_SIZE",J[J.MARGIN=5]="MARGIN",J[J.PDF417_COMPACT=6]="PDF417_COMPACT",J[J.PDF417_COMPACTION=7]="PDF417_COMPACTION",J[J.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",J[J.AZTEC_LAYERS=9]="AZTEC_LAYERS",J[J.QR_VERSION=10]="QR_VERSION"})(cc||(cc={}));var vr=cc;class mo{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new lt(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let p=h[h.length-1];const v=this.field;for(let x=h.length;x<=l;x++){const A=p.multiply(new lt(v,Int32Array.from([1,v.exp(x-1+v.getGeneratorBase())])));h.push(A),p=A}}return h[l]}encode(l,h){if(h===0)throw new y("No error correction bytes");const p=l.length-h;if(p<=0)throw new y("No data bytes provided");const v=this.buildGenerator(h),x=new Int32Array(p);M.arraycopy(l,0,x,0,p);let A=new lt(this.field,x);A=A.multiplyByMonomial(h,1);const O=A.divide(v)[1].getCoefficients(),k=h-O.length;for(let q=0;q<k;q++)l[p+q]=0;M.arraycopy(O,0,l,p+k,O.length)}}class nn{constructor(){}static applyMaskPenaltyRule1(l){return nn.applyMaskPenaltyRule1Internal(l,!0)+nn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let A=0;A<x-1;A++){const T=p[A];for(let O=0;O<v-1;O++){const k=T[O];k===T[O+1]&&k===p[A+1][O]&&k===p[A+1][O+1]&&h++}}return nn.N2*h}static applyMaskPenaltyRule3(l){let h=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let A=0;A<x;A++)for(let T=0;T<v;T++){const O=p[A];T+6<v&&O[T]===1&&O[T+1]===0&&O[T+2]===1&&O[T+3]===1&&O[T+4]===1&&O[T+5]===0&&O[T+6]===1&&(nn.isWhiteHorizontal(O,T-4,T)||nn.isWhiteHorizontal(O,T+7,T+11))&&h++,A+6<x&&p[A][T]===1&&p[A+1][T]===0&&p[A+2][T]===1&&p[A+3][T]===1&&p[A+4][T]===1&&p[A+5][T]===0&&p[A+6][T]===1&&(nn.isWhiteVertical(p,T,A-4,A)||nn.isWhiteVertical(p,T,A+7,A+11))&&h++}return h*nn.N3}static isWhiteHorizontal(l,h,p){h=Math.max(h,0),p=Math.min(p,l.length);for(let v=h;v<p;v++)if(l[v]===1)return!1;return!0}static isWhiteVertical(l,h,p,v){p=Math.max(p,0),v=Math.min(v,l.length);for(let x=p;x<v;x++)if(l[x][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const p=l.getArray(),v=l.getWidth(),x=l.getHeight();for(let O=0;O<x;O++){const k=p[O];for(let q=0;q<v;q++)k[q]===1&&h++}const A=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-A)*10/A)*nn.N4}static getDataMaskBit(l,h,p){let v,x;switch(l){case 0:v=p+h&1;break;case 1:v=p&1;break;case 2:v=h%3;break;case 3:v=(p+h)%3;break;case 4:v=Math.floor(p/2)+Math.floor(h/3)&1;break;case 5:x=p*h,v=(x&1)+x%3;break;case 6:x=p*h,v=(x&1)+x%3&1;break;case 7:x=p*h,v=x%3+(p+h&1)&1;break;default:throw new y("Invalid mask pattern: "+l)}return v===0}static applyMaskPenaltyRule1Internal(l,h){let p=0;const v=h?l.getHeight():l.getWidth(),x=h?l.getWidth():l.getHeight(),A=l.getArray();for(let T=0;T<v;T++){let O=0,k=-1;for(let q=0;q<x;q++){const Z=h?A[T][q]:A[q][T];Z===k?O++:(O>=5&&(p+=nn.N1+(O-5)),O=1,k=Z)}O>=5&&(p+=nn.N1+(O-5))}return p}}nn.N1=3,nn.N2=3,nn.N3=40,nn.N4=10;class Zs{constructor(l,h){this.width=l,this.height=h;const p=new Array(h);for(let v=0;v!==h;v++)p[v]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,p){this.bytes[h][l]=p}setBoolean(l,h,p){this.bytes[h][l]=p?1:0}clear(l){for(const h of this.bytes)B.fill(h,l)}equals(l){if(!(l instanceof Zs))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let p=0,v=this.height;p<v;++p){const x=this.bytes[p],A=h.bytes[p];for(let T=0,O=this.width;T<O;++T)if(x[T]!==A[T])return!1}return!0}toString(){const l=new X;for(let h=0,p=this.height;h<p;++h){const v=this.bytes[h];for(let x=0,A=this.width;x<A;++x)switch(v[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class go{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new X;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<go.NUM_MASK_PATTERNS}}go.NUM_MASK_PATTERNS=8;class on extends u{}on.kind="WriterException";class S{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,p,v,x){S.clearMatrix(x),S.embedBasicPatterns(p,x),S.embedTypeInfo(h,v,x),S.maybeEmbedVersionInfo(p,x),S.embedDataBits(l,v,x)}static embedBasicPatterns(l,h){S.embedPositionDetectionPatternsAndSeparators(h),S.embedDarkDotAtLeftBottomCorner(h),S.maybeEmbedPositionAdjustmentPatterns(l,h),S.embedTimingPatterns(h)}static embedTypeInfo(l,h,p){const v=new $;S.makeTypeInfoBits(l,h,v);for(let x=0,A=v.getSize();x<A;++x){const T=v.get(v.getSize()-1-x),O=S.TYPE_INFO_COORDINATES[x],k=O[0],q=O[1];if(p.setBoolean(k,q,T),x<8){const Z=p.getWidth()-x-1;p.setBoolean(Z,8,T)}else{const te=p.getHeight()-7+(x-8);p.setBoolean(8,te,T)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const p=new $;S.makeVersionInfoBits(l,p);let v=17;for(let x=0;x<6;++x)for(let A=0;A<3;++A){const T=p.get(v);v--,h.setBoolean(x,h.getHeight()-11+A,T),h.setBoolean(h.getHeight()-11+A,x,T)}}static embedDataBits(l,h,p){let v=0,x=-1,A=p.getWidth()-1,T=p.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);T>=0&&T<p.getHeight();){for(let O=0;O<2;++O){const k=A-O;if(!S.isEmpty(p.get(k,T)))continue;let q;v<l.getSize()?(q=l.get(v),++v):q=!1,h!==255&&nn.getDataMaskBit(h,k,T)&&(q=!q),p.setBoolean(k,T,q)}T+=x}x=-x,T+=x,A-=2}if(v!==l.getSize())throw new on("Not all bits consumed: "+v+"/"+l.getSize())}static findMSBSet(l){return 32-U.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new y("0 polynomial");const p=S.findMSBSet(h);for(l<<=p-1;S.findMSBSet(l)>=p;)l^=h<<S.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,h,p){if(!go.isValidMaskPattern(h))throw new on("Invalid mask pattern");const v=l.getBits()<<3|h;p.appendBits(v,5);const x=S.calculateBCHCode(v,S.TYPE_INFO_POLY);p.appendBits(x,10);const A=new $;if(A.appendBits(S.TYPE_INFO_MASK_PATTERN,15),p.xor(A),p.getSize()!==15)throw new on("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const p=S.calculateBCHCode(l.getVersionNumber(),S.VERSION_INFO_POLY);if(h.appendBits(p,12),h.getSize()!==18)throw new on("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const p=(h+1)%2;S.isEmpty(l.get(h,6))&&l.setNumber(h,6,p),S.isEmpty(l.get(6,h))&&l.setNumber(6,h,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new on;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,p){for(let v=0;v<8;++v){if(!S.isEmpty(p.get(l+v,h)))throw new on;p.setNumber(l+v,h,0)}}static embedVerticalSeparationPattern(l,h,p){for(let v=0;v<7;++v){if(!S.isEmpty(p.get(l,h+v)))throw new on;p.setNumber(l,h+v,0)}}static embedPositionAdjustmentPattern(l,h,p){for(let v=0;v<5;++v){const x=S.POSITION_ADJUSTMENT_PATTERN[v];for(let A=0;A<5;++A)p.setNumber(l+A,h+v,x[A])}}static embedPositionDetectionPattern(l,h,p){for(let v=0;v<7;++v){const x=S.POSITION_DETECTION_PATTERN[v];for(let A=0;A<7;++A)p.setNumber(l+A,h+v,x[A])}}static embedPositionDetectionPatternsAndSeparators(l){const h=S.POSITION_DETECTION_PATTERN[0].length;S.embedPositionDetectionPattern(0,0,l),S.embedPositionDetectionPattern(l.getWidth()-h,0,l),S.embedPositionDetectionPattern(0,l.getWidth()-h,l);const p=8;S.embedHorizontalSeparationPattern(0,p-1,l),S.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),S.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const v=7;S.embedVerticalSeparationPattern(v,0,l),S.embedVerticalSeparationPattern(l.getHeight()-v-1,0,l),S.embedVerticalSeparationPattern(v,l.getHeight()-v,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,v=S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let x=0,A=v.length;x!==A;x++){const T=v[x];if(T>=0)for(let O=0;O!==A;O++){const k=v[O];k>=0&&S.isEmpty(h.get(k,T))&&S.embedPositionAdjustmentPattern(k-2,T-2,h)}}}}S.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),S.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),S.VERSION_INFO_POLY=7973,S.TYPE_INFO_POLY=1335,S.TYPE_INFO_MASK_PATTERN=21522;class z{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Y{constructor(){}static calculateMaskPenalty(l){return nn.applyMaskPenaltyRule1(l)+nn.applyMaskPenaltyRule2(l)+nn.applyMaskPenaltyRule3(l)+nn.applyMaskPenaltyRule4(l)}static encode(l,h,p=null){let v=Y.DEFAULT_BYTE_MODE_ENCODING;const x=p!==null&&p.get(vr.CHARACTER_SET)!==void 0;x&&(v=p.get(vr.CHARACTER_SET).toString());const A=this.chooseMode(l,v),T=new $;if(A===yt.BYTE&&(x||Y.DEFAULT_BYTE_MODE_ENCODING!==v)){const We=F.getCharacterSetECIByName(v);We!==void 0&&this.appendECI(We,T)}this.appendModeInfo(A,T);const O=new $;this.appendBytes(l,A,O,v);let k;if(p!==null&&p.get(vr.QR_VERSION)!==void 0){const We=Number.parseInt(p.get(vr.QR_VERSION).toString(),10);k=ut.getVersionForNumber(We);const ze=this.calculateBitsNeeded(A,T,O,k);if(!this.willFit(ze,k,h))throw new on("Data too big for requested version")}else k=this.recommendVersion(h,A,T,O);const q=new $;q.appendBitArray(T);const Z=A===yt.BYTE?O.getSizeInBytes():l.length;this.appendLengthInfo(Z,k,A,q),q.appendBitArray(O);const te=k.getECBlocksForLevel(h),ce=k.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(ce,q);const he=this.interleaveWithECBytes(q,k.getTotalCodewords(),ce,te.getNumBlocks()),me=new go;me.setECLevel(h),me.setMode(A),me.setVersion(k);const be=k.getDimensionForVersion(),Ie=new Zs(be,be),Ye=this.chooseMaskPattern(he,h,k,Ie);return me.setMaskPattern(Ye),S.buildMatrix(he,h,k,Ye,Ie),me.setMatrix(Ie),me}static recommendVersion(l,h,p,v){const x=this.calculateBitsNeeded(h,p,v,ut.getVersionForNumber(1)),A=this.chooseVersion(x,l),T=this.calculateBitsNeeded(h,p,v,A);return this.chooseVersion(T,l)}static calculateBitsNeeded(l,h,p,v){return h.getSize()+l.getCharacterCountBits(v)+p.getSize()}static getAlphanumericCode(l){return l<Y.ALPHANUMERIC_TABLE.length?Y.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(F.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return yt.KANJI;let p=!1,v=!1;for(let x=0,A=l.length;x<A;++x){const T=l.charAt(x);if(Y.isDigit(T))p=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)v=!0;else return yt.BYTE}return v?yt.ALPHANUMERIC:p?yt.NUMERIC:yt.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=K.encode(l,F.SJIS)}catch{return!1}const p=h.length;if(p%2!==0)return!1;for(let v=0;v<p;v+=2){const x=h[v]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,h,p,v){let x=Number.MAX_SAFE_INTEGER,A=-1;for(let T=0;T<go.NUM_MASK_PATTERNS;T++){S.buildMatrix(l,h,p,T,v);let O=this.calculateMaskPenalty(v);O<x&&(x=O,A=T)}return A}static chooseVersion(l,h){for(let p=1;p<=40;p++){const v=ut.getVersionForNumber(p);if(Y.willFit(l,v,h))return v}throw new on("Data too big")}static willFit(l,h,p){const v=h.getTotalCodewords(),A=h.getECBlocksForLevel(p).getTotalECCodewords(),T=v-A,O=(l+7)/8;return T>=O}static terminateBits(l,h){const p=l*8;if(h.getSize()>p)throw new on("data bits cannot fit in the QR Code"+h.getSize()+" > "+p);for(let A=0;A<4&&h.getSize()<p;++A)h.appendBit(!1);const v=h.getSize()&7;if(v>0)for(let A=v;A<8;A++)h.appendBit(!1);const x=l-h.getSizeInBytes();for(let A=0;A<x;++A)h.appendBits((A&1)===0?236:17,8);if(h.getSize()!==p)throw new on("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,p,v,x,A){if(v>=p)throw new on("Block ID too large");const T=l%p,O=p-T,k=Math.floor(l/p),q=k+1,Z=Math.floor(h/p),te=Z+1,ce=k-Z,he=q-te;if(ce!==he)throw new on("EC bytes mismatch");if(p!==O+T)throw new on("RS blocks mismatch");if(l!==(Z+ce)*O+(te+he)*T)throw new on("Total bytes mismatch");v<O?(x[0]=Z,A[0]=ce):(x[0]=te,A[0]=he)}static interleaveWithECBytes(l,h,p,v){if(l.getSizeInBytes()!==p)throw new on("Number of bits and data bytes does not match");let x=0,A=0,T=0;const O=new Array;for(let q=0;q<v;++q){const Z=new Int32Array(1),te=new Int32Array(1);Y.getNumDataBytesAndNumECBytesForBlockID(h,p,v,q,Z,te);const ce=Z[0],he=new Uint8Array(ce);l.toBytes(8*x,he,0,ce);const me=Y.generateECBytes(he,te[0]);O.push(new z(he,me)),A=Math.max(A,ce),T=Math.max(T,me.length),x+=Z[0]}if(p!==x)throw new on("Data bytes does not match offset");const k=new $;for(let q=0;q<A;++q)for(const Z of O){const te=Z.getDataBytes();q<te.length&&k.appendBits(te[q],8)}for(let q=0;q<T;++q)for(const Z of O){const te=Z.getErrorCorrectionBytes();q<te.length&&k.appendBits(te[q],8)}if(h!==k.getSizeInBytes())throw new on("Interleaving error: "+h+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(l,h){const p=l.length,v=new Int32Array(p+h);for(let A=0;A<p;A++)v[A]=l[A]&255;new mo(ct.QR_CODE_FIELD_256).encode(v,h);const x=new Uint8Array(h);for(let A=0;A<h;A++)x[A]=v[p+A];return x}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,p,v){const x=p.getCharacterCountBits(h);if(l>=1<<x)throw new on(l+" is bigger than "+((1<<x)-1));v.appendBits(l,x)}static appendBytes(l,h,p,v){switch(h){case yt.NUMERIC:Y.appendNumericBytes(l,p);break;case yt.ALPHANUMERIC:Y.appendAlphanumericBytes(l,p);break;case yt.BYTE:Y.append8BitBytes(l,p,v);break;case yt.KANJI:Y.appendKanjiBytes(l,p);break;default:throw new on("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=Y.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const p=l.length;let v=0;for(;v<p;){const x=Y.getDigit(l.charAt(v));if(v+2<p){const A=Y.getDigit(l.charAt(v+1)),T=Y.getDigit(l.charAt(v+2));h.appendBits(x*100+A*10+T,10),v+=3}else if(v+1<p){const A=Y.getDigit(l.charAt(v+1));h.appendBits(x*10+A,7),v+=2}else h.appendBits(x,4),v++}}static appendAlphanumericBytes(l,h){const p=l.length;let v=0;for(;v<p;){const x=Y.getAlphanumericCode(l.charCodeAt(v));if(x===-1)throw new on;if(v+1<p){const A=Y.getAlphanumericCode(l.charCodeAt(v+1));if(A===-1)throw new on;h.appendBits(x*45+A,11),v+=2}else h.appendBits(x,6),v++}}static append8BitBytes(l,h,p){let v;try{v=K.encode(l,p)}catch(x){throw new on(x)}for(let x=0,A=v.length;x!==A;x++){const T=v[x];h.appendBits(T,8)}}static appendKanjiBytes(l,h){let p;try{p=K.encode(l,F.SJIS)}catch(x){throw new on(x)}const v=p.length;for(let x=0;x<v;x+=2){const A=p[x]&255,T=p[x+1]&255,O=A<<8&4294967295|T;let k=-1;if(O>=33088&&O<=40956?k=O-33088:O>=57408&&O<=60351&&(k=O-49472),k===-1)throw new on("Invalid byte sequence");const q=(k>>8)*192+(k&255);h.appendBits(q,13)}}static appendECI(l,h){h.appendBits(yt.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}Y.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Y.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class ae{write(l,h,p,v=null){if(l.length===0)throw new y("Found empty contents");if(h<0||p<0)throw new y("Requested dimensions are too small: "+h+"x"+p);let x=Kt.L,A=ae.QUIET_ZONE_SIZE;v!==null&&(v.get(vr.ERROR_CORRECTION)!==void 0&&(x=Kt.fromString(v.get(vr.ERROR_CORRECTION).toString())),v.get(vr.MARGIN)!==void 0&&(A=Number.parseInt(v.get(vr.MARGIN).toString(),10)));const T=Y.encode(l,x,v);return this.renderResult(T,h,p,A)}writeToDom(l,h,p,v,x=null){typeof l=="string"&&(l=document.querySelector(l));const A=this.write(h,p,v,x);l&&l.appendChild(A)}renderResult(l,h,p,v){const x=l.getMatrix();if(x===null)throw new dt;const A=x.getWidth(),T=x.getHeight(),O=A+v*2,k=T+v*2,q=Math.max(h,O),Z=Math.max(p,k),te=Math.min(Math.floor(q/O),Math.floor(Z/k)),ce=Math.floor((q-A*te)/2),he=Math.floor((Z-T*te)/2),me=this.createSVGElement(q,Z);for(let be=0,Ie=he;be<T;be++,Ie+=te)for(let Ye=0,We=ce;Ye<A;Ye++,We+=te)if(x.get(Ye,be)===1){const ze=this.createSvgRectElement(We,Ie,te,te);me.appendChild(ze)}return me}createSVGElement(l,h){const p=document.createElementNS(ae.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",h.toString()),p}createSvgRectElement(l,h,p,v){const x=document.createElementNS(ae.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",h.toString()),x.setAttributeNS(null,"height",p.toString()),x.setAttributeNS(null,"width",v.toString()),x.setAttributeNS(null,"fill","#000000"),x}}ae.QUIET_ZONE_SIZE=4,ae.SVG_NS="http://www.w3.org/2000/svg";class xe{encode(l,h,p,v,x){if(l.length===0)throw new y("Found empty contents");if(h!==Be.QR_CODE)throw new y("Can only encode QR_CODE, but got "+h);if(p<0||v<0)throw new y(`Requested dimensions are too small: ${p}x${v}`);let A=Kt.L,T=xe.QUIET_ZONE_SIZE;x!==null&&(x.get(vr.ERROR_CORRECTION)!==void 0&&(A=Kt.fromString(x.get(vr.ERROR_CORRECTION).toString())),x.get(vr.MARGIN)!==void 0&&(T=Number.parseInt(x.get(vr.MARGIN).toString(),10)));const O=Y.encode(l,A,x);return xe.renderResult(O,p,v,T)}static renderResult(l,h,p,v){const x=l.getMatrix();if(x===null)throw new dt;const A=x.getWidth(),T=x.getHeight(),O=A+v*2,k=T+v*2,q=Math.max(h,O),Z=Math.max(p,k),te=Math.min(Math.floor(q/O),Math.floor(Z/k)),ce=Math.floor((q-A*te)/2),he=Math.floor((Z-T*te)/2),me=new ge(q,Z);for(let be=0,Ie=he;be<T;be++,Ie+=te)for(let Ye=0,We=ce;Ye<A;Ye++,We+=te)x.get(Ye,be)===1&&me.setRegion(We,Ie,te,te);return me}}xe.QUIET_ZONE_SIZE=4;class Ne{encode(l,h,p,v,x){let A;switch(h){case Be.QR_CODE:A=new xe;break;default:throw new y("No encoder available for format "+h)}return A.encode(l,h,p,v,x)}}class Ke extends Ae{constructor(l,h,p,v,x,A,T,O){if(super(A,T),this.yuvData=l,this.dataWidth=h,this.dataHeight=p,this.left=v,this.top=x,v+A>h||x+T>p)throw new y("Crop rectangle does not fit within image data.");O&&this.reverseHorizontal(A,T)}getRow(l,h){if(l<0||l>=this.getHeight())throw new y("Requested row is outside the image: "+l);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const v=(l+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,v,h,0,p),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const p=l*h,v=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return M.arraycopy(this.yuvData,x,v,0,p),v;for(let A=0;A<h;A++){const T=A*l;M.arraycopy(this.yuvData,x,v,T,l),x+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,p,v){return new Ke(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,p,v,!1)}renderThumbnail(){const l=this.getWidth()/Ke.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/Ke.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*h),v=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let A=0;A<h;A++){const T=A*l;for(let O=0;O<l;O++){const k=v[x+O*Ke.THUMBNAIL_SCALE_FACTOR]&255;p[T+O]=4278190080|k*65793}x+=this.dataWidth*Ke.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/Ke.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ke.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const p=this.yuvData;for(let v=0,x=this.top*this.dataWidth+this.left;v<h;v++,x+=this.dataWidth){const A=x+l/2;for(let T=x,O=x+l-1;T<A;T++,O--){const k=p[T];p[T]=p[O],p[O]=k}}}invert(){return new Oe(this)}}Ke.THUMBNAIL_SCALE_FACTOR=2;class Bt extends Ae{constructor(l,h,p,v,x,A,T){if(super(h,p),this.dataWidth=v,this.dataHeight=x,this.left=A,this.top=T,l.BYTES_PER_ELEMENT===4){const O=h*p,k=new Uint8ClampedArray(O);for(let q=0;q<O;q++){const Z=l[q],te=Z>>16&255,ce=Z>>7&510,he=Z&255;k[q]=(te+ce+he)/4&255}this.luminances=k}else this.luminances=l;if(v===void 0&&(this.dataWidth=h),x===void 0&&(this.dataHeight=p),A===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+p>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new y("Requested row is outside the image: "+l);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const v=(l+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,v,h,0,p),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const p=l*h,v=new Uint8ClampedArray(p);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return M.arraycopy(this.luminances,x,v,0,p),v;for(let A=0;A<h;A++){const T=A*l;M.arraycopy(this.luminances,x,v,T,l),x+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,p,v){return new Bt(this.luminances,p,v,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new Oe(this)}}class xr extends F{static forName(l){return this.getCharacterSetECIByName(l)}}class vn{}vn.ISO_8859_1=F.ISO8859_1;class Xn{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class ta{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class yo{constructor(l){this.previous=l}getPrevious(){return this.previous}}class fi extends yo{constructor(l,h,p){super(l),this.value=h,this.bitCount=p}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new fi(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+U.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class na extends fi{constructor(l,h,p){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=p}appendTo(l,h){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+p],8)}addBinaryShift(l,h){return new na(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function el(J,l,h){return new na(J,l,h)}function vo(J,l,h){return new fi(J,l,h)}const uc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xs=0,Lf=1,ba=2,Kh=3,za=4,Iu=new fi(null,0,0),tl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Bx(J){for(let l of J)B.fill(l,-1);return J[xs][za]=0,J[Lf][za]=0,J[Lf][xs]=28,J[Kh][za]=0,J[ba][za]=0,J[ba][xs]=15,J}const Nu=Bx(B.createInt32Array(6,6));class Ha{constructor(l,h,p,v){this.token=l,this.mode=h,this.binaryShiftByteCount=p,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let p=this.bitCount,v=this.token;if(l!==this.mode){let A=tl[this.mode][l];v=vo(v,A&65535,A>>16),p+=A>>16}let x=l===ba?4:5;return v=vo(v,h,x),new Ha(v,l,0,p+x)}shiftAndAppend(l,h){let p=this.token,v=this.mode===ba?4:5;return p=vo(p,Nu[this.mode][l],v),p=vo(p,h,5),new Ha(p,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(l){let h=this.token,p=this.mode,v=this.bitCount;if(this.mode===za||this.mode===ba){let T=tl[p][xs];h=vo(h,T&65535,T>>16),v+=T>>16,p=xs}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new Ha(h,p,this.binaryShiftByteCount+1,v+x);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(l+1)),A}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=el(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ha(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(tl[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=Ha.calculateBinaryShiftCost(l)-Ha.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let v=this.endBinaryShift(l.length).token;v!==null;v=v.getPrevious())h.unshift(v);let p=new $;for(const v of h)v.appendTo(p,l);return p}toString(){return Q.format("%s bits=%d bytes=%d",uc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Ha.INITIAL_STATE=new Ha(Iu,xs,0,0);function H0(J){const l=Q.getCharCode(" "),h=Q.getCharCode("."),p=Q.getCharCode(",");J[xs][l]=1;const v=Q.getCharCode("Z"),x=Q.getCharCode("A");for(let te=x;te<=v;te++)J[xs][te]=te-x+2;J[Lf][l]=1;const A=Q.getCharCode("z"),T=Q.getCharCode("a");for(let te=T;te<=A;te++)J[Lf][te]=te-T+2;J[ba][l]=1;const O=Q.getCharCode("9"),k=Q.getCharCode("0");for(let te=k;te<=O;te++)J[ba][te]=te-k+2;J[ba][p]=12,J[ba][h]=13;const q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<q.length;te++)J[Kh][Q.getCharCode(q[te])]=te;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<Z.length;te++)Q.getCharCode(Z[te])>0&&(J[za][Q.getCharCode(Z[te])]=te);return J}const Ru=H0(B.createInt32Array(5,256));class nl{constructor(l){this.text=l}encode(){const l=Q.getCharCode(" "),h=Q.getCharCode(`
`);let p=ta.singletonList(Ha.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let A,T=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case Q.getCharCode("\r"):A=T===h?2:0;break;case Q.getCharCode("."):A=T===l?3:0;break;case Q.getCharCode(","):A=T===l?4:0;break;case Q.getCharCode(":"):A=T===l?5:0;break;default:A=0}A>0?(p=nl.updateStateListForPair(p,x,A),x++):p=this.updateStateListForChar(p,x)}return ta.min(p,(x,A)=>x.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const p=[];for(let v of l)this.updateStateForChar(v,h,p);return nl.simplifyStates(p)}updateStateForChar(l,h,p){let v=this.text[h]&255,x=Ru[l.getMode()][v]>0,A=null;for(let T=0;T<=za;T++){let O=Ru[T][v];if(O>0){if(A==null&&(A=l.endBinaryShift(h)),!x||T===l.getMode()||T===ba){const k=A.latchAndAppend(T,O);p.push(k)}if(!x&&Nu[l.getMode()][T]>=0){const k=A.shiftAndAppend(T,O);p.push(k)}}}if(l.getBinaryShiftByteCount()>0||Ru[l.getMode()][v]===0){let T=l.addBinaryShiftChar(h);p.push(T)}}static updateStateListForPair(l,h,p){const v=[];for(let x of l)this.updateStateForPair(x,h,p,v);return this.simplifyStates(v)}static updateStateForPair(l,h,p,v){let x=l.endBinaryShift(h);if(v.push(x.latchAndAppend(za,p)),l.getMode()!==za&&v.push(x.shiftAndAppend(za,p)),p===3||p===4){let A=x.latchAndAppend(ba,16-p).latchAndAppend(ba,1);v.push(A)}if(l.getBinaryShiftByteCount()>0){let A=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);v.push(A)}}static simplifyStates(l){let h=[];for(const p of l){let v=!0;for(const x of h){if(x.isBetterThanOrEqualTo(p)){v=!1;break}p.isBetterThanOrEqualTo(x)&&(h=h.filter(A=>A!==x))}v&&h.push(p)}return h}}class dn{constructor(){}static encodeBytes(l){return dn.encode(l,dn.DEFAULT_EC_PERCENT,dn.DEFAULT_AZTEC_LAYERS)}static encode(l,h,p){let v=new nl(l).encode(),x=U.truncDivision(v.getSize()*h,100)+11,A=v.getSize()+x,T,O,k,q,Z;if(p!==dn.DEFAULT_AZTEC_LAYERS){if(T=p<0,O=Math.abs(p),O>(T?dn.MAX_NB_BITS_COMPACT:dn.MAX_NB_BITS))throw new y(Q.format("Illegal value %s for layers",p));k=dn.totalBitsInLayer(O,T),q=dn.WORD_SIZE[O];let ze=k-k%q;if(Z=dn.stuffBits(v,q),Z.getSize()+x>ze)throw new y("Data to large for user specified layer");if(T&&Z.getSize()>q*64)throw new y("Data to large for user specified layer")}else{q=0,Z=null;for(let ze=0;;ze++){if(ze>dn.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(T=ze<=3,O=T?ze+1:ze,k=dn.totalBitsInLayer(O,T),A>k)continue;(Z==null||q!==dn.WORD_SIZE[O])&&(q=dn.WORD_SIZE[O],Z=dn.stuffBits(v,q));let Jt=k-k%q;if(!(T&&Z.getSize()>q*64)&&Z.getSize()+x<=Jt)break}}let te=dn.generateCheckWords(Z,k,q),ce=Z.getSize()/q,he=dn.generateModeMessage(T,O,ce),me=(T?11:14)+O*4,be=new Int32Array(me),Ie;if(T){Ie=me;for(let ze=0;ze<be.length;ze++)be[ze]=ze}else{Ie=me+1+2*U.truncDivision(U.truncDivision(me,2)-1,15);let ze=U.truncDivision(me,2),Jt=U.truncDivision(Ie,2);for(let Ft=0;Ft<ze;Ft++){let Rr=Ft+U.truncDivision(Ft,15);be[ze-Ft-1]=Jt-Rr-1,be[ze+Ft]=Jt+Rr+1}}let Ye=new ge(Ie);for(let ze=0,Jt=0;ze<O;ze++){let Ft=(O-ze)*4+(T?9:12);for(let Rr=0;Rr<Ft;Rr++){let wa=Rr*2;for(let Ti=0;Ti<2;Ti++)te.get(Jt+wa+Ti)&&Ye.set(be[ze*2+Ti],be[ze*2+Rr]),te.get(Jt+Ft*2+wa+Ti)&&Ye.set(be[ze*2+Rr],be[me-1-ze*2-Ti]),te.get(Jt+Ft*4+wa+Ti)&&Ye.set(be[me-1-ze*2-Ti],be[me-1-ze*2-Rr]),te.get(Jt+Ft*6+wa+Ti)&&Ye.set(be[me-1-ze*2-Rr],be[ze*2+Ti])}Jt+=Ft*8}if(dn.drawModeMessage(Ye,T,Ie,he),T)dn.drawBullsEye(Ye,U.truncDivision(Ie,2),5);else{dn.drawBullsEye(Ye,U.truncDivision(Ie,2),7);for(let ze=0,Jt=0;ze<U.truncDivision(me,2)-1;ze+=15,Jt+=16)for(let Ft=U.truncDivision(Ie,2)&1;Ft<Ie;Ft+=2)Ye.set(U.truncDivision(Ie,2)-Jt,Ft),Ye.set(U.truncDivision(Ie,2)+Jt,Ft),Ye.set(Ft,U.truncDivision(Ie,2)-Jt),Ye.set(Ft,U.truncDivision(Ie,2)+Jt)}let We=new Xn;return We.setCompact(T),We.setSize(Ie),We.setLayers(O),We.setCodeWords(ce),We.setMatrix(Ye),We}static drawBullsEye(l,h,p){for(let v=0;v<p;v+=2)for(let x=h-v;x<=h+v;x++)l.set(x,h-v),l.set(x,h+v),l.set(h-v,x),l.set(h+v,x);l.set(h-p,h-p),l.set(h-p+1,h-p),l.set(h-p,h-p+1),l.set(h+p,h-p),l.set(h+p,h-p+1),l.set(h+p,h+p-1)}static generateModeMessage(l,h,p){let v=new $;return l?(v.appendBits(h-1,2),v.appendBits(p-1,6),v=dn.generateCheckWords(v,28,4)):(v.appendBits(h-1,5),v.appendBits(p-1,11),v=dn.generateCheckWords(v,40,4)),v}static drawModeMessage(l,h,p,v){let x=U.truncDivision(p,2);if(h)for(let A=0;A<7;A++){let T=x-3+A;v.get(A)&&l.set(T,x-5),v.get(A+7)&&l.set(x+5,T),v.get(20-A)&&l.set(T,x+5),v.get(27-A)&&l.set(x-5,T)}else for(let A=0;A<10;A++){let T=x-5+A+U.truncDivision(A,5);v.get(A)&&l.set(T,x-7),v.get(A+10)&&l.set(x+7,T),v.get(29-A)&&l.set(T,x+7),v.get(39-A)&&l.set(x-7,T)}}static generateCheckWords(l,h,p){let v=l.getSize()/p,x=new mo(dn.getGF(p)),A=U.truncDivision(h,p),T=dn.bitsToWords(l,p,A);x.encode(T,A-v);let O=h%p,k=new $;k.appendBits(0,O);for(const q of Array.from(T))k.appendBits(q,p);return k}static bitsToWords(l,h,p){let v=new Int32Array(p),x,A;for(x=0,A=l.getSize()/h;x<A;x++){let T=0;for(let O=0;O<h;O++)T|=l.get(x*h+O)?1<<h-O-1:0;v[x]=T}return v}static getGF(l){switch(l){case 4:return ct.AZTEC_PARAM;case 6:return ct.AZTEC_DATA_6;case 8:return ct.AZTEC_DATA_8;case 10:return ct.AZTEC_DATA_10;case 12:return ct.AZTEC_DATA_12;default:throw new y("Unsupported word size "+l)}}static stuffBits(l,h){let p=new $,v=l.getSize(),x=(1<<h)-2;for(let A=0;A<v;A+=h){let T=0;for(let O=0;O<h;O++)(A+O>=v||l.get(A+O))&&(T|=1<<h-1-O);(T&x)===x?(p.appendBits(T&x,h),A--):(T&x)===0?(p.appendBits(T|1,h),A--):p.appendBits(T,h)}return p}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}dn.DEFAULT_EC_PERCENT=33,dn.DEFAULT_AZTEC_LAYERS=0,dn.MAX_NB_BITS=32,dn.MAX_NB_BITS_COMPACT=4,dn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ou{encode(l,h,p,v){return this.encodeWithHints(l,h,p,v,null)}encodeWithHints(l,h,p,v,x){let A=vn.ISO_8859_1,T=dn.DEFAULT_EC_PERCENT,O=dn.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(vr.CHARACTER_SET)&&(A=xr.forName(x.get(vr.CHARACTER_SET).toString())),x.has(vr.ERROR_CORRECTION)&&(T=U.parseInt(x.get(vr.ERROR_CORRECTION).toString())),x.has(vr.AZTEC_LAYERS)&&(O=U.parseInt(x.get(vr.AZTEC_LAYERS).toString()))),Ou.encodeLayers(l,h,p,v,A,T,O)}static encodeLayers(l,h,p,v,x,A,T){if(h!==Be.AZTEC)throw new y("Can only encode AZTEC, but got "+h);let O=dn.encode(Q.getBytes(l,x),A,T);return Ou.renderResult(O,p,v)}static renderResult(l,h,p){let v=l.getMatrix();if(v==null)throw new dt;let x=v.getWidth(),A=v.getHeight(),T=Math.max(h,x),O=Math.max(p,A),k=Math.min(T/x,O/A),q=(T-x*k)/2,Z=(O-A*k)/2,te=new ge(T,O);for(let ce=0,he=Z;ce<A;ce++,he+=k)for(let me=0,be=q;me<x;me++,be+=k)v.get(me,ce)&&te.setRegion(be,he,k,k);return te}}n.AbstractExpandedDecoder=pr,n.ArgumentException=m,n.ArithmeticException=Ue,n.AztecCode=Xn,n.AztecCodeReader=ht,n.AztecCodeWriter=Ou,n.AztecDecoder=wt,n.AztecDetector=hs,n.AztecDetectorResult=nr,n.AztecEncoder=dn,n.AztecHighLevelEncoder=nl,n.AztecPoint=Ir,n.BarcodeFormat=Be,n.Binarizer=D,n.BinaryBitmap=_,n.BitArray=$,n.BitMatrix=ge,n.BitSource=gr,n.BrowserAztecCodeReader=en,n.BrowserBarcodeReader=Eu,n.BrowserCodeReader=Te,n.BrowserDatamatrixCodeReader=fo,n.BrowserMultiFormatReader=po,n.BrowserPDF417Reader=Df,n.BrowserQRCodeReader=kf,n.BrowserQRCodeSvgWriter=ae,n.CharacterSetECI=F,n.ChecksumException=I,n.Code128Reader=Ge,n.Code39Reader=It,n.DataMatrixDecodedBitStreamParser=Si,n.DataMatrixReader=Li,n.DecodeHintType=G,n.DecoderResult=He,n.DefaultGridSampler=Da,n.DetectorResult=or,n.EAN13Reader=qn,n.EncodeHintType=vr,n.Exception=u,n.FormatException=L,n.GenericGF=ct,n.GenericGFPoly=lt,n.GlobalHistogramBinarizer=ie,n.GridSampler=Hn,n.GridSamplerInstance=zr,n.HTMLCanvasElementLuminanceSource=qe,n.HybridBinarizer=fe,n.ITFReader=xt,n.IllegalArgumentException=y,n.IllegalStateException=dt,n.InvertedLuminanceSource=Oe,n.LuminanceSource=Ae,n.MathUtils=et,n.MultiFormatOneDReader=Ai,n.MultiFormatReader=Cu,n.MultiFormatWriter=Ne,n.NotFoundException=oe,n.OneDReader=Wt,n.PDF417DecodedBitStreamParser=Ce,n.PDF417DecoderErrorCorrection=Ba,n.PDF417Reader=yr,n.PDF417ResultMetadata=qo,n.PerspectiveTransform=hr,n.PlanarYUVLuminanceSource=Ke,n.QRCodeByteMatrix=Zs,n.QRCodeDataMask=jr,n.QRCodeDecodedBitStreamParser=kn,n.QRCodeDecoderErrorCorrectionLevel=Kt,n.QRCodeDecoderFormatInformation=Er,n.QRCodeEncoder=Y,n.QRCodeEncoderQRCode=go,n.QRCodeMaskUtil=nn,n.QRCodeMatrixUtil=S,n.QRCodeMode=yt,n.QRCodeReader=Fi,n.QRCodeVersion=ut,n.QRCodeWriter=xe,n.RGBLuminanceSource=Bt,n.RSS14Reader=An,n.RSSExpandedReader=Fe,n.ReaderException=Js,n.ReedSolomonDecoder=rt,n.ReedSolomonEncoder=mo,n.ReedSolomonException=bt,n.Result=Me,n.ResultMetadataType=vt,n.ResultPoint=$e,n.StringUtils=Q,n.UnsupportedOperationException=ee,n.VideoInputDevice=ue,n.WhiteRectangleDetector=cn,n.WriterException=on,n.ZXingArrays=B,n.ZXingCharset=xr,n.ZXingInteger=U,n.ZXingStandardCharsets=vn,n.ZXingStringBuilder=X,n.ZXingStringEncoding=K,n.ZXingSystem=M,n.createAbstractExpandedDecoder=ki,Object.defineProperty(n,"__esModule",{value:!0})}))})(rm,rm.exports)),rm.exports}var ur=aSe();const oSe=En(ur),sSe=s$({__proto__:null,default:oSe},[ur]);var U7=(function(){function t(e,n,r){if(this.formatMap=new Map([[at.QR_CODE,ur.BarcodeFormat.QR_CODE],[at.AZTEC,ur.BarcodeFormat.AZTEC],[at.CODABAR,ur.BarcodeFormat.CODABAR],[at.CODE_39,ur.BarcodeFormat.CODE_39],[at.CODE_93,ur.BarcodeFormat.CODE_93],[at.CODE_128,ur.BarcodeFormat.CODE_128],[at.DATA_MATRIX,ur.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,ur.BarcodeFormat.MAXICODE],[at.ITF,ur.BarcodeFormat.ITF],[at.EAN_13,ur.BarcodeFormat.EAN_13],[at.EAN_8,ur.BarcodeFormat.EAN_8],[at.PDF_417,ur.BarcodeFormat.PDF_417],[at.RSS_14,ur.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,ur.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,ur.BarcodeFormat.UPC_A],[at.UPC_E,ur.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,ur.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sSe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(ur.DecodeHintType.POSSIBLE_FORMATS,i),a.set(ur.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new ur.MultiFormatReader(this.verbose,this.hints),r=new ur.HTMLCanvasElementLuminanceSource(e),i=new ur.BinaryBitmap(new ur.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:Mq.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),lSe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},cSe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},F7=(function(){function t(e,n,r){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return lSe(this,void 0,void 0,function(){var n,r;return cSe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Mq.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var o=a[i],c=o.boundingBox.width*o.boundingBox.height;c>r&&(r=c,n=o)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),V7=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},z7=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uSe=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&F7.isSupported()?(this.primaryDecoder=new F7(e,r,i),this.secondaryDecoder=new U7(e,r,i)):this.primaryDecoder=new U7(e,r,i)}return t.prototype.decodeAsync=function(e){return V7(this,void 0,void 0,function(){var n;return z7(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return V7(this,void 0,void 0,function(){var n,r;return z7(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),qN=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),vv=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},xv=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Lq=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),fSe=(function(t){qN(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(Lq),dSe=(function(t){qN(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(fSe),hSe=(function(t){qN(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(Lq),pSe=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new dSe(this.track)},t.prototype.torchFeature=function(){return new hSe(this.track)},t})(),mSe=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return vv(this,void 0,void 0,function(){var a,o;return xv(this,function(c){switch(c.label){case 0:return a=new t(e,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return vv(this,void 0,void 0,function(){return xv(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++o,o>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new pSe(this.getFirstTrackOrFail())},t})(),gSe=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return vv(this,void 0,void 0,function(){return xv(this,function(i){return[2,mSe.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return vv(this,void 0,void 0,function(){var n,r;return xv(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),H7=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},q7=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ySe=(function(){function t(){}return t.failIfNotSupported=function(){return H7(this,void 0,void 0,function(){return q7(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return H7(this,void 0,void 0,function(){return q7(this,function(n){return[2,gSe.create(e)]})})},t})(),vSe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},xSe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bSe=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Td.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Td.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return vSe(this,void 0,void 0,function(){var e,n,r,i,a,o,c;return xSe(this,function(d){switch(d.label){case 0:return e=function(u){for(var m=u.getVideoTracks(),y=0,_=m;y<_.length;y++){var I=_[y];I.enabled=!1,I.stop(),u.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=d.sent(),i=[],a=0,o=r;a<o.length;a++)c=o[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var o=[],c=0,d=a;c<d.length;c++){var u=d[c];u.kind==="video"&&o.push({id:u.id,label:u.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},t})(),Pr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Pr||(Pr={}));var wSe=(function(){function t(){this.state=Pr.NOT_STARTED,this.onGoingTransactionNewState=Pr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Pr.UNKNOWN:throw"Transition from unknown is not allowed";case Pr.NOT_STARTED:this.failIfNewStateIs(e,[Pr.PAUSED]);break;case Pr.SCANNING:break;case Pr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),_Se=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Pr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Pr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Pr.PAUSED},t})(),ASe=(function(){function t(){}return t.create=function(){return new _Se(new wSe)},t})(),ESe=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Qa=(function(t){ESe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Jo),SSe=(function(){function t(e,n){this.logger=n,this.fps=Qa.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Qa.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kq.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ts(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),G7=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Dq(this.verbose),this.qrcode=new uSe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ASe.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var c=SSe.create(n,this.logger);this.clearElement();var d=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=d,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:Qa.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var y=this,_=this.stateManagerProxy.startTransition(Pr.SCANNING);return new Promise(function(I,D){var M=u?c.videoConstraints:y.createVideoConstraints(e);if(!M){_.cancel(),D("videoConstraints should be defined");return}var R={};(!u||c.aspectRatio)&&(R.aspectRatio=c.aspectRatio);var j={onRenderSurfaceReady:function(B,U){y.setupUi(B,U,c),y.isScanning=!0,y.foreverScan(c,r,o)}};ySe.failIfNotSupported().then(function(B){B.create(M).then(function(U){return U.render(a.element,R,j).then(function($){y.renderedCamera=$,_.execute(),I(null)}).catch(function($){_.cancel(),D($)})}).catch(function(U){_.cancel(),D(Td.errorGettingUserMedia(U))})}).catch(function(B){_.cancel(),D(Td.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pr.PAUSED),this.showPausedState(),(Ts(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Pr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Pr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(Qa.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ts(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var c=o.width,d=o.height,u=document.getElementById(r.elementId),m=u.clientWidth?u.clientWidth:Qa.DEFAULT_WIDTH,y=Math.max(u.clientHeight?u.clientHeight:d,Qa.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(c,d,m,y);if(n){var I=r.createCanvasElement(m,y,"qr-canvas-visible");I.style.display="inline-block",u.appendChild(I);var D=I.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=m,D.canvas.height=y,D.drawImage(o,0,0,c,d,_.x,_.y,_.width,_.height)}var M=Qa.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(o.width,_.width),j=Math.max(o.height,_.height),B=R+2*M,U=j+2*M,$=r.createCanvasElement(B,U);u.appendChild($);var H=$.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=B,H.canvas.height=U,H.drawImage(o,0,0,c,d,M,M,R,j);try{r.qrcode.decodeRobustlyAsync($).then(function(G){i(L7.createFromQrcodeResult(G))}).catch(a)}catch(G){a("QR code parse error, error = ".concat(G))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return bSe.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!kq.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var o=a[i];nSe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ts(e))return!0;if(!Ts(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ts(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Ts(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(e,n,a),c=function(u){if(u<Qa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Qa.MIN_QR_BOX_SIZE,"px.")},d=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};c(o.width),c(o.height),o.width=d(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Ts(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=n,c={x:0,y:0,width:e,height:n},d=o?this.getShadedRegionBounds(e,n,a):c,u=this.createCanvasElement(d.width,d.height),m={willReadFrequently:!0},y=u.getContext("2d",m);y.canvas.width=d.width,y.canvas.height=d.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=y,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Td.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,L7.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Td.codeParseError(i);return n(a,Pq.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,u=this.qrRegion.height*c,m=this.qrRegion.x*o,y=this.qrRegion.y*c;this.context.drawImage(a,m,y,d,u,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(I){!I&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(I){i.logger.logError("Error happend while scanning context",I),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",o=function(D){if(D in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var d=Object.keys(e)[0];if(d!==n&&d!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(d===n){var u=e.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(o(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof u;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var y=e.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof y;throw"Invalid type of 'deviceId' = ".concat(_)}}}var I=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,o=(i-n)/2;return{x:a,y:o,width:e,height:n}}else{var c=e,d=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(d)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Qa.BORDER_SHADER_MATCH_COLOR:Qa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Ts(r)?"qr-canvas":r,o},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(n-i.width)/2,c=(r-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Qa.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var d=5,u=40;this.insertShaderBorders(a,u,d,-d,null,0,!0),this.insertShaderBorders(a,u,d,-d,null,0,!1),this.insertShaderBorders(a,u,d,null,-d,0,!0),this.insertShaderBorders(a,u,d,null,-d,0,!1),this.insertShaderBorders(a,d,u+d,-d,null,-d,!0),this.insertShaderBorders(a,d,u+d,null,-d,-d,!0),this.insertShaderBorders(a,d,u+d,-d,null,-d,!1),this.insertShaderBorders(a,d,u+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,o,c){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Qa.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(n,"px"),d.style.height="".concat(r,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),c?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),GN="data:image/svg+xml;base64,",TSe=GN+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",CSe=GN+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",$7=GN+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ISe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",W7=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),NSe=(function(){function t(){this.data=W7.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=W7.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),RSe=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=j7.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=j7.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),OSe=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=$7,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ISe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=$7,this.infoIcon.style.opacity="0.6")},t})(),MSe=(function(){function t(){var e=this;this.infoDiv=new RSe,this.infoIcon=new OSe(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),PSe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},DSe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Y7=(function(){function t(){}return t.hasPermissions=function(){return PSe(this,void 0,void 0,function(){var e,n,r,i;return DSe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),jc=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===fu.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===fu.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Jo.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Jo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!Jo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t})(),ro=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Rl=(function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(ro.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t})(),jq=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{u(r.next(m))}catch(y){o(y)}}function d(m){try{u(r.throw(m))}catch(y){o(y)}}function u(m){m.done?a(m.value):i(m.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},Bq=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(m){return d([u,m])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(m){u=[6,m],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},K7=(function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return jq(this,void 0,void 0,function(){var e,n;return Bq(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?zn.torchOffButton():zn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?zn.torchOnFailedMessage():zn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),kSe=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Rl.createElement("button",ro.TORCH_BUTTON_ID),this.torchController=new K7(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=zn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return jq(r,void 0,void 0,function(){return Bq(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ro.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ro.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ro.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ro.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new K7(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=zn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t})(),LSe=(function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Rl.createElement("button",ro.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(c){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Rl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(c){if(!(c==null||c.target==null)){var d=c.target;if(!(d.files&&d.files.length===0)){var u=d.files,m=u[0],y=m.name;a.setImageNameToButton(y),r(m)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(c){c.stopPropagation(),c.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var d=c.dataTransfer;if(d){var u=d.files;if(!u||u.length===0)return;for(var m=!1,y=0;y<u.length;++y){var _=u.item(y);if(_){var I=/image.*/;if(_.type.match(I)){m=!0;var D=_.name;a.setImageNameToButton(D),r(_),o.innerText=zn.dragAndDropMessage();break}}}m||(o.innerText=zn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=zn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var o=zn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=zn.fileSelectionChooseImage()+" - "+zn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t})(),jSe=(function(){function t(e){this.selectElement=Rl.createElement("select",ro.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=zn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,c=this.cameras;o<c.length;o++){var d=c[o],u=d.id,m=d.label==null?u:d.label;(!m||m==="")&&(m=[zn.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=u,y.innerText=m,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t})(),BSe=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Rl.createElement("input",ro.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=zn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=zn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t})(),Ja;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ja||(Ja={}));function USe(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function FSe(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var VSe=(function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new jc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Dq(this.verbose),this.persistedDataManager=new NSe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(e)e(a,o);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(zn.lastMatch(a),Ja.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){n&&n(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new G7(this.getScanRegionId(),FSe(this.config,this.verbose))},t.prototype.pause=function(e){(Ts(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Jo.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Jo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Jo.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Jo.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Jo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Jo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Jo.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),jc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new MSe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(zn.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};G7.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(zn.noCameraFound(),Ja.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(o,Ja.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Rl.createElement("button",this.getCameraPermissionButtonId());i.innerText=zn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(jc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Y7.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=jc.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=jc.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";jc.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(zn.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,Ja.STATUS_WARNING),r.qrCodeErrorCallback(o,Pq.createFrom(o))}))};this.fileSelectionUi=LSe.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=BSe.create(i,!1),o=function(M){var R=M.zoomFeature();if(R.isSupported()){a.setOnCameraZoomValueChangeCallback(function(B){R.apply(B)});var j=1;n.config.defaultZoomValueIfSupported&&(j=n.config.defaultZoomValueIfSupported),j=rSe(j,R.min(),R.max()),a.setValues(R.min(),R.max(),j,R.step()),a.show()}},c=jSe.create(i,e),d=document.createElement("span"),u=Rl.createElement("button",ro.CAMERA_START_BUTTON_ID);u.innerText=zn.scanButtonStartScanningText(),d.appendChild(u);var m=Rl.createElement("button",ro.CAMERA_STOP_BUTTON_ID);m.innerText=zn.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,d.appendChild(m);var y,_=function(M){if(!M.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(M.torchFeature()):y=kSe.create(d,M.torchFeature(),{display:"none",marginLeft:"5px"},function(R){r.setHeaderMessage(R,Ja.STATUS_WARNING)}),y.show()};i.appendChild(d);var I=function(M){M||(u.style.display="none"),u.innerText=zn.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,M&&(u.style.display="inline-block")};if(u.addEventListener("click",function(M){u.innerText=zn.scanButtonScanningStarting(),c.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var R=c.getValue();r.persistedDataManager.setLastUsedCameraId(R),r.html5Qrcode.start(R,USe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){m.disabled=!1,m.style.display="inline-block",I(!1);var B=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&_(B),n.config.showZoomSliderIfSupported===!0&&o(B)}).catch(function(j){r.showHideScanTypeSwapLink(!0),c.enable(),I(!0),r.setHeaderMessage(j,Ja.STATUS_WARNING)})}),c.hasSingleItem()&&u.click(),m.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(R){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),c.enable(),u.disabled=!1,m.style.display="none",u.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(R){m.disabled=!1,r.setHeaderMessage(R,Ja.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var D=r.persistedDataManager.getLastUsedCameraId();c.hasValue(D)?(c.setValue(D),u.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=zn.textIfCameraScanSelected(),r=zn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=Rl.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=jc.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,jc.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=fu.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=n,e.currentScanType=fu.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Y7.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Ja.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Ja.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Ja.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Ja.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=TSe,this.cameraScanImage.alt=zn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=CSe,this.fileScanImage.alt=zn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return ro.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return ro.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const zSe=({onLogin:t})=>{const{t:e,dir:n}=Zr(),[r,i]=ne.useState(""),[a,o]=ne.useState(""),[c,d]=ne.useState(null),[u,m]=ne.useState(!1),[y,_]=ne.useState("login"),I=Fo(),D=ne.useRef(null);ne.useEffect(()=>{if(y==="link"){const U=setTimeout(()=>{const $=new VSe("reader",{fps:10,qrbox:{width:250,height:250}},!1);$.render(H=>{$.clear(),I("/sensor-mode",{state:{sessionId:H}})},H=>{}),D.current=$},500);return()=>{if(clearTimeout(U),D.current)try{D.current.clear()}catch{}}}},[y,I]);const M=async U=>{U.preventDefault(),d(null),m(!0);try{await Lt.loginWithEmail(r,a),t(r),I("/dashboard")}catch($){d($.message||"Failed to login")}finally{m(!1)}},R=async()=>{d(null),m(!0);try{await Lt.loginWithGoogle(),t("google-user"),I("/dashboard")}catch(U){d(U.message||"Google login failed")}finally{m(!1)}},j=async()=>{d(null),m(!0);try{await Lt.loginWithGithub(),t("github-user"),I("/dashboard")}catch(U){d(U.message||"GitHub login failed")}finally{m(!1)}},B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return y==="link"?b.jsx("div",{className:"min-h-screen flex flex-col items-center p-8 bg-slate-950",dir:n,children:b.jsxs("div",{className:"w-full max-w-md space-y-8",children:[b.jsxs("button",{onClick:()=>_("login"),className:"flex items-center gap-2 text-slate-400 font-bold uppercase text-xs hover:text-white transition-colors",children:[b.jsx(Sh,{size:16})," Back to Login"]}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Neural Sync"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Scan the QR code displayed on your desktop settings."})]}),b.jsx("div",{className:"bg-white rounded-3xl overflow-hidden p-4 shadow-2xl",children:b.jsx("div",{id:"reader",className:"w-full"})})]})}):b.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-slate-950",dir:n,children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"flex items-center gap-3 font-bold text-3xl text-white mb-12 justify-center",children:[b.jsx("div",{className:"bg-blue-600 p-2 rounded-xl",children:b.jsx(Ra,{size:28})}),b.jsx("span",{children:"DevWell"})]}),B&&b.jsxs("div",{className:"mb-8 grid grid-cols-2 gap-4",children:[b.jsxs("button",{onClick:()=>_("login"),className:`p-4 rounded-2xl border flex flex-col items-center gap-3 transition-all ${y==="login"?"bg-blue-600 border-blue-500 text-white":"bg-slate-900 border-white/10 text-slate-400"}`,children:[b.jsx(dY,{size:24}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Workspace"})]}),b.jsxs("button",{onClick:()=>_("link"),className:`p-4 rounded-2xl border flex flex-col items-center gap-3 transition-all ${y==="link"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-900 border-white/10 text-slate-400"}`,children:[b.jsx(MC,{size:24}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sensor Node"})]})]}),b.jsxs("div",{className:"bg-white rounded-[32px] p-10 shadow-2xl",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:e("welcomeBack")}),b.jsx("p",{className:"text-slate-500 text-sm mb-8",children:e("signInResume")}),c&&b.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 text-xs font-bold animate-in fade-in slide-in-from-top-2",children:[b.jsx(QW,{size:16}),c]}),b.jsxs("form",{onSubmit:M,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:e("emailAddress")}),b.jsxs("div",{className:"relative",children:[b.jsx(jd,{className:`absolute top-1/2 -translate-y-1/2 text-slate-400 ${n==="rtl"?"right-4":"left-4"}`,size:18}),b.jsx("input",{type:"email",value:r,onChange:U=>i(U.target.value),required:!0,className:`w-full py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 text-slate-900 ${n==="rtl"?"pr-12 pl-4":"pl-12 pr-4"}`})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex justify-between items-center ml-1",children:b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:e("password")})}),b.jsxs("div",{className:"relative",children:[b.jsx(ns,{className:`absolute top-1/2 -translate-y-1/2 text-slate-400 ${n==="rtl"?"right-4":"left-4"}`,size:18}),b.jsx("input",{type:"password",value:a,onChange:U=>o(U.target.value),required:!0,className:`w-full py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 text-slate-900 ${n==="rtl"?"pr-12 pl-4":"pl-12 pr-4"}`})]})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-black uppercase tracking-widest py-4 rounded-2xl transition-all shadow-xl shadow-blue-600/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:e(u?"signingIn":"signIn")})]}),b.jsxs("div",{className:"mt-8",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-200"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:b.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:e("orContinueWith")})})]}),b.jsxs("div",{className:"mt-6 flex gap-4",children:[b.jsxs("button",{onClick:j,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors font-bold text-slate-700",children:[b.jsx(Av,{size:20})," ",b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"GitHub"})]}),b.jsxs("button",{onClick:R,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors font-bold text-slate-700",children:[b.jsx(wj,{size:20})," ",b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Google"})]})]})]}),b.jsxs("p",{className:"mt-8 text-center text-xs font-medium text-slate-500",children:[e("dontHaveAccount")," ",b.jsx(Mn,{to:"/register",className:"text-blue-600 font-bold hover:underline",children:e("joinNow")})]})]})]})})},HSe=({onRegister:t})=>{const{t:e,dir:n}=Zr(),[r,i]=ne.useState(""),[a,o]=ne.useState(""),[c,d]=ne.useState(""),[u,m]=ne.useState(null),[y,_]=ne.useState(!1),I=Fo(),D=async j=>{j.preventDefault(),m(null),_(!0);try{await Lt.registerWithEmail(a,c,r),t(),I("/dashboard")}catch(B){B.code==="auth/operation-not-allowed"?(console.log("Demo register fallback"),t(),I("/dashboard")):m(B.message||"Registration failed")}finally{_(!1)}},M=async()=>{m(null),_(!0);try{await Lt.loginWithGoogle(),t(),I("/dashboard")}catch(j){j.code==="auth/operation-not-allowed"?(t(),I("/dashboard")):m(j.message||"Google signup failed")}finally{_(!1)}},R=async()=>{m(null),_(!0);try{await Lt.loginWithGithub(),t(),I("/dashboard")}catch(j){j.code==="auth/operation-not-allowed"?(t(),I("/dashboard")):m(j.message||"GitHub signup failed")}finally{_(!1)}};return b.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-slate-950",dir:n,children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"flex items-center gap-3 font-bold text-3xl text-white mb-12 justify-center",children:[b.jsx("div",{className:"bg-blue-600 p-2 rounded-xl",children:b.jsx(Ra,{size:28})}),b.jsx("span",{children:"DevWell"})]}),b.jsxs("div",{className:"bg-white rounded-[32px] p-10 shadow-2xl",children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:e("joinDevWell")}),b.jsx("p",{className:"text-slate-500 text-sm mb-8",children:e("startJourney")}),u&&b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-2xl mb-4 text-sm",children:u}),b.jsxs("form",{onSubmit:D,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:e("fullName")}),b.jsxs("div",{className:"relative",children:[b.jsx(_m,{className:`absolute top-1/2 -translate-y-1/2 text-slate-400 ${n==="rtl"?"right-4":"left-4"}`,size:18}),b.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),required:!0,className:`w-full py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 text-slate-900 ${n==="rtl"?"pr-12 pl-4":"pl-12 pr-4"}`})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:e("emailAddress")}),b.jsxs("div",{className:"relative",children:[b.jsx(jd,{className:`absolute top-1/2 -translate-y-1/2 text-slate-400 ${n==="rtl"?"right-4":"left-4"}`,size:18}),b.jsx("input",{type:"email",value:a,onChange:j=>o(j.target.value),required:!0,className:`w-full py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 text-slate-900 ${n==="rtl"?"pr-12 pl-4":"pl-12 pr-4"}`})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:e("password")}),b.jsxs("div",{className:"relative",children:[b.jsx(ns,{className:`absolute top-1/2 -translate-y-1/2 text-slate-400 ${n==="rtl"?"right-4":"left-4"}`,size:18}),b.jsx("input",{type:"password",value:c,onChange:j=>d(j.target.value),required:!0,className:`w-full py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-blue-500 text-slate-900 ${n==="rtl"?"pr-12 pl-4":"pl-12 pr-4"}`})]})]}),b.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-black uppercase tracking-widest py-4 rounded-2xl transition-all shadow-xl shadow-blue-600/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:e(y?"creatingAccount":"createAccount")})]}),b.jsxs("div",{className:"mt-8",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-slate-200"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase tracking-widest",children:b.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:e("orContinueWith")})})]}),b.jsxs("div",{className:"mt-6 flex gap-4",children:[b.jsxs("button",{onClick:R,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors font-bold text-slate-700",children:[b.jsx(Av,{size:20})," ",b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"GitHub"})]}),b.jsxs("button",{onClick:M,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-slate-100 rounded-2xl hover:bg-slate-50 transition-colors font-bold text-slate-700",children:[b.jsx(wj,{size:20})," ",b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Google"})]})]})]}),b.jsxs("p",{className:"mt-8 text-center text-xs font-medium text-slate-500",children:[e("alreadyHaveAccount")," ",b.jsx(Mn,{to:"/login",className:"text-blue-600 font-bold hover:underline",children:e("signIn")})]})]})]})})},qSe=()=>{var nr,cn,Hn,hr,Da,zr,Ir,hs;const{t,dir:e}=Zr(),[n,r]=ne.useState(!1),[i,a]=ne.useState(""),[o,c]=ne.useState(""),[d,u]=ne.useState(!0),[m,y]=ne.useState(null),[_,I]=ne.useState(null),[D,M]=ne.useState("metrics"),[R,j]=ne.useState(!1),[B,U]=ne.useState(!1),[$,H]=ne.useState("profile"),[G,L]=ne.useState(""),[V,F]=ne.useState(""),[ee,K]=ne.useState(""),[Q,X]=ne.useState(""),[ge,oe]=ne.useState([]),[ie,fe]=ne.useState([]),[Ae,Oe]=ne.useState([]),[qe,ue]=ne.useState({avgRating:"0.0",totalRaters:0,distribution:{}}),[pe,Te]=ne.useState([]),[Me,Ze]=ne.useState(null),[Be,Rt]=ne.useState(!1),[vt,He]=ne.useState({totalUsers:0,totalFeedback:0,totalTickets:0,totalEvents:0,activeUplinks:0}),[mt,lt]=ne.useState([]),[Ue,ct]=ne.useState([]),[bt,dt]=ne.useState([]),rt={...vt,recentFeedback:bt.length>0?bt:["No recent feedback fetched."]},gt=ht=>{ht.preventDefault(),i==="vji4ayanas7cf8"?(r(!0),wt()):(c("Access Denied: Invalid Security Token"),a(""))},wt=async()=>{u(!0);const ht=await Lt.getGlobalStats();He(ht);const[en,Wt,Ge,It,xt]=await Promise.all([Lt.getHourlyActivity(),Lt.getUsersByTier(),Lt.getAlertHistogram(),Lt.getFeedbackStats(),Lt.getTicketDistribution()]);oe(en),fe(Wt),Oe(Ge),ue(It),Te(xt);const[un,ei]=await Promise.all([Lt.getRecentGlobalEvents(200),Lt.getRecentFeedback(10)]);ct(un),dt(ei),et(un),u(!1);try{const[lo,Qi]=await Promise.all([io.getSystemInsights(["App is great","Need more features","Bugs in login"],ht.totalEvents),io.auditAnonymity({posture:ht.totalEvents})]);y(lo),I(Qi)}catch(lo){console.error("AI Insights Error:",lo)}},et=ht=>{const en=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wt=new Map;for(let It=6;It>=0;It--){const xt=new Date;xt.setDate(xt.getDate()-It);const un=en[xt.getDay()];Wt.set(un,{day:un,alerts:0,wellness:0,stress:0,count:0})}ht.forEach(It=>{const xt=new Date(It.timestamp),un=en[xt.getDay()];if(Wt.has(un)){const ei=Wt.get(un);ei.count++,ei.alerts++,ei.stress+=It.severity==="HIGH"?80:It.severity==="MEDIUM"?50:20,ei.wellness+=It.type==="SUCCESS"?90:70}});const Ge=Array.from(Wt.values()).map(It=>({day:It.day,alerts:It.alerts,stress:It.count>0?Math.round(It.stress/It.count):0,wellness:It.count>0?Math.round(It.wellness/It.count):0}));lt(Ge)},qt=async ht=>{if(ht.preventDefault(),K(""),X(""),G!==V){K("Passwords do not match");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,}$/.test(G)){K("Password must be at least 12 chars, include uppercase, lowercase, number, and special char.");return}try{if(!Lt.currentUser){K("No active Firebase session. Cannot change password for token-based admin.");return}await Lt.changePassword(i,G),X("Password updated successfully."),L(""),F("")}catch(Wt){K(Wt.message||"Failed to update password")}},$e=async()=>{Rt(!0);try{const ht=await Lt.getAllFeedbackRaw(),en=await Lt.getAllTicketsRaw(),Wt=await io.analyzeFeedbackAndSuggestions(ht,en);Ze(Wt)}catch(ht){console.error("Report generation failed:",ht)}Rt(!1)};if(!n)return b.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:b.jsxs("div",{className:"max-w-md w-full glass-card p-8 rounded-3xl border border-white/10 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-32 bg-cyan-500/10 blur-[100px] rounded-full"}),b.jsxs("div",{className:"relative z-10 space-y-8",children:[b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center border border-white/10",children:b.jsx(ns,{className:"text-cyan-400",size:32})})}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:t("admin.accessRequired")}),b.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:t("admin.enterPassword")})]}),b.jsxs("form",{onSubmit:gt,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"relative",children:[b.jsx(oY,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:16}),b.jsx("input",{type:"password",value:i,onChange:ht=>a(ht.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-12 py-4 text-white placeholder:text-slate-700 focus:outline-none focus:border-cyan-500/50 transition-all font-mono text-sm",placeholder:""})]}),o&&b.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-[10px] font-bold uppercase tracking-widest animate-pulse",children:[b.jsx(Kg,{size:12}),t("admin.invalidPassword")]})]}),b.jsx("button",{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all hover:scale-[1.02] active:scale-95",children:t("admin.accessButton")})]})]})]})});const or=()=>{U(!0),setTimeout(()=>{U(!1),alert("Neural dataset exported as anonymized JSONL. PII scrubbed successfully.")},2e3)};return d?b.jsxs("div",{className:"h-screen bg-black flex flex-col items-center justify-center space-y-4",children:[b.jsx(Gp,{size:64,className:"text-cyan-500 animate-pulse"}),b.jsx("p",{className:"text-xs font-black text-cyan-500 uppercase tracking-[0.4em]",children:"Decrypting Neural Command Layer..."})]}):b.jsxs("div",{className:"min-h-screen bg-black text-slate-100 font-mono scrollbar-hide",dir:e,children:[b.jsxs("header",{className:"border-b border-cyan-900/30 bg-black/80 backdrop-blur-xl sticky top-0 z-50 px-10 py-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx(Mn,{to:"/dashboard",className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:b.jsx(Ll,{size:20,className:`text-slate-500 ${e==="rtl"?"rotate-180":""}`})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-cyan-600/20 rounded-lg flex items-center justify-center border border-cyan-500/30",children:b.jsx(_Y,{size:24,className:"text-cyan-500"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-black tracking-widest text-white uppercase",children:t("admin.title")}),b.jsxs("p",{className:"text-[10px] text-cyan-500/60 font-bold uppercase tracking-widest",children:["Platform Root v2.1.0 // Privacy Guard: ",R?"ACTIVE":"OFF"]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-3 py-1.5 rounded-lg border border-white/5",children:[b.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:t("admin.noiseInjection")}),b.jsx("button",{onClick:()=>j(!R),className:`w-10 h-5 rounded-full relative transition-all ${R?"bg-cyan-500":"bg-slate-700"}`,children:b.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${R?"left-6":"left-1"}`})})]}),b.jsxs("div",{className:"flex items-center gap-3 bg-cyan-500/5 px-4 py-2 rounded-xl border border-cyan-500/20",children:[b.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.5)]"}),b.jsx("span",{className:"text-[10px] font-black text-cyan-400",children:t("admin.encryptedUplink")})]})]})]}),b.jsxs("div",{className:"p-10 max-w-[1600px] mx-auto grid lg:grid-cols-12 gap-8",children:[b.jsxs("aside",{className:"lg:col-span-3 space-y-4",children:[[{id:"metrics",label:t("admin.metrics"),icon:b.jsx(Ra,{size:18})},{id:"analytics",label:t("admin.analytics"),icon:b.jsx(_v,{size:18})},{id:"ai-reports",label:t("admin.aiFeedback"),icon:b.jsx(ru,{size:18})},{id:"sentiment",label:t("admin.neuralSentiment"),icon:b.jsx(Gp,{size:18})},{id:"privacy",label:t("admin.privacyEthics"),icon:b.jsx(ns,{size:18})},{id:"profile",label:t("admin.adminProfile"),icon:b.jsx(_m,{size:18})},{id:"raw",label:t("admin.directLogs"),icon:b.jsx(mO,{size:18})}].map(ht=>b.jsxs("button",{onClick:()=>M(ht.id),className:`w-full flex items-center gap-4 px-6 py-5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all border ${D===ht.id?"bg-cyan-600/20 border-cyan-500/50 text-cyan-400 shadow-[0_0_20px_rgba(6,182,212,0.1)]":"border-transparent text-slate-500 hover:bg-white/5"}`,children:[ht.icon," ",ht.label]},ht.id)),b.jsxs("div",{className:"mt-12 p-8 bg-slate-900/30 rounded-[40px] border border-white/5 space-y-8",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-[10px] font-black text-slate-600 uppercase tracking-widest mb-6",children:t("admin.anonymityMeter")}),b.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[b.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[b.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-800"}),b.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:364,strokeDashoffset:364-364*((_==null?void 0:_.safetyScore)||0)/100,className:"text-cyan-500 transition-all duration-1000",strokeLinecap:"round"})]}),b.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:b.jsxs("span",{className:"text-2xl font-black",children:[(_==null?void 0:_.safetyScore)||0,"%"]})})]}),b.jsx("p",{className:"text-[10px] text-center font-bold text-cyan-500/60 uppercase",children:(_==null?void 0:_.riskLevel)||t("admin.computingRisk")})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs("button",{onClick:or,disabled:B,className:"w-full bg-white text-slate-950 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:scale-[1.02] active:scale-95 transition-all",children:[B?b.jsx(pO,{size:14,className:"animate-spin"}):b.jsx(cS,{size:14}),t("admin.exportSet")]})})]})]}),b.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[D==="metrics"&&b.jsxs("div",{className:"animate-in slide-in-from-right-10 duration-500 space-y-8",children:[b.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:t("admin.totalUsers"),value:rt.totalUsers,icon:b.jsx(Nj,{className:"text-cyan-400"}),trend:t("admin.live")},{label:t("admin.healthEvents"),value:rt.totalEvents,icon:b.jsx(Ra,{className:"text-magenta-400"}),trend:t("admin.aggregated")},{label:t("admin.supportTickets"),value:rt.totalTickets,icon:b.jsx(Kg,{className:"text-yellow-400"}),trend:t("admin.pending")},{label:t("admin.totalFeedback"),value:rt.totalFeedback,icon:b.jsx(uS,{className:"text-green-400"}),trend:t("admin.received")}].map((ht,en)=>b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[32px] border border-white/5 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-40 transition-opacity",children:ht.icon}),b.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:ht.label}),b.jsx("h3",{className:"text-4xl font-black mb-2",children:ht.value}),b.jsx("p",{className:"text-[10px] font-bold text-cyan-600",children:ht.trend})]},en))}),b.jsxs("div",{className:"bg-slate-900/30 p-10 rounded-[40px] border border-white/5",children:[b.jsxs("div",{className:"flex items-center justify-between mb-12",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:t("admin.aggregatedTrend")}),b.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:t("admin.oscillation")})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full"}),b.jsx("span",{className:"text-[10px] font-bold text-cyan-400 uppercase",children:t("admin.alerts")})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 bg-magenta-500 rounded-full"}),b.jsx("span",{className:"text-[10px] font-bold text-magenta-400 uppercase",children:t("admin.stress")})]})]})]}),b.jsx("div",{className:"h-[400px] w-full",children:b.jsx(Zo,{width:"100%",height:"100%",children:b.jsxs(yv,{data:mt,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorAlerts",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),b.jsx(Ns,{strokeDasharray:"3 3",stroke:"#ffffff08",vertical:!1}),b.jsx(da,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#475569",fontWeight:"bold"}}),b.jsx(Ma,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#475569",fontWeight:"bold"}}),b.jsx(Kr,{contentStyle:{background:"#0f172a",border:"1px solid #ffffff10",borderRadius:"16px",color:"#fff"}}),b.jsx(Oa,{type:"monotone",dataKey:"alerts",stroke:"#06b6d4",strokeWidth:3,fillOpacity:1,fill:"url(#colorAlerts)"}),b.jsx(Oa,{type:"monotone",dataKey:"stress",stroke:"#ec4899",strokeWidth:2,fill:"transparent"})]})})})]})]}),D==="analytics"&&b.jsxs("div",{className:"animate-in slide-in-from-right-10 duration-500 space-y-8",children:[b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[40px] border border-white/5 relative overflow-hidden",children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-6 relative z-10",children:t("admin.systemActivity24h")}),b.jsx("div",{className:"h-[250px] w-full relative z-10",children:b.jsx(Zo,{children:b.jsxs(yv,{data:ge,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorActive",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),b.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),b.jsx(Ns,{strokeDasharray:"3 3",stroke:"#ffffff08"}),b.jsx(da,{dataKey:"hour",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10}}),b.jsx(Kr,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b"}}),b.jsx(Oa,{type:"monotone",dataKey:"activeUsers",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorActive)"})]})})})]}),b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[40px] border border-white/5 relative overflow-hidden",children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-6 relative z-10",children:t("admin.tierGrowth")}),b.jsx("div",{className:"h-[250px] w-full relative z-10",children:b.jsx(Zo,{children:b.jsxs(Rq,{data:ie,children:[b.jsx(Ns,{strokeDasharray:"3 3",stroke:"#ffffff08"}),b.jsx(da,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10}}),b.jsx(Kr,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b"}}),b.jsx(Dl,{}),b.jsx(Yl,{type:"monotone",dataKey:"free",stroke:"#94a3b8",name:t("admin.simpleUsers"),strokeWidth:2,dot:!1}),b.jsx(Yl,{type:"monotone",dataKey:"zinPro",stroke:"#f472b6",name:t("admin.zenPro"),strokeWidth:3})]})})})]})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"md:col-span-2 bg-slate-900/30 p-8 rounded-[40px] border border-white/5",children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-6",children:t("admin.alertHistogram")}),b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(Zo,{children:b.jsxs(Oq,{data:Ae,children:[b.jsx(Ns,{strokeDasharray:"3 3",stroke:"#ffffff08",vertical:!1}),b.jsx(da,{dataKey:"range",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10},label:{value:t("admin.alertsPerUser"),position:"insideBottom",dy:10,fill:"#64748b",fontSize:10}}),b.jsx(Ma,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:10},label:{value:t("admin.userCount"),angle:-90,position:"insideLeft",fill:"#64748b",fontSize:10}}),b.jsx(Kr,{cursor:{fill:"transparent"},contentStyle:{background:"#0f172a",border:"1px solid #1e293b"}}),b.jsx(rc,{dataKey:"count",fill:"#f59e0b",radius:[4,4,0,0]})]})})})]}),b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[40px] border border-white/5 flex flex-col items-center justify-center text-center",children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-2",children:t("admin.userSatisfaction")}),b.jsx("div",{className:"relative w-40 h-40 my-4 flex items-center justify-center",children:b.jsx("div",{className:"text-4xl font-black text-cyan-400",children:qe.avgRating})}),b.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:[qe.totalRaters," ",t("admin.reviewers")]}),"                     ",b.jsx("div",{className:"w-full mt-6 space-y-2",children:[5,4,3,2,1].map(ht=>b.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[b.jsxs("span",{className:"w-4",children:[ht,""]}),b.jsx("div",{className:"flex-1 h-1.5 bg-white/5 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-cyan-500",style:{width:`${qe.distribution[ht]/qe.totalRaters*100||0}%`}})})]},ht))})]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[40px] border border-white/5",children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-6",children:t("admin.ticketDist")}),b.jsx("div",{className:"h-[300px] w-full flex items-center justify-center",children:b.jsx(Zo,{children:b.jsxs(zEe,{children:[b.jsx(nc,{data:pe,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:pe.map((ht,en)=>b.jsx(Uh,{fill:["#06b6d4","#ec4899","#f59e0b","#8b5cf6"][en%4]},`cell-${en}`))}),b.jsx(Kr,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b"}}),b.jsx(Dl,{verticalAlign:"bottom",height:36})]})})})]}),b.jsxs("div",{className:"bg-slate-900/30 p-8 rounded-[40px] border border-white/5 relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-900/20 to-magenta-900/20"}),b.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter mb-2",children:t("admin.omniMetric")}),b.jsx("p",{className:"text-xs text-slate-400 font-bold max-w-sm",children:t("admin.unifiedView")})]}),b.jsx("div",{className:"h-[200px] w-full mt-4",children:b.jsxs("div",{className:"w-full h-full border border-dashed border-white/20 rounded-2xl flex items-center justify-center relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx("div",{className:"w-32 h-32 bg-cyan-500/20 rounded-full blur-xl animate-pulse"})}),b.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-white",children:vt.totalEvents}),b.jsx("div",{className:"text-[9px] uppercase tracking-widest text-cyan-400",children:t("admin.totalEventsLabel")})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-2xl font-black text-white",children:qe.avgRating}),b.jsx("div",{className:"text-[9px] uppercase tracking-widest text-magenta-400",children:t("admin.avgQuality")})]})]}),b.jsx("div",{className:"absolute bottom-4 text-[9px] text-slate-500 font-mono",children:t("admin.vectorReady")})]})})]})]})]})]}),D==="ai-reports"&&b.jsxs("div",{className:"animate-in slide-in-from-right-10 duration-500 space-y-8",children:[b.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-purple-900/20 p-10 rounded-[40px] border border-white/10 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter text-white mb-2",children:"AI Feedback Analyst"}),b.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Generate comprehensive reports from user feedback loops"})]}),b.jsxs("button",{onClick:$e,disabled:Be,className:"px-8 py-4 bg-white text-black rounded-2xl font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all flex items-center gap-3",children:[Be?b.jsx(pO,{className:"animate-spin",size:20}):b.jsx(Gp,{size:20}),Be?"Analyzing...":"Generate New Report"]})]}),Me&&b.jsxs("div",{className:"grid md:grid-cols-12 gap-8 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[b.jsxs("div",{className:"md:col-span-8 bg-slate-900/50 p-8 rounded-[40px] border border-white/5 backdrop-blur-sm",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:b.jsx(_j,{className:"text-cyan-400",size:20})}),b.jsx("h4",{className:"text-lg font-black uppercase tracking-tighter",children:"Executive Summary"})]}),b.jsx("p",{className:"text-sm leading-8 text-slate-300 font-medium",children:Me.summary}),b.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl",children:[b.jsx("h5",{className:"text-[10px] uppercase tracking-widest text-slate-500 mb-4",children:"Detected Trend"}),b.jsx("div",{className:"text-xl font-black text-cyan-400",children:Me.trend})]}),b.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl",children:[b.jsx("h5",{className:"text-[10px] uppercase tracking-widest text-slate-500 mb-4",children:"Sentiment Balance"}),b.jsxs("div",{className:"flex items-end gap-2 h-10",children:[b.jsx("div",{className:"w-1/3 bg-green-500 rounded-t-lg",style:{height:`${(((nr=Me.sentimentBreakdown)==null?void 0:nr.positive)||1)*2}px`}}),b.jsx("div",{className:"w-1/3 bg-slate-500 rounded-t-lg",style:{height:`${(((cn=Me.sentimentBreakdown)==null?void 0:cn.neutral)||1)*2}px`}}),b.jsx("div",{className:"w-1/3 bg-red-500 rounded-t-lg",style:{height:`${(((Hn=Me.sentimentBreakdown)==null?void 0:Hn.negative)||1)*2}px`}})]})]})]})]}),b.jsxs("div",{className:"md:col-span-4 space-y-6",children:[b.jsxs("div",{className:"bg-red-500/10 p-8 rounded-[40px] border border-red-500/20",children:[b.jsx("h4",{className:"text-sm font-black uppercase tracking-wide text-red-400 mb-4",children:"Top Issues"}),b.jsx("ul",{className:"space-y-3",children:(hr=Me.topIssues)==null?void 0:hr.map((ht,en)=>b.jsxs("li",{className:"flex gap-3 text-xs text-red-200 font-bold",children:[b.jsxs("span",{className:"opacity-50",children:[en+1,"."]}),ht]},en))})]}),b.jsxs("div",{className:"bg-green-500/10 p-8 rounded-[40px] border border-green-500/20",children:[b.jsx("h4",{className:"text-sm font-black uppercase tracking-wide text-green-400 mb-4",children:"Feature Requests"}),b.jsx("ul",{className:"space-y-3",children:(Da=Me.suggestions)==null?void 0:Da.map((ht,en)=>b.jsxs("li",{className:"flex gap-3 text-xs text-green-200 font-bold",children:[b.jsxs("span",{className:"opacity-50",children:[en+1,"."]}),ht]},en))})]})]}),b.jsxs("div",{className:"md:col-span-12 bg-white/5 p-8 rounded-[40px] border border-white/5 border-l-4 border-l-cyan-500",children:[b.jsx("h4",{className:"text-sm font-black uppercase tracking-wide text-white mb-6",children:"Strategic Action Items"}),b.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:(zr=Me.actionItems)==null?void 0:zr.map((ht,en)=>b.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl text-xs font-mono text-cyan-300",children:["> ",ht]},en))})]})]})]}),D==="profile"&&b.jsx("div",{className:"max-w-xl mx-auto animate-in slide-in-from-right-10 duration-500",children:b.jsxs("div",{className:"bg-slate-900/30 p-10 rounded-[40px] border border-white/5 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-32 bg-cyan-500/5 blur-[100px] rounded-full"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-3xl flex items-center justify-center shadow-lg shadow-cyan-500/20",children:b.jsx(_m,{size:40,className:"text-white"})})}),b.jsx("h3",{className:"text-2xl font-black text-center text-white uppercase tracking-tighter mb-2",children:"Admin Security Profile"}),b.jsx("p",{className:"text-center text-xs text-slate-500 font-bold uppercase tracking-widest mb-10",children:"Update credentials and access keys"}),b.jsxs("form",{onSubmit:qt,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-4",children:"Current Password"}),b.jsx("input",{type:"password",disabled:!0,value:"",className:"w-full bg-black/50 border border-white/10 rounded-2xl px-6 py-4 text-slate-500 text-sm font-mono cursor-not-allowed opacity-50"}),b.jsx("p",{className:"text-[9px] text-slate-600 px-4",children:"Current session authenticated via secure token."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black text-white uppercase tracking-widest ml-4",children:"New Strong Password"}),b.jsx("input",{type:"password",value:G,onChange:ht=>L(ht.target.value),className:"w-full bg-black/50 border border-white/10 rounded-2xl px-6 py-4 text-white placeholder:text-slate-700 focus:outline-none focus:border-cyan-500/50 transition-all font-mono text-sm",placeholder:"Min 12 chars, Upper, Lower, Special..."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black text-white uppercase tracking-widest ml-4",children:"Confirm New Password"}),b.jsx("input",{type:"password",value:V,onChange:ht=>F(ht.target.value),className:"w-full bg-black/50 border border-white/10 rounded-2xl px-6 py-4 text-white placeholder:text-slate-700 focus:outline-none focus:border-cyan-500/50 transition-all font-mono text-sm",placeholder:"Re-enter password"})]}),ee&&b.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-start gap-3",children:[b.jsx(Kg,{className:"text-red-500 shrink-0 mt-0.5",size:16}),b.jsx("p",{className:"text-[10px] font-bold text-red-400",children:ee})]}),Q&&b.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-2xl flex items-center gap-3",children:[b.jsx(wm,{className:"text-green-500 shrink-0",size:16}),b.jsx("p",{className:"text-[10px] font-bold text-green-400",children:Q})]}),b.jsx("button",{type:"submit",className:"w-full bg-white hover:bg-slate-200 text-slate-950 py-5 rounded-2xl text-xs font-black uppercase tracking-widest transition-all hover:scale-[1.02] active:scale-95 mt-4",children:"Update Credentials"})]})]})]})}),D==="privacy"&&b.jsxs("div",{className:"animate-in slide-in-from-right-10 duration-500 space-y-8",children:[b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-slate-900/30 p-10 rounded-[40px] border border-white/5 space-y-8",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Kg,{className:"text-cyan-400",size:24}),b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:"Anonymity Audit"})]}),b.jsx("p",{className:"text-xs leading-relaxed text-slate-400 font-medium",children:"Gemini Audit suggests that your dataset is highly secure for internal research, with low risk of user re-identification."}),b.jsx("div",{className:"space-y-4",children:(Ir=_==null?void 0:_.privacyTips)==null?void 0:Ir.map((ht,en)=>b.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[b.jsx(wm,{size:16,className:"text-cyan-500 shrink-0"}),b.jsx("p",{className:"text-[11px] font-bold text-slate-300",children:ht})]},en))})]}),b.jsxs("div",{className:"bg-slate-900/30 p-10 rounded-[40px] border border-white/5 space-y-8",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Af,{className:"text-magenta-400",size:24}),b.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:"Fine-Tuning Potential"})]}),b.jsxs("div",{className:"p-6 bg-magenta-500/5 rounded-3xl border border-magenta-500/20",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4 text-magenta-400",children:[b.jsx(aY,{size:14}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"High Value Target"})]}),b.jsx("p",{className:"text-xs font-bold text-slate-200",children:'Focusing fine-tuning on "Evening Posture Correction" could reduce long-term ergonomic issues by up to 22%.'})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-white/5 rounded-xl text-[10px] font-black uppercase",children:[b.jsx("span",{children:"Posture Resolution"}),b.jsx("span",{className:"text-green-500",children:"OPTIMAL"})]}),b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-white/5 rounded-xl text-[10px] font-black uppercase",children:[b.jsx("span",{children:"Respiratory Noise"}),b.jsx("span",{className:"text-orange-500",children:"FILTER REQ"})]})]})]})]}),b.jsxs("div",{className:"bg-cyan-600/10 p-10 rounded-[40px] border border-cyan-500/20",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-12 h-12 bg-cyan-600 rounded-2xl flex items-center justify-center text-black",children:b.jsx(ru,{size:28})}),b.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter text-cyan-400",children:"Compliance Directives"})]}),b.jsx("ul",{className:"grid md:grid-cols-3 gap-6",children:["Aggregated datasets must retain a minimum k-value of 10.","JSONL exports automatically strip all high-resolution timestamps.","Differential noise is injected into all publicly visible diagrams."].map((ht,en)=>b.jsx("li",{className:"text-[10px] font-bold text-slate-400 uppercase leading-relaxed p-4 bg-black/40 rounded-xl border border-white/5",children:ht},en))})]})]}),D==="sentiment"&&b.jsxs("div",{className:"animate-in slide-in-from-right-10 duration-500 space-y-8",children:[b.jsxs("div",{className:"glass-card rounded-[40px] p-10 border-cyan-500/20 bg-gradient-to-br from-cyan-500/5 to-transparent",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx(Gp,{className:"text-cyan-400",size:32}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"AI Platform Directives"}),b.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:["Aggregate sentiment analysis from ",rt.recentFeedback.length," reports"]})]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"p-6 bg-slate-900/50 rounded-3xl border border-white/5",children:[b.jsx("p",{className:"text-[10px] font-black text-cyan-500 uppercase tracking-widest mb-3",children:"Core Sentiment Summary"}),b.jsxs("p",{className:"text-sm leading-relaxed text-slate-300 italic",children:['"',(m==null?void 0:m.sentimentSummary)||"Awaiting platform synchronization...",'"']})]}),b.jsxs("div",{className:"flex items-center gap-4 p-5 bg-green-500/10 rounded-2xl border border-green-500/20",children:[b.jsx(Cj,{className:"text-green-500"}),b.jsx("span",{className:"text-xs font-black text-green-200 uppercase tracking-widest",children:"Platform Satisfaction: 88%"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Neural Directives (Actionable AI Output)"}),(hs=m==null?void 0:m.directives)==null?void 0:hs.map((ht,en)=>b.jsxs("div",{className:"flex gap-4 items-start p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-cyan-500/30 transition-all",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center text-cyan-500 font-black text-xs shrink-0",children:en+1}),b.jsx("p",{className:"text-xs font-bold text-slate-300 leading-snug",children:ht})]},en))]})]})]}),b.jsxs("div",{className:"bg-slate-900/30 p-10 rounded-[40px] border border-white/5",children:[b.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest mb-8 flex items-center gap-3",children:[b.jsx(uS,{className:"text-slate-500",size:18})," Direct Feedback Stream"]}),b.jsx("div",{className:"space-y-4",children:rt.recentFeedback.map((ht,en)=>b.jsxs("div",{className:"flex items-center justify-between p-5 bg-black/40 rounded-2xl border border-white/5 group hover:bg-white/5 transition-all",children:[b.jsx("p",{className:"text-xs text-slate-400 group-hover:text-slate-200",children:ht}),b.jsx("span",{className:"text-[9px] font-black text-cyan-600 opacity-0 group-hover:opacity-100 transition-opacity uppercase",children:"Source Verification: Pass"})]},en))})]})]}),D==="raw"&&b.jsx("div",{className:"animate-in slide-in-from-right-10 duration-500",children:b.jsxs("div",{className:"bg-slate-950 p-8 rounded-[32px] border border-cyan-900/40 font-mono text-[11px] h-[600px] overflow-y-auto scrollbar-hide",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-6 text-cyan-500/40",children:[b.jsx(mO,{size:14}),b.jsx("span",{children:"LIVE_EVENT_STREAM ... [CONNECTED]"})]}),b.jsx("div",{className:"space-y-1.5 opacity-80",children:Ue.length===0?b.jsx("p",{className:"text-slate-600 italic",children:"No recent events found on the network."}):Ue.map((ht,en)=>b.jsxs("p",{className:"border-b border-white/5 pb-1 mb-1",children:[b.jsxs("span",{className:"text-slate-600",children:["[",new Date(ht.timestamp).toISOString(),"]"]}),b.jsxs("span",{className:"text-cyan-600 ml-4",children:[ht.type,":"]}),b.jsxs("span",{className:"text-slate-400 ml-4",children:[ht.description||"No description"," ... Severity::",ht.severity]})]},en))})]})})]})]})]})};var pd={},JE,X7;function Uq(){return X7||(X7=1,JE={L:1,M:0,Q:3,H:2}),JE}var ZE,Q7;function Fq(){return Q7||(Q7=1,ZE={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),ZE}var eS,J7;function GSe(){if(J7)return eS;J7=1;var t=Fq();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},eS=e,eS}var tS,Z7;function $Se(){if(Z7)return tS;Z7=1;var t=Uq();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var a=i.length/3,o=new Array,c=0;c<a;c++)for(var d=i[c*3+0],u=i[c*3+1],m=i[c*3+2],y=0;y<d;y++)o.push(new e(u,m));return o},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},tS=e,tS}var nS,ej;function WSe(){if(ej)return nS;ej=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},nS=t,nS}var rS,tj;function Vq(){if(tj)return rS;tj=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return rS=t,rS}var iS,nj;function zq(){if(nj)return iS;nj=1;var t=Vq();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var a=0;a<n.length-i;a++)this.num[a]=n[a+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<n.getLength();a++)r[i+a]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(a)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<n.getLength();a++)i[a]^=t.gexp(t.glog(n.get(a))+r);return new e(i,0).mod(n)}},iS=e,iS}var aS,rj;function YSe(){if(rj)return aS;rj=1;var t=Fq(),e=zq(),n=Vq(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var o=a<<10;i.getBCHDigit(o)-i.getBCHDigit(i.G15)>=0;)o^=i.G15<<i.getBCHDigit(o)-i.getBCHDigit(i.G15);return(a<<10|o)^i.G15_MASK},getBCHTypeNumber:function(a){for(var o=a<<12;i.getBCHDigit(o)-i.getBCHDigit(i.G18)>=0;)o^=i.G18<<i.getBCHDigit(o)-i.getBCHDigit(i.G18);return a<<12|o},getBCHDigit:function(a){for(var o=0;a!=0;)o++,a>>>=1;return o},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,o,c){switch(a){case r.PATTERN000:return(o+c)%2==0;case r.PATTERN001:return o%2==0;case r.PATTERN010:return c%3==0;case r.PATTERN011:return(o+c)%3==0;case r.PATTERN100:return(Math.floor(o/2)+Math.floor(c/3))%2==0;case r.PATTERN101:return o*c%2+o*c%3==0;case r.PATTERN110:return(o*c%2+o*c%3)%2==0;case r.PATTERN111:return(o*c%3+(o+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var o=new e([1],0),c=0;c<a;c++)o=o.multiply(new e([1,n.gexp(c)],0));return o},getLengthInBits:function(a,o){if(1<=o&&o<10)switch(a){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(o<27)switch(a){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(o<41)switch(a){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+o)},getLostPoint:function(a){for(var o=a.getModuleCount(),c=0,d=0;d<o;d++)for(var u=0;u<o;u++){for(var m=0,y=a.isDark(d,u),_=-1;_<=1;_++)if(!(d+_<0||o<=d+_))for(var I=-1;I<=1;I++)u+I<0||o<=u+I||_==0&&I==0||y==a.isDark(d+_,u+I)&&m++;m>5&&(c+=3+m-5)}for(var d=0;d<o-1;d++)for(var u=0;u<o-1;u++){var D=0;a.isDark(d,u)&&D++,a.isDark(d+1,u)&&D++,a.isDark(d,u+1)&&D++,a.isDark(d+1,u+1)&&D++,(D==0||D==4)&&(c+=3)}for(var d=0;d<o;d++)for(var u=0;u<o-6;u++)a.isDark(d,u)&&!a.isDark(d,u+1)&&a.isDark(d,u+2)&&a.isDark(d,u+3)&&a.isDark(d,u+4)&&!a.isDark(d,u+5)&&a.isDark(d,u+6)&&(c+=40);for(var u=0;u<o;u++)for(var d=0;d<o-6;d++)a.isDark(d,u)&&!a.isDark(d+1,u)&&a.isDark(d+2,u)&&a.isDark(d+3,u)&&a.isDark(d+4,u)&&!a.isDark(d+5,u)&&a.isDark(d+6,u)&&(c+=40);for(var M=0,u=0;u<o;u++)for(var d=0;d<o;d++)a.isDark(d,u)&&M++;var R=Math.abs(100*M/o/o-50)/5;return c+=R*10,c}};return aS=i,aS}var oS,ij;function KSe(){if(ij)return oS;ij=1;var t=GSe(),e=$Se(),n=WSe(),r=YSe(),i=zq();function a(c,d){this.typeNumber=c,this.errorCorrectLevel=d,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=a.prototype;return o.addData=function(c){var d=new t(c);this.dataList.push(d),this.dataCache=null},o.isDark=function(c,d){if(c<0||this.moduleCount<=c||d<0||this.moduleCount<=d)throw new Error(c+","+d);return this.modules[c][d]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var c=1;for(c=1;c<40;c++){for(var d=e.getRSBlocks(c,this.errorCorrectLevel),u=new n,m=0,y=0;y<d.length;y++)m+=d[y].dataCount;for(var y=0;y<this.dataList.length;y++){var _=this.dataList[y];u.put(_.mode,4),u.put(_.getLength(),r.getLengthInBits(_.mode,c)),_.write(u)}if(u.getLengthInBits()<=m*8)break}this.typeNumber=c}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(c,d){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[u][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,d),this.typeNumber>=7&&this.setupTypeNumber(c),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,d)},o.setupPositionProbePattern=function(c,d){for(var u=-1;u<=7;u++)if(!(c+u<=-1||this.moduleCount<=c+u))for(var m=-1;m<=7;m++)d+m<=-1||this.moduleCount<=d+m||(0<=u&&u<=6&&(m==0||m==6)||0<=m&&m<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=m&&m<=4?this.modules[c+u][d+m]=!0:this.modules[c+u][d+m]=!1)},o.getBestMaskPattern=function(){for(var c=0,d=0,u=0;u<8;u++){this.makeImpl(!0,u);var m=r.getLostPoint(this);(u==0||c>m)&&(c=m,d=u)}return d},o.createMovieClip=function(c,d,u){var m=c.createEmptyMovieClip(d,u),y=1;this.make();for(var _=0;_<this.modules.length;_++)for(var I=_*y,D=0;D<this.modules[_].length;D++){var M=D*y,R=this.modules[_][D];R&&(m.beginFill(0,100),m.moveTo(M,I),m.lineTo(M+y,I),m.lineTo(M+y,I+y),m.lineTo(M,I+y),m.endFill())}return m},o.setupTimingPattern=function(){for(var c=8;c<this.moduleCount-8;c++)this.modules[c][6]==null&&(this.modules[c][6]=c%2==0);for(var d=8;d<this.moduleCount-8;d++)this.modules[6][d]==null&&(this.modules[6][d]=d%2==0)},o.setupPositionAdjustPattern=function(){for(var c=r.getPatternPosition(this.typeNumber),d=0;d<c.length;d++)for(var u=0;u<c.length;u++){var m=c[d],y=c[u];if(this.modules[m][y]==null)for(var _=-2;_<=2;_++)for(var I=-2;I<=2;I++)_==-2||_==2||I==-2||I==2||_==0&&I==0?this.modules[m+_][y+I]=!0:this.modules[m+_][y+I]=!1}},o.setupTypeNumber=function(c){for(var d=r.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var m=!c&&(d>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=m}for(var u=0;u<18;u++){var m=!c&&(d>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=m}},o.setupTypeInfo=function(c,d){for(var u=this.errorCorrectLevel<<3|d,m=r.getBCHTypeInfo(u),y=0;y<15;y++){var _=!c&&(m>>y&1)==1;y<6?this.modules[y][8]=_:y<8?this.modules[y+1][8]=_:this.modules[this.moduleCount-15+y][8]=_}for(var y=0;y<15;y++){var _=!c&&(m>>y&1)==1;y<8?this.modules[8][this.moduleCount-y-1]=_:y<9?this.modules[8][15-y-1+1]=_:this.modules[8][15-y-1]=_}this.modules[this.moduleCount-8][8]=!c},o.mapData=function(c,d){for(var u=-1,m=this.moduleCount-1,y=7,_=0,I=this.moduleCount-1;I>0;I-=2)for(I==6&&I--;;){for(var D=0;D<2;D++)if(this.modules[m][I-D]==null){var M=!1;_<c.length&&(M=(c[_]>>>y&1)==1);var R=r.getMask(d,m,I-D);R&&(M=!M),this.modules[m][I-D]=M,y--,y==-1&&(_++,y=7)}if(m+=u,m<0||this.moduleCount<=m){m-=u,u=-u;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(c,d,u){for(var m=e.getRSBlocks(c,d),y=new n,_=0;_<u.length;_++){var I=u[_];y.put(I.mode,4),y.put(I.getLength(),r.getLengthInBits(I.mode,c)),I.write(y)}for(var D=0,_=0;_<m.length;_++)D+=m[_].dataCount;if(y.getLengthInBits()>D*8)throw new Error("code length overflow. ("+y.getLengthInBits()+">"+D*8+")");for(y.getLengthInBits()+4<=D*8&&y.put(0,4);y.getLengthInBits()%8!=0;)y.putBit(!1);for(;!(y.getLengthInBits()>=D*8||(y.put(a.PAD0,8),y.getLengthInBits()>=D*8));)y.put(a.PAD1,8);return a.createBytes(y,m)},a.createBytes=function(c,d){for(var u=0,m=0,y=0,_=new Array(d.length),I=new Array(d.length),D=0;D<d.length;D++){var M=d[D].dataCount,R=d[D].totalCount-M;m=Math.max(m,M),y=Math.max(y,R),_[D]=new Array(M);for(var j=0;j<_[D].length;j++)_[D][j]=255&c.buffer[j+u];u+=M;var B=r.getErrorCorrectPolynomial(R),U=new i(_[D],B.getLength()-1),$=U.mod(B);I[D]=new Array(B.getLength()-1);for(var j=0;j<I[D].length;j++){var H=j+$.getLength()-I[D].length;I[D][j]=H>=0?$.get(H):0}}for(var G=0,j=0;j<d.length;j++)G+=d[j].totalCount;for(var L=new Array(G),V=0,j=0;j<m;j++)for(var D=0;D<d.length;D++)j<_[D].length&&(L[V++]=_[D][j]);for(var j=0;j<y;j++)for(var D=0;D<d.length;D++)j<I[D].length&&(L[V++]=I[D][j]);return L},oS=a,oS}var wy={},aj;function XSe(){if(aj)return wy;aj=1,Object.defineProperty(wy,"__esModule",{value:!0});var t=Object.assign||function(u){for(var m=1;m<arguments.length;m++){var y=arguments[m];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(u[_]=y[_])}return u},e=DN(),n=a(e),r=g0(),i=a(r);function a(u){return u&&u.__esModule?u:{default:u}}function o(u,m){var y={};for(var _ in u)m.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(u,_)&&(y[_]=u[_]);return y}var c={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},d=(0,r.forwardRef)(function(u,m){var y=u.bgColor,_=u.bgD,I=u.fgD,D=u.fgColor,M=u.size,R=u.title,j=u.viewBoxSize,B=u.xmlns,U=B===void 0?"http://www.w3.org/2000/svg":B,$=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},$,{height:M,ref:m,viewBox:"0 0 "+j+" "+j,width:M,xmlns:U}),R?i.default.createElement("title",null,R):null,i.default.createElement("path",{d:_,fill:y}),i.default.createElement("path",{d:I,fill:D}))});return d.displayName="QRCodeSvg",d.propTypes=c,wy.default=d,wy}var oj;function QSe(){if(oj)return pd;oj=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.QRCode=void 0;var t=Object.assign||function(M){for(var R=1;R<arguments.length;R++){var j=arguments[R];for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&(M[B]=j[B])}return M},e=DN(),n=y(e),r=Uq(),i=y(r),a=KSe(),o=y(a),c=g0(),d=y(c),u=XSe(),m=y(u);function y(M){return M&&M.__esModule?M:{default:M}}function _(M,R){var j={};for(var B in M)R.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(M,B)&&(j[B]=M[B]);return j}var I={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},D=(0,c.forwardRef)(function(M,R){var j=M.bgColor,B=j===void 0?"#FFFFFF":j,U=M.fgColor,$=U===void 0?"#000000":U,H=M.level,G=H===void 0?"L":H,L=M.size,V=L===void 0?256:L,F=M.value,ee=_(M,["bgColor","fgColor","level","size","value"]),K=new o.default(-1,i.default[G]);K.addData(F),K.make();var Q=K.modules;return d.default.createElement(m.default,t({},ee,{bgColor:B,bgD:Q.map(function(X,ge){return X.map(function(oe,ie){return oe?"":"M "+ie+" "+ge+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:$,fgD:Q.map(function(X,ge){return X.map(function(oe,ie){return oe?"M "+ie+" "+ge+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:R,size:V,viewBoxSize:Q.length}))});return pd.QRCode=D,D.displayName="QRCode",D.propTypes=I,pd.default=D,pd}var JSe=QSe();const ZSe=En(JSe),eTe=()=>{const t=Fo(),{t:e,dir:n,language:r,setLanguage:i}=Zr(),[a,o]=ne.useState(null),[c,d]=ne.useState(null),[u,m]=ne.useState(null),y=async()=>{if(!a)return;const V=await Lt.createSyncSession(a.uid);m(V)},[_,I]=ne.useState({anonymizeAI:!0,encryptLogs:!0,encryptionLevel:"AES-256",dataRetentionDays:30,allowAggregateTraining:!1}),[D,M]=ne.useState(!1),[R,j]=ne.useState(!1);ne.useEffect(()=>{const V=Lt.onAuthChange(F=>{o(F)});return()=>V()},[]),ne.useEffect(()=>{(async()=>{if(!(a!=null&&a.uid))return;const F=a.uid,ee=await Lt.getPrivacySettings(F);ee&&I(ee);const K=await Lt.getUserProfile(F);K&&d(K)})()},[a]);const B=async()=>{await Lt.logoutUser(),t("/login")},U=async()=>{if(a!=null&&a.uid)try{await Lt.deleteUserAccount(a.uid),t("/")}catch{alert("Failed to delete account. Please try logging in again first.")}},$=async V=>{if(!(a!=null&&a.uid))return;const F={..._,[V]:!_[V]};I(F),await Lt.savePrivacySettings(a.uid,F),G()},H=async V=>{if(!(a!=null&&a.uid))return;const F={..._,encryptionLevel:V};I(F),await Lt.savePrivacySettings(a.uid,F),G()},G=()=>{j(!0),setTimeout(()=>j(!1),2e3)},L=()=>{if(!(a!=null&&a.uid))return;const V={user:a.uid,timestamp:new Date().toISOString(),settings:_,mockEvents:[{type:"POSTURE",severity:"MEDIUM",timestamp:Date.now()-1e5}]},F=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),ee=URL.createObjectURL(F),K=document.createElement("a");K.href=ee,K.download=`devwell_privacy_export_${Date.now()}.json`,K.click()};return b.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans p-8 md:p-12",dir:n,children:b.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx(Mn,{to:"/dashboard",className:"p-3 bg-white/5 hover:bg-white/10 rounded-2xl transition-all border border-white/5",children:n==="rtl"?b.jsx(Ll,{className:"rotate-180",size:20}):b.jsx(Ll,{size:20})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-black tracking-tighter uppercase",children:e("privacyCore")}),b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:e("privacySubtitle")})]})]}),R&&b.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-400/10 px-4 py-2 rounded-xl border border-emerald-400/20 animate-in fade-in slide-in-from-top-2",children:[b.jsx(wm,{size:14}),b.jsx("span",{className:"text-[10px] font-black uppercase",children:e("cloudSynced")})]})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-10 space-y-8 border border-white/5 shadow-2xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:b.jsx(_m,{size:120})}),b.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[b.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800 border-2 border-white/10 flex items-center justify-center overflow-hidden shadow-2xl",children:a!=null&&a.photoURL?b.jsx("img",{src:a.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):b.jsx(_m,{size:32,className:"text-slate-500"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:(c==null?void 0:c.name)||(a==null?void 0:a.displayName)||"DevWell User"}),b.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm font-medium",children:[b.jsx(jd,{size:14}),b.jsx("span",{children:(a==null?void 0:a.email)||"user@devwell.ai"})]}),b.jsx("div",{className:"mt-2 flex items-center gap-2",children:b.jsx("span",{className:"bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border border-blue-500/20",children:e(a?"verifiedLink":"demoInterface")})})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 relative z-10",children:[b.jsxs("div",{className:"flex-1 p-2 bg-slate-900/50 rounded-2xl border border-white/5 flex items-center justify-between px-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Globe,{size:16,className:"text-slate-400"}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:e("language")})]}),b.jsx("div",{className:"flex gap-2",children:["en","fr","ar"].map(V=>b.jsx("button",{onClick:()=>i(V),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase transition-all ${r===V?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"bg-white/5 text-slate-500 hover:bg-white/10"}`,children:V},V))})]}),b.jsxs("button",{onClick:B,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 rounded-2xl text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all border border-white/5",children:[b.jsx(cY,{size:14})," ",e("logOut")]})]})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-10 space-y-8 border border-white/5 shadow-2xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:b.jsx(MC,{size:120})}),b.jsxs("div",{className:"relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 rounded-full bg-indigo-500/10 text-indigo-400",children:b.jsx(gY,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black uppercase text-white",children:"Neural Bridge"}),b.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Connect Mobile Sensor Node"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Offload visual processing to your mobile device's dedicated neural engine. This reduces CPU load on your main workstation and allows for flexible sensor placement."}),b.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:["1. Open DevWell on your mobile device.",b.jsx("br",{}),'2. Select "Link with Computer" on login.',b.jsx("br",{}),"3. Scan this neural imprint."]}),!u&&b.jsx("button",{onClick:y,className:"px-6 py-3 bg-indigo-600 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-colors",children:"Generate Link Signal"})]}),u&&b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl animate-in zoom-in duration-500",children:[b.jsx("div",{style:{height:"auto",margin:"0 auto",maxWidth:160,width:"100%"},children:b.jsx(ZSe,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:u,viewBox:"0 0 256 256"})}),b.jsxs("p",{className:"text-[10px] font-black text-center text-slate-900 mt-2 uppercase tracking-tight opacity-50",children:["Session: ",u.slice(0,8)]})]})]})]})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-10 space-y-8 border border-white/5 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-600/20 flex items-center justify-center text-blue-400",children:b.jsx(rY,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:e("anonymizationLayer")}),b.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:e("anonymizationSubtitle")})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-900/50 rounded-3xl border border-white/5 hover:border-blue-500/30 transition-all",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-bold mb-1",children:e("scrubPii")}),b.jsx("p",{className:"text-xs text-slate-500 max-w-md",children:e("scrubPiiDesc")})]}),b.jsx("button",{onClick:()=>$("anonymizeAI"),className:`w-14 h-8 rounded-full relative transition-all ${_.anonymizeAI?"bg-blue-600":"bg-slate-700"}`,children:b.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-all shadow-md ${_.anonymizeAI?n==="rtl"?"right-7":"left-7":n==="rtl"?"right-1":"left-1"}`})})]}),b.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-900/50 rounded-3xl border border-white/5 hover:border-blue-500/30 transition-all",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-bold mb-1",children:e("aggregateConsent")}),b.jsx("p",{className:"text-xs text-slate-500 max-w-md",children:e("aggregateConsentDesc")})]}),b.jsx("button",{onClick:()=>$("allowAggregateTraining"),className:`w-14 h-8 rounded-full relative transition-all ${_.allowAggregateTraining?"bg-indigo-600":"bg-slate-700"}`,children:b.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-all shadow-md ${_.allowAggregateTraining?n==="rtl"?"right-7":"left-7":n==="rtl"?"right-1":"left-1"}`})})]})]})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-10 space-y-8 border border-white/5 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-2xl bg-magenta-600/20 flex items-center justify-center text-magenta-400",children:b.jsx(ns,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:e("encryptionHub")}),b.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:e("encryptionSubtitle")})]})]}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"p-6 bg-slate-900/50 rounded-3xl border border-white/5 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"text-sm font-bold",children:e("logEncryption")}),b.jsx("span",{className:"text-[10px] font-black text-magenta-500 uppercase tracking-widest bg-magenta-500/10 px-3 py-1 rounded-lg",children:e("active")})]}),b.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Standard","AES-256","Quantum-Resistant"].map(V=>b.jsx("button",{onClick:()=>H(V),className:`p-4 rounded-2xl text-[10px] font-black uppercase tracking-widest border transition-all ${_.encryptionLevel===V?"bg-magenta-600/20 border-magenta-500 text-magenta-400":"bg-white/5 border-transparent text-slate-500 hover:bg-white/10"}`,children:V==="Standard"?e("standard"):V==="Quantum-Resistant"?e("quantum"):V},V))})]})})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"glass-card rounded-[40px] p-10 border border-white/5 shadow-xl space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(cS,{className:"text-blue-400",size:20}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:e("exportArchive")})]}),b.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:e("exportDesc")}),b.jsxs("button",{onClick:L,className:"w-full py-4 bg-white text-slate-950 rounded-2xl text-xs font-black uppercase tracking-widest hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(cS,{size:14})," ",e("initDownload")]})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-10 border border-white/5 shadow-xl space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(gO,{className:"text-red-500",size:20}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-red-500",children:e("thePurge")})]}),b.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:e("purgeDesc")}),b.jsxs("button",{onClick:()=>M(!0),className:"w-full py-4 bg-red-500/10 border border-red-500/20 text-red-500 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-red-500/20 transition-all flex items-center justify-center gap-2",children:[b.jsx(gO,{size:14})," ",e("wipeData")]})]})]}),D&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-6",children:b.jsxs("div",{className:"glass-card w-full max-w-md rounded-[48px] p-10 border border-red-500/30 space-y-8 animate-in zoom-in-95 duration-300",children:[b.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-[32px] flex items-center justify-center mx-auto text-red-500",children:b.jsx(Ij,{size:40,className:"animate-pulse"})}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("h4",{className:"text-2xl font-black uppercase tracking-tighter",children:e("confirmPurge")}),b.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest leading-relaxed",children:e("purgeWarning")})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-4 bg-white/5 text-slate-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-white/10 transition-all",children:e("cancel")}),b.jsx("button",{onClick:U,className:"flex-1 py-4 bg-red-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-red-700 transition-all shadow-xl shadow-red-600/30",children:e("confirmDelete")})]})]})}),b.jsxs("div",{className:"text-center pt-10 pb-20 opacity-30 flex flex-col items-center gap-2",children:[b.jsx(iY,{size:24}),b.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:e("privacyProtocol")})]})]})})},tTe=()=>{var i;const{t,dir:e}=Zr(),r=((i=si().state)==null?void 0:i.from)==="dashboard"?"/dashboard":"/";return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 selection:bg-blue-500/30",dir:e,children:[b.jsx("nav",{className:"flex items-center justify-between px-8 py-10 max-w-7xl mx-auto",children:b.jsxs(Mn,{to:r,className:"flex items-center gap-4 group",children:[b.jsx("div",{className:"p-3 bg-white/5 rounded-2xl group-hover:bg-white/10 transition-all border border-white/5",children:e==="rtl"?b.jsx(Ll,{size:20,className:"rotate-180"}):b.jsx(Ll,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500 block",children:t("returnHome")}),b.jsx("span",{className:"text-lg font-black tracking-tighter uppercase",children:t("aboutDevWell")})]})]})}),b.jsxs("main",{className:"max-w-4xl mx-auto px-8 py-20 space-y-32",children:[b.jsxs("section",{className:"space-y-10",children:[b.jsxs("h2",{className:"text-5xl md:text-7xl font-black tracking-tighter leading-none",children:[t("builtFor")," ",b.jsx("br",{})," ",b.jsx("span",{className:"text-blue-500",children:t("lateNights")})]}),b.jsx("p",{className:"text-xl text-slate-400 leading-relaxed font-medium",children:t("aboutMission")})]}),b.jsxs("section",{className:"grid md:grid-cols-2 gap-12",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"w-16 h-16 bg-blue-600/20 rounded-3xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:b.jsx(OC,{size:32})}),b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:t("empathyFirst")}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("empathyDesc")})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"w-16 h-16 bg-indigo-600/20 rounded-3xl flex items-center justify-center text-indigo-400 border border-indigo-500/20",children:b.jsx(ru,{size:32})}),b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:t("intelligenceGood")}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("intelligenceDesc")})]})]}),b.jsxs("section",{className:"bg-slate-900/40 p-12 rounded-[48px] border border-white/5 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 bg-blue-600/5 -z-10 group-hover:opacity-100 opacity-0 transition-opacity duration-1000"}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-center",children:[b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsx("h3",{className:"text-3xl font-black uppercase tracking-tight",children:t("theVision")}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("visionDesc")}),b.jsxs("div",{className:"flex gap-6 pt-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(eY,{size:16,className:"text-blue-500"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t("builtByDevs")})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Nj,{size:16,className:"text-blue-500"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t("forDevs")})]})]})]}),b.jsxs("div",{className:"w-64 h-64 bg-slate-800 rounded-3xl overflow-hidden shadow-2xl relative",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&q=80&w=1000",className:"w-full h-full object-cover opacity-60"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 to-transparent"})]})]})]}),b.jsxs("section",{className:"text-center py-20",children:[b.jsx("h4",{className:"text-2xl font-black uppercase tracking-widest mb-8 text-slate-500",children:t("readyToSync")}),b.jsx(Mn,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-10 py-5 rounded-full font-black uppercase tracking-widest text-sm transition-all shadow-2xl shadow-blue-600/30 inline-block",children:t("initializeProtocol")})]})]})]})},nTe=()=>{var i;const{t,dir:e}=Zr(),r=((i=si().state)==null?void 0:i.from)==="dashboard"?"/dashboard":"/";return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-blue-500/30",dir:e,children:[b.jsx("header",{className:"sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5 py-4 px-8",children:b.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Mn,{to:r,className:"p-2 hover:bg-white/5 rounded-xl transition-colors text-slate-400 hover:text-white",children:b.jsx(Sh,{size:20,className:e==="rtl"?"rotate-180":""})}),b.jsxs("div",{className:"flex items-center gap-2 font-black text-xl tracking-tighter",children:[b.jsx(Ra,{size:24,className:"text-blue-500"}),b.jsx("span",{children:t("docs.title").toUpperCase()})]})]}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"User Guide 2026"})]})}),b.jsxs("main",{className:"max-w-5xl mx-auto py-16 px-8 grid gap-20",children:[b.jsxs("section",{className:"text-center space-y-6",children:[b.jsx("h1",{className:"text-5xl md:text-6xl font-black tracking-tighter bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent",children:t("docs.welcome")}),b.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:t("docs.subtitle")})]}),b.jsxs("section",{className:"grid md:grid-cols-[200px_1fr] gap-10 border-t border-white/5 pt-10",children:[b.jsx("div",{className:"text-blue-400 font-black uppercase tracking-widest text-sm sticky top-24 self-start",children:t("docsContent.core.title")}),b.jsxs("div",{className:"space-y-12",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black",children:[b.jsx("div",{className:"bg-blue-500/10 p-3 rounded-2xl text-blue-500",children:b.jsx(Ra,{size:24})}),b.jsx("h3",{children:t("docsContent.core.wellnessScore.title")})]}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("docsContent.core.wellnessScore.desc")}),b.jsx("ul",{className:"grid sm:grid-cols-2 gap-4",children:[0,1,2,3].map(a=>b.jsxs("li",{className:"flex items-center gap-2 text-sm font-bold text-slate-300 bg-white/5 p-3 rounded-lg border border-white/5",children:[b.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),t(`docsContent.core.wellnessScore.items.${a}`)]},a))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black",children:[b.jsx("div",{className:"bg-indigo-500/10 p-3 rounded-2xl text-indigo-500",children:b.jsx(Af,{size:24})}),b.jsx("h3",{children:t("docsContent.core.statusEngine.title")})]}),b.jsxs("p",{className:"text-slate-400 leading-relaxed",children:[t("docsContent.core.statusEngine.desc"),b.jsxs("span",{className:"text-white font-bold",children:[" ",t("docsContent.core.statusEngine.freeTier")]})," ",t("docsContent.core.statusEngine.freeDesc"),b.jsxs("span",{className:"text-amber-400 font-bold",children:[" ",t("docsContent.core.statusEngine.proTier")]})," ",t("docsContent.core.statusEngine.proDesc")]})]})]})]}),b.jsxs("section",{className:"grid md:grid-cols-[200px_1fr] gap-10 border-t border-white/5 pt-10",children:[b.jsx("div",{className:"text-indigo-400 font-black uppercase tracking-widest text-sm sticky top-24 self-start",children:t("docsContent.biometrics.title")}),b.jsxs("div",{className:"space-y-12",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black",children:[b.jsx("div",{className:"bg-slate-800 p-3 rounded-2xl text-white",children:b.jsx(XW,{size:24})}),b.jsx("h3",{children:t("docsContent.biometrics.hud.title")})]}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("docsContent.biometrics.hud.desc")}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 text-blue-400 font-black uppercase text-xs tracking-widest",children:[b.jsx(x0,{size:14})," ",t("docsContent.biometrics.hud.visual.title")]}),b.jsx("p",{className:"text-sm text-slate-400",children:t("docsContent.biometrics.hud.visual.desc")})]}),b.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 text-pink-400 font-black uppercase text-xs tracking-widest",children:[b.jsx(fY,{size:14})," ",t("docsContent.biometrics.hud.audio.title")]}),b.jsx("p",{className:"text-sm text-slate-400",children:t("docsContent.biometrics.hud.audio.desc")})]})]}),b.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex items-start gap-3",children:[b.jsx(b0,{size:20,className:"text-yellow-500 shrink-0 mt-1"}),b.jsxs("p",{className:"text-xs text-yellow-200/80 leading-relaxed",children:[b.jsx("strong",{children:t("docsContent.biometrics.hud.privacy.title")})," ",t("docsContent.biometrics.hud.privacy.desc")]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black",children:[b.jsx("div",{className:"bg-red-500/10 p-3 rounded-2xl text-red-500",children:b.jsx(ru,{size:24})}),b.jsx("h3",{children:t("docsContent.biometrics.handsFree.title")})]}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("docsContent.biometrics.handsFree.desc")})]})]})]}),b.jsxs("section",{className:"grid md:grid-cols-[200px_1fr] gap-10 border-t border-white/5 pt-10",children:[b.jsx("div",{className:"text-emerald-400 font-black uppercase tracking-widest text-sm sticky top-24 self-start",children:t("docsContent.oracle.title")}),b.jsx("div",{className:"space-y-12",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black",children:[b.jsx("div",{className:"bg-emerald-500/10 p-3 rounded-2xl text-emerald-500",children:b.jsx(Ev,{size:24})}),b.jsx("h3",{children:t("docsContent.oracle.chat.title")})]}),b.jsx("p",{className:"text-slate-400 leading-relaxed",children:t("docsContent.oracle.chat.desc")}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-4 bg-slate-900 p-4 rounded-2xl border border-white/5",children:[b.jsx("div",{className:"bg-blue-600/20 p-2 rounded-lg text-blue-400 font-black text-xs uppercase tracking-widest w-24 text-center",children:t("docsContent.oracle.chat.modes.0.name")}),b.jsx("p",{className:"text-sm text-slate-300",children:t("docsContent.oracle.chat.modes.0.desc")})]}),b.jsxs("div",{className:"flex items-center gap-4 bg-slate-900 p-4 rounded-2xl border border-white/5",children:[b.jsx("div",{className:"bg-amber-600/20 p-2 rounded-lg text-amber-400 font-black text-xs uppercase tracking-widest w-24 text-center",children:t("docsContent.oracle.chat.modes.1.name")}),b.jsx("p",{className:"text-sm text-slate-300",children:t("docsContent.oracle.chat.modes.1.desc")})]}),b.jsxs("div",{className:"flex items-center gap-4 bg-slate-900 p-4 rounded-2xl border border-white/5",children:[b.jsx("div",{className:"bg-emerald-600/20 p-2 rounded-lg text-emerald-400 font-black text-xs uppercase tracking-widest w-24 text-center",children:t("docsContent.oracle.chat.modes.2.name")}),b.jsx("p",{className:"text-sm text-slate-300",children:t("docsContent.oracle.chat.modes.2.desc")})]})]})]})})]}),b.jsxs("section",{className:"grid md:grid-cols-[200px_1fr] gap-10 border-t border-white/5 pt-10 pb-20",children:[b.jsx("div",{className:"text-amber-400 font-black uppercase tracking-widest text-sm sticky top-24 self-start",children:t("docsContent.proTools.title")}),b.jsx("div",{className:"space-y-12",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h3",{className:"text-xl font-black flex items-center gap-2",children:[b.jsx(fS,{size:20,className:"text-blue-500"})," ",t("docsContent.proTools.meditation.title")]}),b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:t("docsContent.proTools.meditation.desc")})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h3",{className:"text-xl font-black flex items-center gap-2",children:[b.jsx(_v,{size:20,className:"text-indigo-500"})," ",t("docsContent.proTools.forecast.title")]}),b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:t("docsContent.proTools.forecast.desc")})]})]})})]})]})]})},rTe=()=>{var d;const{featureId:t}=W$(),e=Fo(),n=si(),{t:r,dir:i}=Zr(),a=((d=n.state)==null?void 0:d.from)==="dashboard"?"/dashboard":"/";ne.useEffect(()=>{window.scrollTo(0,0)},[]);const o={"vision-biometrics":{id:"vision-biometrics",title:r("detailedFeatures.vision-biometrics.title"),icon:b.jsx(x0,{className:"w-12 h-12 text-blue-500"}),purpose:r("detailedFeatures.vision-biometrics.purpose"),role:r("detailedFeatures.vision-biometrics.role"),importance:r("detailedFeatures.vision-biometrics.importance"),technicalDetails:r("detailedFeatures.vision-biometrics.technical")},"vocal-stress-probe":{id:"vocal-stress-probe",title:r("detailedFeatures.vocal-stress-probe.title"),icon:b.jsx(Sj,{className:"w-12 h-12 text-magenta-500"}),purpose:r("detailedFeatures.vocal-stress-probe.purpose"),role:r("detailedFeatures.vocal-stress-probe.role"),importance:r("detailedFeatures.vocal-stress-probe.importance"),technicalDetails:r("detailedFeatures.vocal-stress-probe.technical")},"predictive-burnout":{id:"predictive-burnout",title:r("detailedFeatures.predictive-burnout.title"),icon:b.jsx(ru,{className:"w-12 h-12 text-indigo-400"}),purpose:r("detailedFeatures.predictive-burnout.purpose"),role:r("detailedFeatures.predictive-burnout.role"),importance:r("detailedFeatures.predictive-burnout.importance"),technicalDetails:r("detailedFeatures.predictive-burnout.technical")},"privacy-core":{id:"privacy-core",title:r("detailedFeatures.privacy-core.title"),icon:b.jsx(ns,{className:"w-12 h-12 text-emerald-400"}),purpose:r("detailedFeatures.privacy-core.purpose"),role:r("detailedFeatures.privacy-core.role"),importance:r("detailedFeatures.privacy-core.importance"),technicalDetails:r("detailedFeatures.privacy-core.technical")},"adhd-hub":{id:"adhd-hub",title:r("detailedFeatures.adhd-hub.title"),icon:b.jsx(Ev,{className:"w-12 h-12 text-orange-400"}),purpose:r("detailedFeatures.adhd-hub.purpose")||"Specialized focus environment",role:r("detailedFeatures.adhd-hub.role")||"High contrast interface",importance:r("detailedFeatures.adhd-hub.importance")||"Standard tools overwhelm",technicalDetails:r("detailedFeatures.adhd-hub.technical")||"Dynamic UI contrast"},"platform-root":{id:"platform-root",title:r("detailedFeatures.platform-root.title"),icon:b.jsx(_v,{className:"w-12 h-12 text-cyan-400"}),purpose:r("detailedFeatures.platform-root.purpose")||"Visualize long term trends",role:r("detailedFeatures.platform-root.role")||"Historian of health events",importance:r("detailedFeatures.platform-root.importance")||"Self awareness requires data",technicalDetails:r("detailedFeatures.platform-root.technical")||"Firestore indexed queries"}},c=t?o[t]:null;return c?b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 selection:bg-blue-500/30",dir:i,children:[b.jsx("nav",{className:"flex items-center justify-between px-8 py-6 max-w-7xl mx-auto sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Mn,{to:a,className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:b.jsx(Sh,{size:24,className:i==="rtl"?"rotate-180":""})}),b.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tighter",children:[b.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg",children:b.jsx(Ra,{size:18,className:"text-white"})}),b.jsx("span",{children:"DevWell"})]})]})}),b.jsxs("main",{className:"max-w-4xl mx-auto px-8 py-20",children:[b.jsxs("div",{className:"mb-16 text-center",children:[b.jsx("div",{className:"inline-flex items-center justify-center p-6 bg-slate-900 border border-white/10 rounded-3xl mb-8 shadow-2xl",children:b.jsx("div",{className:"text-blue-500 scale-150",children:c.icon})}),b.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 tracking-tighter bg-gradient-to-b from-white to-slate-500 bg-clip-text text-transparent",children:c.title}),b.jsx("p",{className:"text-xl text-slate-400 font-medium max-w-2xl mx-auto leading-relaxed",children:c.purpose})]}),b.jsxs("div",{className:"grid gap-8",children:[b.jsx("div",{className:"glass-card p-10 rounded-[40px] border border-white/5 bg-slate-900/50",children:b.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[b.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400 mt-1",children:b.jsx(Af,{size:20})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black uppercase mb-3",children:r("features.role")||"The Role"}),b.jsx("p",{className:"text-slate-400 leading-relaxed text-lg",children:c.role})]})]})}),b.jsx("div",{className:"glass-card p-10 rounded-[40px] border border-white/5 bg-slate-900/50",children:b.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[b.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-400 mt-1",children:b.jsx(wm,{size:20})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black uppercase mb-3",children:r("features.importance")||"Why It Matters"}),b.jsx("p",{className:"text-slate-400 leading-relaxed text-lg",children:c.importance})]})]})}),b.jsxs("div",{className:"p-8 rounded-[32px] bg-white/5 border border-white/5 mt-8",children:[b.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500 mb-4",children:r("features.technical")||"Technical Architecture"}),b.jsx("p",{className:"text-sm font-mono text-slate-400",children:c.technicalDetails})]})]}),b.jsx("div",{className:"mt-20 flex justify-center",children:b.jsx(Mn,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white px-10 py-5 rounded-full font-black uppercase tracking-widest text-sm transition-all shadow-xl hover:shadow-blue-600/20 hover:scale-105",children:r("features.try",{0:c.title})||`Try ${c.title} Now`})})]})]}):b.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",dir:i,children:b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:r("features.notFound")||"Feature Not Found"}),b.jsx("button",{onClick:()=>e(a),className:"text-blue-500 underline",children:r("about.returnHome")||"Return Home"})]})})},iTe=()=>{var i;const{t,dir:e}=Zr(),r=((i=si().state)==null?void 0:i.from)==="dashboard"?"/dashboard":"/";return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 selection:bg-blue-500/30",dir:e,children:[b.jsx("nav",{className:"flex items-center justify-between px-8 py-10 max-w-7xl mx-auto",children:b.jsxs(Mn,{to:r,className:"flex items-center gap-4 group",children:[b.jsx("div",{className:"p-3 bg-white/5 rounded-2xl group-hover:bg-white/10 transition-all border border-white/5",children:e==="rtl"?b.jsx(Ll,{size:20,className:"rotate-180"}):b.jsx(Ll,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500 block",children:t("neuralHub")}),b.jsx("span",{className:"text-lg font-black tracking-tighter uppercase",children:t("wellnessResources")})]})]})}),b.jsxs("header",{className:"max-w-7xl mx-auto px-8 py-20 text-center space-y-6",children:[b.jsx("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-none",children:t("devWellnessHub")}),b.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto font-medium leading-relaxed",children:t("wellnessHeroDesc")})]}),b.jsxs("main",{className:"max-w-7xl mx-auto px-8 pb-32",children:[b.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-20",children:[b.jsxs("div",{className:"glass-card rounded-[40px] p-12 border border-white/5 space-y-8 group hover:border-blue-500/30 transition-all",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:b.jsx(x0,{size:32})}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-blue-600/10 text-blue-400 px-4 py-2 rounded-full",children:t("visionSecurity")})]}),b.jsx("h3",{className:"text-3xl font-black uppercase tracking-tight",children:t("rule202020")}),b.jsx("p",{className:"text-slate-400 leading-relaxed font-medium",children:t("rule20Desc")}),b.jsx("ul",{className:"space-y-4",children:[t("reducesHeadaches"),t("preventsFocusShift"),t("resetsPressure")].map((a,o)=>b.jsxs("li",{className:"flex items-center gap-3 text-xs font-bold text-slate-300",children:[b.jsx(im,{size:14,className:"text-blue-500"})," ",a]},o))})]}),b.jsxs("div",{className:"glass-card rounded-[40px] p-12 border border-white/5 space-y-8 group hover:border-emerald-500/30 transition-all",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"w-16 h-16 bg-emerald-600/10 rounded-2xl flex items-center justify-center text-emerald-500 border border-emerald-500/20",children:b.jsx(IY,{size:32})}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-emerald-600/10 text-emerald-400 px-4 py-2 rounded-full",children:t("neuralCalm")})]}),b.jsx("h3",{className:"text-3xl font-black uppercase tracking-tight",children:t("boxBreathing")}),b.jsx("p",{className:"text-slate-400 leading-relaxed font-medium",children:t("boxBreathingDesc")}),b.jsx("ul",{className:"space-y-4",children:[t("loweredHeartRate"),t("improvedReasoning"),t("resetsAmygdala")].map((a,o)=>b.jsxs("li",{className:"flex items-center gap-3 text-xs font-bold text-slate-300",children:[b.jsx(im,{size:14,className:"text-emerald-500"})," ",a]},o))})]})]}),b.jsxs("div",{className:"space-y-10",children:[b.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.5em] text-slate-500 text-center",children:t("neuralOptimizationTips")}),b.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:b.jsx(tY,{}),title:t("caffeineCurfew"),desc:t("caffeineCurfewDesc")},{icon:b.jsx(pY,{}),title:t("microStretches"),desc:t("microStretchesDesc")},{icon:b.jsx(hY,{}),title:t("darkModeCycle"),desc:t("darkModeCycleDesc")}].map((a,o)=>b.jsxs("div",{className:"p-8 bg-white/5 rounded-3xl border border-white/5 hover:bg-white/10 transition-all",children:[b.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center mb-6 border border-white/5 text-slate-300",children:a.icon}),b.jsx("h5",{className:"text-lg font-black uppercase tracking-tight mb-3",children:a.title}),b.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-bold",children:a.desc})]},o))})]}),b.jsxs("div",{className:"mt-32 p-16 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-[48px] text-center space-y-8 relative overflow-hidden shadow-2xl",children:[b.jsx(im,{className:"absolute top-0 right-0 text-white/10 w-64 h-64 -translate-y-1/2 translate-x-1/2"}),b.jsx("h3",{className:"text-4xl md:text-5xl font-black tracking-tighter uppercase leading-none text-white",children:t("integrateDailySync")}),b.jsx("p",{className:"text-white/70 max-w-xl mx-auto font-medium",children:t("devWellsDashboardDesc")}),b.jsxs(Mn,{to:"/register",className:"bg-white text-blue-600 px-10 py-5 rounded-full font-black uppercase tracking-widest text-sm transition-all hover:scale-105 inline-flex items-center gap-2",children:[t("initializeGuardian")," ",b.jsx($W,{size:18})]})]})]})]})},aTe=()=>{var y;const t=Fo(),e=si(),{t:n,dir:r}=Zr(),[i,a]=ne.useState(!1),[o,c]=ne.useState("selection"),d=(y=Lt.currentUser)==null?void 0:y.uid,u=()=>{var I;const _=(I=e.state)==null?void 0:I.from;t(_==="dashboard"?"/dashboard":_==="landing"?"/":-1)},m=async()=>{if(!d){t("/login");return}a(!0),await new Promise(_=>setTimeout(_,2e3)),await Lt.upgradeUser(d),a(!1),t("/dashboard")};return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-8 md:p-20 overflow-x-hidden",dir:r,children:[b.jsxs("button",{onClick:u,className:"mb-12 flex items-center gap-2 text-slate-500 hover:text-white transition-colors uppercase text-[10px] font-black tracking-widest",children:[r==="rtl"?b.jsx(Ll,{size:16,className:"rotate-180"}):b.jsx(Ll,{size:16}),n("backToHub")]}),o==="selection"?b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-20",children:[b.jsxs("h1",{className:"text-6xl font-black tracking-tighter mb-6",children:[n("elevateFlow")," ",b.jsx("br",{}),b.jsx("span",{className:"text-blue-500",children:n("neuralFlowTitle")})]}),b.jsx("p",{className:"text-slate-400 text-lg",children:n("chooseProtocol")})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[b.jsxs("div",{className:"glass-card rounded-[48px] p-12 border border-white/5 space-y-10 opacity-70",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:n("standardSync")}),b.jsx("p",{className:"text-slate-500 text-sm font-bold",children:n("baselineTracking")})]}),b.jsxs("div",{className:"text-5xl font-black",children:["$0",b.jsx("span",{className:"text-xl text-slate-600",children:"/mo"})]}),b.jsx("ul",{className:"space-y-4",children:[n("basicPosture"),n("geminiFlash"),n("wellnessStream"),n("sevenDayHistory"),n("focusChart")].map(_=>b.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[b.jsx(uO,{size:16,className:"text-slate-600"})," ",_]},_))}),b.jsx("button",{disabled:!0,className:"w-full py-5 rounded-[24px] bg-white/5 text-slate-500 font-black text-xs uppercase tracking-widest",children:n("currentProtocol")})]}),b.jsxs("div",{className:"glass-card rounded-[48px] p-12 border-2 border-blue-500 relative overflow-hidden shadow-[0_0_80px_rgba(59,130,246,0.2)]",children:[b.jsx("div",{className:`absolute top-8 ${r==="rtl"?"left-8":"right-8"} bg-blue-600 px-4 py-1 rounded-full text-[10px] font-black uppercase`,children:n("mostPowerful")}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight flex items-center gap-2",children:[n("zenPro")," ",b.jsx(Uy,{size:20,fill:"currentColor"})]}),b.jsx("p",{className:"text-blue-400 text-sm font-bold",children:n("neuralCommand")})]}),b.jsxs("div",{className:"text-5xl font-black",children:["$19",b.jsx("span",{className:"text-xl text-slate-600",children:"/mo"})]}),b.jsx("ul",{className:"space-y-4",children:[n("predictiveOracle"),n("veoVideo"),n("multiSpeaker"),n("unlimitedData"),n("priorityAccess"),n("cortisolHeatmap")].map(_=>b.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-100",children:[b.jsx(uO,{size:16,className:"text-blue-500"})," ",_]},_))}),b.jsx("button",{onClick:()=>c("payment"),className:"w-full py-5 rounded-[24px] bg-blue-600 hover:bg-blue-700 text-white font-black text-xs uppercase tracking-widest shadow-xl shadow-blue-600/30 transition-all hover:scale-[1.02] mb-4",children:n("initUpgrade")}),b.jsxs("button",{onClick:async()=>{a(!0);try{await Lt.activateDemoMode(),t("/dashboard")}catch(_){console.error(_)}finally{a(!1)}},className:"w-full flex items-center justify-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest hover:text-white transition-colors",children:[b.jsx(Af,{size:12})," ",n("tryDemo")]})]})]})]}):b.jsxs("div",{className:"max-w-md mx-auto relative animate-in slide-in-from-right",children:[i&&b.jsxs("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center gap-4 rounded-[40px]",children:[b.jsx(Aj,{size:40,className:"text-blue-500 animate-spin"}),b.jsx("p",{className:"text-xs font-black uppercase tracking-widest animate-pulse",children:n("processingPayment")})]}),b.jsxs("div",{className:"glass-card p-10 rounded-[40px] border border-blue-500/30 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 pointer-events-none",children:b.jsx(fO,{size:200})}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-1",children:n("secureGateway")}),b.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[b.jsx(b0,{size:14}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:n("encryptedTransaction")})]})]}),b.jsxs("div",{className:"space-y-6 relative z-10",children:[b.jsxs("div",{className:"p-6 bg-blue-600/10 rounded-3xl border border-blue-500/20 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1",children:n("zenPro")}),b.jsx("p",{className:"font-bold text-lg",children:"$19.00 / month"})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:n("totalDue")}),b.jsx("p",{className:"font-black text-2xl text-white",children:"$19.00"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:n("cardNumber")}),b.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl p-4 flex items-center gap-3",children:[b.jsx(fO,{size:18,className:"text-slate-400"}),b.jsx("input",{type:"text",placeholder:"0000 0000 0000 0000",className:"bg-transparent border-none w-full outline-none font-mono text-sm placeholder:text-slate-700"})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"space-y-2 flex-1",children:[b.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:n("expiryDate")}),b.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full bg-slate-900 border border-white/10 rounded-2xl p-4 outline-none font-mono text-sm placeholder:text-slate-700 text-center"})]}),b.jsxs("div",{className:"space-y-2 flex-1",children:[b.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:n("cvc")}),b.jsx("input",{type:"text",placeholder:"123",className:"w-full bg-slate-900 border border-white/10 rounded-2xl p-4 outline-none font-mono text-sm placeholder:text-slate-700 text-center"})]})]})]}),b.jsx("button",{onClick:m,className:"w-full py-5 bg-white text-slate-950 rounded-2xl font-black uppercase tracking-widest text-xs hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-white/10 mt-4",children:n(i?"processing":"confirmPayment")}),b.jsx("button",{onClick:()=>c("selection"),className:"w-full py-2 text-slate-500 font-bold uppercase tracking-widest text-[10px] hover:text-white transition-colors",children:n("cancel")})]})]})]})]})},oTe=()=>{var a;const{t,dir:e}=Zr(),n=Fo(),i=((a=si().state)==null?void 0:a.from)==="dashboard"?"/dashboard":"/";return ne.useEffect(()=>{window.scrollTo(0,0)},[]),b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-blue-500/30",dir:e,children:[b.jsxs("nav",{className:"flex items-center justify-between px-8 py-6 max-w-5xl mx-auto sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>n(i),className:"p-2 hover:bg-white/5 rounded-full transition-colors text-slate-400 hover:text-white",children:b.jsx(Sh,{size:24,className:e==="rtl"?"rotate-180":""})}),b.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tighter",children:[b.jsx(b0,{size:24,className:"text-emerald-500"}),b.jsx("span",{children:t("legal.privacy.title")})]})]}),b.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:[t("legal.terms.lastUpdated"),": Jan 2026"]})]}),b.jsx("main",{className:"max-w-3xl mx-auto py-16 px-8",children:b.jsxs("div",{className:"space-y-12",children:[b.jsxs("section",{children:[b.jsx("h1",{className:"text-4xl font-black mb-6 tracking-tighter",children:t("legal.privacy.title")}),b.jsx("p",{className:"text-lg text-slate-400 leading-relaxed",children:t("legalContent.privacy.intro")})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(ns,{className:"text-blue-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.privacy.sections.collection")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsx("p",{children:t("legalContent.privacy.biometrics")})})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(bY,{className:"text-indigo-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.privacy.sections.security")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsx("p",{children:t("legalContent.privacy.localFirst")})})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(x0,{className:"text-red-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.privacy.sections.use")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsx("p",{children:t("legalContent.privacy.noSurveillance")})})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(EY,{className:"text-emerald-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.privacy.sections.thirdParty")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsx("p",{children:t("legalContent.privacy.thirdParty")})})]}),b.jsxs("div",{className:"p-6 rounded-2xl bg-slate-900 border border-white/10 mt-12",children:[b.jsx("h3",{className:"font-bold mb-2",children:"Questions?"}),b.jsx("p",{className:"text-sm text-slate-400",children:t("legalContent.privacy.contact")})]})]})})]})},sTe=()=>{var a;const{t,dir:e}=Zr(),n=Fo(),i=((a=si().state)==null?void 0:a.from)==="dashboard"?"/dashboard":"/";return ne.useEffect(()=>{window.scrollTo(0,0)},[]),b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-blue-500/30",dir:e,children:[b.jsxs("nav",{className:"flex items-center justify-between px-8 py-6 max-w-5xl mx-auto sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>n(i),className:"p-2 hover:bg-white/5 rounded-full transition-colors text-slate-400 hover:text-white",children:b.jsx(Sh,{size:24,className:e==="rtl"?"rotate-180":""})}),b.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tighter",children:[b.jsx(_j,{size:24,className:"text-blue-500"}),b.jsx("span",{children:t("legal.terms.title")})]})]}),b.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:[t("legal.terms.lastUpdated"),": Jan 2026"]})]}),b.jsx("main",{className:"max-w-3xl mx-auto py-16 px-8",children:b.jsxs("div",{className:"space-y-12",children:[b.jsxs("section",{children:[b.jsx("h1",{className:"text-4xl font-black mb-6 tracking-tighter",children:t("legal.terms.title")}),b.jsx("p",{className:"text-lg text-slate-400 leading-relaxed",children:t("legalContent.terms.intro")})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ij,{className:"text-amber-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.terms.sections.disclaimer")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed p-6 bg-amber-900/10 border border-amber-500/20 rounded-2xl",children:b.jsx("p",{className:"font-bold text-amber-200",children:t("legalContent.terms.medicalDisclaimer")})})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(wm,{className:"text-green-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.terms.sections.acceptance")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsxs("ul",{className:"list-disc ml-4 space-y-2",children:[b.jsx("li",{children:t("legalContent.terms.userResp.item1")}),b.jsx("li",{children:t("legalContent.terms.userResp.item2")}),b.jsx("li",{children:t("legalContent.terms.userResp.item3")})]})})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(yY,{className:"text-indigo-500"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.terms.sections.license")})]}),b.jsxs("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:[b.jsx("p",{children:t("legalContent.terms.subs.text1")}),b.jsx("p",{children:t("legalContent.terms.subs.text2")})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(b0,{className:"text-slate-400"}),b.jsx("h2",{className:"text-xl font-bold",children:t("legal.terms.sections.limitations")})]}),b.jsx("div",{className:"pl-9 space-y-4 text-slate-400 text-sm leading-relaxed",children:b.jsx("p",{children:t("legalContent.terms.liability.text")})})]})]})})]})},lTe=()=>{var m;const{t,dir:e}=Zr(),n=Fo(),i=((m=si().state)==null?void 0:m.from)==="dashboard"?"/dashboard":"/";ne.useEffect(()=>{window.scrollTo(0,0)},[]);const[a,o]=ne.useState({name:"",email:"",issue:"general",message:""}),[c,d]=ne.useState(!1),u=async y=>{y.preventDefault();const _=Lt.currentUser;await Lt.saveSupportTicket({...a,userId:_?_.uid:void 0}),d(!0)};return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-blue-500/30",dir:e,children:[b.jsx("nav",{className:"flex items-center justify-between px-8 py-6 max-w-5xl mx-auto sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>n(i),className:"p-2 hover:bg-white/5 rounded-full transition-colors text-slate-400 hover:text-white",children:b.jsx(Sh,{size:24,className:e==="rtl"?"rotate-180":""})}),b.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl tracking-tighter",children:[b.jsx(OC,{size:24,className:"text-red-500"}),b.jsx("span",{children:t("support.title")})]})]})}),b.jsxs("main",{className:"max-w-5xl mx-auto py-16 px-8",children:[b.jsx("h1",{className:"text-5xl font-black text-center mb-6 tracking-tighter",children:t("support.subtitle")}),b.jsx("p",{className:"text-center text-slate-400 max-w-xl mx-auto mb-20",children:t("feedback.helpImprove")}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-16",children:[b.jsxs("div",{className:"space-y-12",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight flex items-center gap-3",children:[b.jsx(jd,{className:"text-blue-500"})," ",t("support.contactInfo.title")]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("a",{href:"mailto:anaskessou4@gmail.com",className:"group flex items-center gap-4 p-6 bg-white/5 border border-white/5 rounded-3xl hover:bg-blue-600/10 hover:border-blue-500/30 transition-all",children:[b.jsx("div",{className:"p-3 bg-slate-900 rounded-xl group-hover:scale-110 transition-transform",children:b.jsx(jd,{size:20,className:"text-blue-400"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:t("support.contactInfo.emailUs")}),b.jsx("p",{className:"font-bold",children:"anaskessou4@gmail.com"})]})]}),b.jsxs("a",{href:"https://github.com/anaskessou",target:"_blank",rel:"noreferrer",className:"group flex items-center gap-4 p-6 bg-white/5 border border-white/5 rounded-3xl hover:bg-slate-800 transition-all",children:[b.jsx("div",{className:"p-3 bg-slate-900 rounded-xl group-hover:scale-110 transition-transform",children:b.jsx(Av,{size:20,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Code Repository"}),b.jsx("p",{className:"font-bold",children:"github.com/anaskessou"})]})]}),b.jsxs("a",{href:"#",className:"group flex items-center gap-4 p-6 bg-white/5 border border-white/5 rounded-3xl hover:bg-sky-500/10 hover:border-sky-500/30 transition-all",children:[b.jsx("div",{className:"p-3 bg-slate-900 rounded-xl group-hover:scale-110 transition-transform",children:b.jsx(AY,{size:20,className:"text-sky-400"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Social Updates"}),b.jsx("p",{className:"font-bold",children:"@AnasKessouDev"})]})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-3",children:[b.jsx(uY,{className:"text-red-500"})," Developer Base"]}),b.jsxs("p",{className:"text-slate-400 text-sm",children:["DevWell HQ",b.jsx("br",{}),"Remote / Digital Nomad",b.jsx("br",{}),"Currently: Planet Earth"]})]})]}),b.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-[40px] p-8",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx(uS,{className:"text-emerald-500"}),b.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:t("support.sendMessage")})]}),c?b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center py-12 animate-in fade-in zoom-in",children:[b.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 text-emerald-500 rounded-full flex items-center justify-center mb-6",children:b.jsx(Tj,{size:32})}),b.jsx("h3",{className:"text-2xl font-bold mb-2",children:t("feedback.thankYou")}),b.jsx("p",{className:"text-slate-400",children:t("feedback.helpImprove")}),b.jsx("button",{onClick:()=>d(!1),className:"mt-8 text-blue-400 hover:text-blue-300 font-bold text-sm",children:"Send another"})]}):b.jsxs("form",{onSubmit:u,className:"space-y-6",children:[b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 pl-4",children:t("support.form.name")}),b.jsx("input",{type:"text",required:!0,value:a.name,onChange:y=>o({...a,name:y.target.value}),className:"w-full bg-slate-900 border border-white/10 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-colors"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 pl-4",children:t("support.form.email")}),b.jsx("input",{type:"email",required:!0,value:a.email,onChange:y=>o({...a,email:y.target.value}),className:"w-full bg-slate-900 border border-white/10 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-colors"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 pl-4",children:t("support.form.subject")}),b.jsxs("select",{className:"w-full bg-slate-900 border border-white/10 rounded-2xl px-6 py-4 focus:outline-none focus:border-blue-500 transition-colors appearance-none",value:a.issue,onChange:y=>o({...a,issue:y.target.value}),children:[b.jsx("option",{value:"general",children:"General Inquiry"}),b.jsx("option",{value:"bug",children:"Report a Bug"}),b.jsx("option",{value:"feature",children:"Feature Request"}),b.jsx("option",{value:"billing",children:"Billing Issue"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 pl-4",children:t("support.form.message")}),b.jsx("textarea",{required:!0,value:a.message,onChange:y=>o({...a,message:y.target.value}),className:"w-full bg-slate-900 border border-white/10 rounded-2xl px-6 py-4 min-h-[150px] focus:outline-none focus:border-blue-500 transition-colors"})]}),b.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl transition-all hover:scale-[1.02] active:scale-[0.98]",children:t("support.form.submit")})]})]})]})]})]})};class cTe extends ne.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?b.jsxs("div",{className:"p-8 text-red-500 bg-slate-900 h-screen",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),b.jsx("pre",{className:"bg-slate-800 p-4 rounded overflow-auto",children:this.state.error&&this.state.error.toString()})]}):this.props.children}}const uTe=()=>{var u;const t=si(),e=Fo(),n=(u=t.state)==null?void 0:u.sessionId,r=ne.useRef(null),i=ne.useRef(null),[a,o]=ne.useState(!0),[c,d]=ne.useState(null);return ne.useEffect(()=>{if(!n){e("/login");return}return(async()=>{try{const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:320,height:240},audio:!1});d(y),r.current&&(r.current.srcObject=y)}catch(y){console.error("Camera failed",y),alert("Camera access required for sensor mode.")}})(),()=>{c&&c.getTracks().forEach(y=>y.stop())}},[n,e]),ne.useEffect(()=>{if(!a||!n)return;const m=setInterval(async()=>{if(r.current&&i.current){const y=i.current.getContext("2d");if(y){y.drawImage(r.current,0,0,320,240);const _=i.current.toDataURL("image/jpeg",.5);await Lt.updateSessionData(n,_)}}},1e3);return()=>clearInterval(m)},[a,n]),b.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[b.jsx("div",{className:`absolute inset-0 bg-blue-900/20 transition-opacity duration-500 ${a?"animate-pulse":"opacity-0"}`}),b.jsxs("div",{className:"z-10 w-full max-w-sm flex flex-col gap-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 animate-pulse"}),b.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:"Neural Link Active"})]}),b.jsx("button",{onClick:()=>e("/login"),className:"bg-white/10 p-2 rounded-full",children:b.jsx(ZW,{size:20})})]}),b.jsxs("div",{className:"relative aspect-[3/4] rounded-3xl overflow-hidden border-4 border-blue-500/30 bg-slate-900 shadow-2xl shadow-blue-500/20",children:[b.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover opacity-80"}),b.jsx("canvas",{ref:i,width:"320",height:"240",className:"hidden"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(CY,{className:"text-blue-400"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Uplink Status"}),b.jsx("p",{className:"text-xs font-bold text-white",children:"Streaming to Host"})]})]})})]}),b.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5 space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 text-amber-500",children:[b.jsx(Af,{size:18}),b.jsx("p",{className:"text-xs font-black uppercase",children:"Power Preservation"})]}),b.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:"Screen will dim automatically. Do not lock your device. Focus on placing your phone in a stable position facing you."})]})]})]})},fTe=()=>{const[t,e]=ne.useState(!1),[n,r]=ne.useState(!0),[i,a]=ne.useState(null),[o,c]=ne.useState(!0);ne.useEffect(()=>{const u=Lt.onAuthChange(m=>{m?(e(!0),a(m.email)):(e(!1),a(null)),r(!1)});return()=>u()},[]);const d=u=>{a(u),e(!0)};return n?b.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-cyan-500",children:"Loading..."}):b.jsx(NY,{children:b.jsx("div",{className:`${o?"dark":""} min-h-screen transition-colors duration-300`,children:b.jsx(cTe,{children:b.jsx(MW,{children:b.jsx("div",{className:"bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-100 min-h-screen",children:b.jsxs(lW,{children:[b.jsx(Hi,{path:"/",element:b.jsx(RY,{})}),b.jsx(Hi,{path:"/about",element:b.jsx(tTe,{})}),b.jsx(Hi,{path:"/docs",element:b.jsx(nTe,{})}),b.jsx(Hi,{path:"/feature/:featureId",element:b.jsx(rTe,{})}),b.jsx(Hi,{path:"/wellness",element:b.jsx(iTe,{})}),b.jsx(Hi,{path:"/pricing",element:b.jsx(aTe,{})}),b.jsx(Hi,{path:"/privacy",element:b.jsx(oTe,{})}),b.jsx(Hi,{path:"/terms",element:b.jsx(sTe,{})}),b.jsx(Hi,{path:"/support",element:b.jsx(lTe,{})}),b.jsx(Hi,{path:"/login",element:b.jsx(zSe,{onLogin:d})}),b.jsx(Hi,{path:"/register",element:b.jsx(HSe,{onRegister:()=>d("user@example.com")})}),b.jsx(Hi,{path:"/sensor-mode",element:b.jsx(uTe,{})}),b.jsx(Hi,{path:"/dashboard",element:t?b.jsx(tSe,{}):b.jsx(lO,{to:"/login"})}),b.jsx(Hi,{path:"/dashboard/settings",element:t?b.jsx(eTe,{}):b.jsx(lO,{to:"/login"})}),b.jsx(Hi,{path:"/admin",element:b.jsx(qSe,{})})]})})})})})})},Hq=document.getElementById("root");if(!Hq)throw new Error("Could not find root element to mount to");const dTe=v$.createRoot(Hq);dTe.render(b.jsx(le.StrictMode,{children:b.jsx(fTe,{})}));
